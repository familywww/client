(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-69e6188c"],{"0029":function(t,e,i){"use strict";e.__esModule=!0;var n=i("e229"),r=h(n),s=i("4e2d"),a=u(s),o=i("9869"),l=h(o);function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function h(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function p(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t,e){for(var i=0;i<t.length;i++)e.id!==t[i].id&&(t[i].selected=!1)},m=function(t){function e(){var i,n,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];c(this,e);for(var o=void 0,u=s.length-1;u>=0;u--)if(s[u].selected){f(s,s[u]);break}if(a.IS_IE8){for(var h in o=l["default"].createElement("custom"),r["default"].prototype)"constructor"!==h&&(o[h]=r["default"].prototype[h]);for(var p in e.prototype)"constructor"!==p&&(o[p]=e.prototype[p])}return i=d(this,t.call(this,s,o)),o=i,o.changing_=!1,Object.defineProperty(o,"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),n=o,d(i,n)}return p(e,t),e.prototype.addTrack_=function(e){var i=this;e.selected&&f(this,e),t.prototype.addTrack_.call(this,e),e.addEventListener&&e.addEventListener("selectedchange",(function(){i.changing_||(i.changing_=!0,f(i,e),i.changing_=!1,i.trigger("change"))}))},e.prototype.addTrack=function(t){this.addTrack_(t)},e.prototype.removeTrack=function(e){t.prototype.removeTrack_.call(this,e)},e}(r["default"]);e["default"]=m},"045f":function(t,e,i){"use strict";var n=i("be09"),r=i("a559"),s=i("8362"),a=function(t){var e={};return t?(t.trim().split("\n").forEach((function(t){var i=t.indexOf(":"),n=t.slice(0,i).trim().toLowerCase(),r=t.slice(i+1).trim();"undefined"===typeof e[n]?e[n]=r:Array.isArray(e[n])?e[n].push(r):e[n]=[e[n],r]})),e):e};function o(t,e){for(var i=0;i<t.length;i++)e(t[i])}function l(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function u(t,e,i){var n=t;return s(e)?(i=e,"string"===typeof t&&(n={uri:t})):n=r({},e,{uri:t}),n.callback=i,n}function h(t,e,i){return e=u(t,e,i),c(e)}function c(t){if("undefined"===typeof t.callback)throw new Error("callback argument missing");var e=!1,i=function(i,n,r){e||(e=!0,t.callback(i,n,r))};function n(){4===p.readyState&&setTimeout(o,0)}function r(){var t=void 0;if(t=p.response?p.response:p.responseText||d(p),b)try{t=JSON.parse(t)}catch(e){}return t}function s(t){return clearTimeout(f),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,i(t,T)}function o(){if(!c){var e;clearTimeout(f),e=t.useXDR&&void 0===p.status?200:1223===p.status?204:p.status;var n=T,s=null;return 0!==e?(n={body:r(),statusCode:e,method:g,headers:{},url:m,rawRequest:p},p.getAllResponseHeaders&&(n.headers=a(p.getAllResponseHeaders()))):s=new Error("Internal XMLHttpRequest Error"),i(s,n,n.body)}}var u,c,p=t.xhr||null;p||(p=t.cors||t.useXDR?new h.XDomainRequest:new h.XMLHttpRequest);var f,m=p.url=t.uri||t.url,g=p.method=t.method||"GET",_=t.body||t.data,v=p.headers=t.headers||{},y=!!t.sync,b=!1,T={body:void 0,headers:{},statusCode:0,method:g,url:m,rawRequest:p};if("json"in t&&!1!==t.json&&(b=!0,v["accept"]||v["Accept"]||(v["Accept"]="application/json"),"GET"!==g&&"HEAD"!==g&&(v["content-type"]||v["Content-Type"]||(v["Content-Type"]="application/json"),_=JSON.stringify(!0===t.json?_:t.json))),p.onreadystatechange=n,p.onload=o,p.onerror=s,p.onprogress=function(){},p.onabort=function(){c=!0},p.ontimeout=s,p.open(g,m,!y,t.username,t.password),y||(p.withCredentials=!!t.withCredentials),!y&&t.timeout>0&&(f=setTimeout((function(){if(!c){c=!0,p.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",s(t)}}),t.timeout)),p.setRequestHeader)for(u in v)v.hasOwnProperty(u)&&p.setRequestHeader(u,v[u]);else if(t.headers&&!l(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(p.responseType=t.responseType),"beforeSend"in t&&"function"===typeof t.beforeSend&&t.beforeSend(p),p.send(_||null),p}function d(t){try{if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;if(""===t.responseType&&!e)return t.responseXML}catch(i){}return null}function p(){}t.exports=h,t.exports.default=h,h.XMLHttpRequest=n.XMLHttpRequest||p,h.XDomainRequest="withCredentials"in new h.XMLHttpRequest?h.XMLHttpRequest:n.XDomainRequest,o(["get","put","post","patch","head","delete"],(function(t){h["delete"===t?"del":t]=function(e,i,n){return i=u(e,i,n),i.method=t.toUpperCase(),c(i)}}))},"0956":function(t,e,i){"use strict";e.__esModule=!0;var n=i("cf31"),r=v(n),s=i("702d"),a=_(s),o=i("6aec"),l=_(o),u=i("7a67"),h=i("d9ce"),c=v(h),d=i("61b0"),p=v(d),f=i("a178"),m=v(f),g=i("cff3");function _(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function v(t){return t&&t.__esModule?t:{default:t}}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function T(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var w=m["default"].navigator,S=function(t){function e(i,n){y(this,e);var r=b(this,t.call(this,i,n));return i.source&&r.ready((function(){this.setSource(i.source)}),!0),i.startTime&&r.ready((function(){this.load(),this.play(),this.currentTime(i.startTime)}),!0),m["default"].videojs=m["default"].videojs||{},m["default"].videojs.Flash=m["default"].videojs.Flash||{},m["default"].videojs.Flash.onReady=e.onReady,m["default"].videojs.Flash.onEvent=e.onEvent,m["default"].videojs.Flash.onError=e.onError,r.on("seeked",(function(){this.lastSeekTarget_=void 0})),r}return T(e,t),e.prototype.createEl=function(){var t=this.options_;if(!t.swf){var i="5.4.1";t.swf="//vjs.zencdn.net/swf/"+i+"/video-js.swf"}var n=t.techId,r=(0,g.assign)({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:t.autoplay,preload:t.preload,loop:t.loop,muted:t.muted},t.flashVars),s=(0,g.assign)({wmode:"opaque",bgcolor:"#000000"},t.params),a=(0,g.assign)({id:n,name:n,class:"vjs-tech"},t.attributes);return this.el_=e.embed(t.swf,r,s,a),this.el_.tech=this,this.el_},e.prototype.play=function(){this.ended()&&this.setCurrentTime(0),this.el_.vjs_play()},e.prototype.pause=function(){this.el_.vjs_pause()},e.prototype.src=function(t){return void 0===t?this.currentSrc():this.setSrc(t)},e.prototype.setSrc=function(t){var e=this;t=l.getAbsoluteURL(t),this.el_.vjs_src(t),this.autoplay()&&this.setTimeout((function(){return e.play()}),0)},e.prototype.seeking=function(){return void 0!==this.lastSeekTarget_},e.prototype.setCurrentTime=function(e){var i=this.seekable();i.length&&(e=e>i.start(0)?e:i.start(0),e=e<i.end(i.length-1)?e:i.end(i.length-1),this.lastSeekTarget_=e,this.trigger("seeking"),this.el_.vjs_setProperty("currentTime",e),t.prototype.setCurrentTime.call(this))},e.prototype.currentTime=function(){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},e.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")},e.prototype.duration=function(){if(0===this.readyState())return NaN;var t=this.el_.vjs_getProperty("duration");return t>=0?t:1/0},e.prototype.load=function(){this.el_.vjs_load()},e.prototype.poster=function(){this.el_.vjs_getProperty("poster")},e.prototype.setPoster=function(){},e.prototype.seekable=function(){var t=this.duration();return 0===t?(0,u.createTimeRange)():(0,u.createTimeRange)(0,t)},e.prototype.buffered=function(){var t=this.el_.vjs_getProperty("buffered");return 0===t.length?(0,u.createTimeRange)():(0,u.createTimeRange)(t[0][0],t[0][1])},e.prototype.supportsFullScreen=function(){return!1},e.prototype.enterFullScreen=function(){return!1},e.prototype.getVideoPlaybackQuality=function(){var t=this.el_.vjs_getProperty("getVideoPlaybackQuality");return m["default"].performance&&"function"===typeof m["default"].performance.now?t.creationTime=m["default"].performance.now():m["default"].performance&&m["default"].performance.timing&&"number"===typeof m["default"].performance.timing.navigationStart&&(t.creationTime=m["default"].Date.now()-m["default"].performance.timing.navigationStart),t},e}(r["default"]),E=S.prototype,C="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),k="networkState,readyState,initialTime,startOffsetTime,paused,ended,videoWidth,videoHeight".split(",");function x(t){var e=t.charAt(0).toUpperCase()+t.slice(1);E["set"+e]=function(e){return this.el_.vjs_setProperty(t,e)}}function M(t){E[t]=function(){return this.el_.vjs_getProperty(t)}}for(var A=0;A<C.length;A++)M(C[A]),x(C[A]);for(var I=0;I<k.length;I++)M(k[I]);S.isSupported=function(){return S.version()[0]>=10},r["default"].withSourceHandlers(S),S.nativeSourceHandler={},S.nativeSourceHandler.canPlayType=function(t){return t in S.formats?"maybe":""},S.nativeSourceHandler.canHandleSource=function(t,e){var i=void 0;function n(t){var e=l.getFileExtension(t);return e?"video/"+e:""}return i=t.type?t.type.replace(/;.*/,"").toLowerCase():n(t.src),S.nativeSourceHandler.canPlayType(i)},S.nativeSourceHandler.handleSource=function(t,e,i){e.setSrc(t.src)},S.nativeSourceHandler.dispose=function(){},S.registerSourceHandler(S.nativeSourceHandler),S.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},S.onReady=function(t){var e=a.getEl(t),i=e&&e.tech;i&&i.el()&&S.checkReady(i)},S.checkReady=function(t){t.el()&&(t.el().vjs_getProperty?t.triggerReady():this.setTimeout((function(){S.checkReady(t)}),50))},S.onEvent=function(t,e){var i=a.getEl(t).tech,n=Array.prototype.slice.call(arguments,2);i.setTimeout((function(){i.trigger(e,n)}),1)},S.onError=function(t,e){var i=a.getEl(t).tech;if("srcnotfound"===e)return i.error(4);i.error("FLASH: "+e)},S.version=function(){var t="0,0,0";try{t=new m["default"].ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(e){try{w.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(t=(w.plugins["Shockwave Flash 2.0"]||w.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(i){}}return t.split(",")},S.embed=function(t,e,i,n){var r=S.getEmbedCode(t,e,i,n),s=a.createEl("div",{innerHTML:r}).childNodes[0];return s},S.getEmbedCode=function(t,e,i,n){var r='<object type="application/x-shockwave-flash" ',s="",a="",o="";return e&&Object.getOwnPropertyNames(e).forEach((function(t){s+=t+"="+e[t]+"&amp;"})),i=(0,g.assign)({movie:t,flashvars:s,allowScriptAccess:"always",allowNetworking:"all"},i),Object.getOwnPropertyNames(i).forEach((function(t){a+='<param name="'+t+'" value="'+i[t]+'" />'})),n=(0,g.assign)({data:t,width:"100%",height:"100%"},n),Object.getOwnPropertyNames(n).forEach((function(t){o+=t+'="'+n[t]+'" '})),""+r+o+">"+a+"</object>"},(0,c["default"])(S),p["default"].registerComponent("Flash",S),r["default"].registerTech("Flash",S),e["default"]=S},"0bb7":function(t,e,i){"use strict";e.__esModule=!0;var n=i("4e2d"),r=d(n),s=i("9869"),a=c(s),o=i("d8e3"),l=d(o),u=i("6a64"),h=c(u);function c(t){return t&&t.__esModule?t:{default:t}}function d(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function m(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var g=function(t){function e(){var i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};p(this,e);var s=f(this,t.call(this)),o=s;if(r.IS_IE8)for(var u in o=a["default"].createElement("custom"),e.prototype)"constructor"!==u&&(o[u]=e.prototype[u]);var h={id:n.id||"vjs_track_"+l.newGUID(),kind:n.kind||"",label:n.label||"",language:n.language||""},c=function(t){Object.defineProperty(o,t,{get:function(){return h[t]},set:function(){}})};for(var d in h)c(d);return i=o,f(s,i)}return m(e,t),e}(h["default"]);e["default"]=g},"0bc6":function(t,e,i){},"0eef":function(t,e,i){"use strict";e.__esModule=!0;var n=i("cfb5"),r=u(n),s=i("61b0"),a=u(s),o=i("1e32"),l=u(o);function u(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function d(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p=function(t){function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h(this,e),n.tracks=i.audioTracks&&i.audioTracks();var r=c(this,t.call(this,i,n));return r.el_.setAttribute("aria-label","Audio Menu"),r}return d(e,t),e.prototype.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},e.prototype.createItems=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.hideThreshold_=1;var e=this.player_.audioTracks&&this.player_.audioTracks();if(!e)return t;for(var i=0;i<e.length;i++){var n=e[i];t.push(new l["default"](this.player_,{track:n,selectable:!0}))}return t},e}(r["default"]);p.prototype.controlText_="Audio Track",a["default"].registerComponent("AudioTrackButton",p),e["default"]=p},"0f69":function(t,e,i){"use strict";e.__esModule=!0;var n=i("61b0"),r=h(n),s=i("f545"),a=u(s),o=i("b0f9"),l=h(o);function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function h(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function p(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(i,n){c(this,e);var r=d(this,t.call(this,i,n));return r.updateDataAttr(),r.on(i,"timeupdate",r.updateDataAttr),i.ready(a.bind(r,r.updateDataAttr)),n.playerOptions&&n.playerOptions.controlBar&&n.playerOptions.controlBar.progressControl&&n.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=n.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&r.addClass("vjs-keep-tooltips-inside"),r}return p(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},e.prototype.updateDataAttr=function(t){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("data-current-time",(0,l["default"])(e,this.player_.duration()))},e}(r["default"]);r["default"].registerComponent("PlayProgressBar",f),e["default"]=f},1194:function(t,e,i){"use strict";e.__esModule=!0;var n=i("dec4"),r=o(n),s=i("61b0"),a=o(s);function o(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function h(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(i,n){l(this,e);var r=u(this,t.call(this,i,n));return r.on(i,"play",r.handlePlay),r.on(i,"pause",r.handlePause),r}return h(e,t),e.prototype.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},e.prototype.handlePlay=function(t){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},e.prototype.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},e}(r["default"]);c.prototype.controlText_="Play",a["default"].registerComponent("PlayToggle",c),e["default"]=c},"12a0":function(t,e,i){"use strict";e.__esModule=!0;var n=i("8043"),r=w(n),s=i("f545"),a=T(s),o=i("3770"),l=i("320e"),u=w(l),h=i("a178"),c=w(h),d=i("0bb7"),p=w(d),f=i("6aec"),m=i("d664"),g=w(m),_=i("3afa"),v=w(_),y=i("4e2d"),b=T(y);function T(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function w(t){return t&&t.__esModule?t:{default:t}}function S(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function C(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var k=function(t,e){var i=new c["default"].WebVTT.Parser(c["default"],c["default"].vttjs,c["default"].WebVTT.StringDecoder()),n=[];i.oncue=function(t){e.addCue(t)},i.onparsingerror=function(t){n.push(t)},i.onflush=function(){e.trigger({type:"loadeddata",target:e})},i.parse(t),n.length>0&&(c["default"].console&&c["default"].console.groupCollapsed&&c["default"].console.groupCollapsed("Text Track parsing errors for "+e.src),n.forEach((function(t){return u["default"].error(t)})),c["default"].console&&c["default"].console.groupEnd&&c["default"].console.groupEnd()),i.flush()},x=function(t,e){var i={uri:t},n=(0,f.isCrossOrigin)(t);n&&(i.cors=n),(0,g["default"])(i,a.bind(this,(function(t,i,n){if(t)return u["default"].error(t,i);if(e.loaded_=!0,"function"!==typeof c["default"].WebVTT){if(e.tech_){var r=function(){return k(n,e)};e.tech_.on("vttjsloaded",r),e.tech_.on("vttjserror",(function(){u["default"].error("vttjs failed to load, stopping trying to process "+e.src),e.tech_.off("vttjsloaded",r)}))}}else k(n,e)})))},M=function(t){function e(){var i,n,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(S(this,e),!s.tech)throw new Error("A tech was not provided.");var l=(0,v["default"])(s,{kind:o.TextTrackKind[s.kind]||"subtitles",language:s.language||s.srclang||""}),u=o.TextTrackMode[l.mode]||"disabled",h=l["default"];"metadata"!==l.kind&&"chapters"!==l.kind||(u="hidden");var c=(i=E(this,t.call(this,l)),i);if(c.tech_=l.tech,b.IS_IE8)for(var d in e.prototype)"constructor"!==d&&(c[d]=e.prototype[d]);c.cues_=[],c.activeCues_=[];var p=new r["default"](c.cues_),f=new r["default"](c.activeCues_),m=!1,g=a.bind(c,(function(){this.activeCues,m&&(this.trigger("cuechange"),m=!1)}));return"disabled"!==u&&c.tech_.ready((function(){c.tech_.on("timeupdate",g)}),!0),Object.defineProperty(c,"default",{get:function(){return h},set:function(){}}),Object.defineProperty(c,"mode",{get:function(){return u},set:function(t){var e=this;o.TextTrackMode[t]&&(u=t,"showing"===u&&this.tech_.ready((function(){e.tech_.on("timeupdate",g)}),!0),this.trigger("modechange"))}}),Object.defineProperty(c,"cues",{get:function(){return this.loaded_?p:null},set:function(){}}),Object.defineProperty(c,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return f;for(var t=this.tech_.currentTime(),e=[],i=0,n=this.cues.length;i<n;i++){var r=this.cues[i];(r.startTime<=t&&r.endTime>=t||r.startTime===r.endTime&&r.startTime<=t&&r.startTime+.5>=t)&&e.push(r)}if(m=!1,e.length!==this.activeCues_.length)m=!0;else for(var s=0;s<e.length;s++)-1===this.activeCues_.indexOf(e[s])&&(m=!0);return this.activeCues_=e,f.setCues_(this.activeCues_),f},set:function(){}}),l.src?(c.src=l.src,x(l.src,c)):c.loaded_=!0,n=c,E(i,n)}return C(e,t),e.prototype.addCue=function(t){var e=t;if(c["default"].vttjs&&!(t instanceof c["default"].vttjs.VTTCue)){for(var i in e=new c["default"].vttjs.VTTCue(t.startTime,t.endTime,t.text),t)i in e||(e[i]=t[i]);e.id=t.id,e.originalCue_=t}var n=this.tech_.textTracks();if(n)for(var r=0;r<n.length;r++)n[r]!==this&&n[r].removeCue(e);this.cues_.push(e),this.cues.setCues_(this.cues_)},e.prototype.removeCue=function(t){var e=this.cues_.length;while(e--){var i=this.cues_[e];if(i===t||i.originalCue_&&i.originalCue_===t){this.cues_.splice(e,1),this.cues.setCues_(this.cues_);break}}},e}(p["default"]);M.prototype.allowedEvents_={cuechange:"cuechange"},e["default"]=M},1368:function(t,e,i){(function(e,i){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */
(function(e,i){t.exports=i()})(0,(function(){"use strict";function t(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}function n(t){return"function"===typeof t}var r=void 0;r=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var s=r,a=0,o=void 0,l=void 0,u=function(t,e){w[a]=t,w[a+1]=e,a+=2,2===a&&(l?l(S):C())};function h(t){l=t}function c(t){u=t}var d="undefined"!==typeof window?window:void 0,p=d||{},f=p.MutationObserver||p.WebKitMutationObserver,m="undefined"===typeof self&&"undefined"!==typeof e&&"[object process]"==={}.toString.call(e),g="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel;function _(){return function(){return e.nextTick(S)}}function v(){return"undefined"!==typeof o?function(){o(S)}:T()}function y(){var t=0,e=new f(S),i=document.createTextNode("");return e.observe(i,{characterData:!0}),function(){i.data=t=++t%2}}function b(){var t=new MessageChannel;return t.port1.onmessage=S,function(){return t.port2.postMessage(0)}}function T(){var t=setTimeout;return function(){return t(S,1)}}var w=new Array(1e3);function S(){for(var t=0;t<a;t+=2){var e=w[t],i=w[t+1];e(i),w[t]=void 0,w[t+1]=void 0}a=0}function E(){try{var t=Function("return this")().require("vertx");return o=t.runOnLoop||t.runOnContext,v()}catch(e){return T()}}var C=void 0;function k(t,e){var i=this,n=new this.constructor(A);void 0===n[M]&&Z(n);var r=i._state;if(r){var s=arguments[r-1];u((function(){return G(r,n,s,i._result)}))}else H(i,n,t,e);return n}function x(t){var e=this;if(t&&"object"===typeof t&&t.constructor===e)return t;var i=new e(A);return U(i,t),i}C=m?_():f?y():g?b():void 0===d?E():T();var M=Math.random().toString(36).substring(2);function A(){}var I=void 0,O=1,P=2;function L(){return new TypeError("You cannot resolve a promise with itself")}function R(){return new TypeError("A promises callback cannot return that same promise.")}function D(t,e,i,n){try{t.call(e,i,n)}catch(r){return r}}function N(t,e,i){u((function(t){var n=!1,r=D(i,e,(function(i){n||(n=!0,e!==i?U(t,i):z(t,i))}),(function(e){n||(n=!0,V(t,e))}),"Settle: "+(t._label||" unknown promise"));!n&&r&&(n=!0,V(t,r))}),t)}function B(t,e){e._state===O?z(t,e._result):e._state===P?V(t,e._result):H(e,void 0,(function(e){return U(t,e)}),(function(e){return V(t,e)}))}function j(t,e,i){e.constructor===t.constructor&&i===k&&e.constructor.resolve===x?B(t,e):void 0===i?z(t,e):n(i)?N(t,e,i):z(t,e)}function U(e,i){if(e===i)V(e,L());else if(t(i)){var n=void 0;try{n=i.then}catch(r){return void V(e,r)}j(e,i,n)}else z(e,i)}function F(t){t._onerror&&t._onerror(t._result),q(t)}function z(t,e){t._state===I&&(t._result=e,t._state=O,0!==t._subscribers.length&&u(q,t))}function V(t,e){t._state===I&&(t._state=P,t._result=e,u(F,t))}function H(t,e,i,n){var r=t._subscribers,s=r.length;t._onerror=null,r[s]=e,r[s+O]=i,r[s+P]=n,0===s&&t._state&&u(q,t)}function q(t){var e=t._subscribers,i=t._state;if(0!==e.length){for(var n=void 0,r=void 0,s=t._result,a=0;a<e.length;a+=3)n=e[a],r=e[a+i],n?G(i,n,r,s):r(s);t._subscribers.length=0}}function G(t,e,i,r){var s=n(i),a=void 0,o=void 0,l=!0;if(s){try{a=i(r)}catch(u){l=!1,o=u}if(e===a)return void V(e,R())}else a=r;e._state!==I||(s&&l?U(e,a):!1===l?V(e,o):t===O?z(e,a):t===P&&V(e,a))}function W(t,e){try{e((function(e){U(t,e)}),(function(e){V(t,e)}))}catch(i){V(t,i)}}var $=0;function K(){return $++}function Z(t){t[M]=$++,t._state=void 0,t._result=void 0,t._subscribers=[]}function X(){return new Error("Array Methods must be provided an Array")}var Y=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(A),this.promise[M]||Z(this.promise),s(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?z(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&z(this.promise,this._result))):V(this.promise,X())}return t.prototype._enumerate=function(t){for(var e=0;this._state===I&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var i=this._instanceConstructor,n=i.resolve;if(n===x){var r=void 0,s=void 0,a=!1;try{r=t.then}catch(l){a=!0,s=l}if(r===k&&t._state!==I)this._settledAt(t._state,e,t._result);else if("function"!==typeof r)this._remaining--,this._result[e]=t;else if(i===nt){var o=new i(A);a?V(o,s):j(o,t,r),this._willSettleAt(o,e)}else this._willSettleAt(new i((function(e){return e(t)})),e)}else this._willSettleAt(n(t),e)},t.prototype._settledAt=function(t,e,i){var n=this.promise;n._state===I&&(this._remaining--,t===P?V(n,i):this._result[e]=i),0===this._remaining&&z(n,this._result)},t.prototype._willSettleAt=function(t,e){var i=this;H(t,void 0,(function(t){return i._settledAt(O,e,t)}),(function(t){return i._settledAt(P,e,t)}))},t}();function Q(t){return new Y(this,t).promise}function J(t){var e=this;return s(t)?new e((function(i,n){for(var r=t.length,s=0;s<r;s++)e.resolve(t[s]).then(i,n)})):new e((function(t,e){return e(new TypeError("You must pass an array to race."))}))}function tt(t){var e=this,i=new e(A);return V(i,t),i}function et(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function it(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var nt=function(){function t(e){this[M]=K(),this._result=this._state=void 0,this._subscribers=[],A!==e&&("function"!==typeof e&&et(),this instanceof t?W(this,e):it())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var e=this,i=e.constructor;return n(t)?e.then((function(e){return i.resolve(t()).then((function(){return e}))}),(function(e){return i.resolve(t()).then((function(){throw e}))})):e.then(t,t)},t}();function rt(){var t=void 0;if("undefined"!==typeof i)t=i;else if("undefined"!==typeof self)t=self;else try{t=Function("return this")()}catch(r){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(r){}if("[object Promise]"===n&&!e.cast)return}t.Promise=nt}return nt.prototype.then=k,nt.all=Q,nt.race=J,nt.resolve=x,nt.reject=tt,nt._setScheduler=h,nt._setAsap=c,nt._asap=u,nt.polyfill=rt,nt.Promise=nt,nt}))}).call(this,i("f28c"),i("c8ba"))},1456:function(t,e,i){function n(t){this.options=t||{locator:{}}}function r(t,e,i){if(!t){if(e instanceof s)return e;t=e}var n={},r=t instanceof Function;function a(e){var s=t[e];!s&&r&&(s=2==t.length?function(i){t(e,i)}:t),n[e]=s&&function(t){s("[xmldom "+e+"]\t"+t+o(i))}||function(){}}return i=i||{},a("warning"),a("error"),a("fatalError"),n}function s(){this.cdata=!1}function a(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function o(t){if(t)return"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function l(t,e,i){return"string"==typeof t?t.substr(e,i):t.length>=e+i||e?new java.lang.String(t,e,i)+"":t}function u(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}n.prototype.parseFromString=function(t,e){var i=this.options,n=new d,a=i.domBuilder||new s,o=i.errorHandler,l=i.locator,u=i.xmlns||{},c=/\/x?html?$/.test(e),p=c?h.entityMap:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return l&&a.setDocumentLocator(l),n.errorHandler=r(o,a,l),n.domBuilder=i.domBuilder||a,c&&(u[""]="http://www.w3.org/1999/xhtml"),u.xml=u.xml||"http://www.w3.org/XML/1998/namespace",t&&"string"===typeof t?n.parse(t,u,p):n.errorHandler.error("invalid doc source"),a.doc},s.prototype={startDocument:function(){this.doc=(new f).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,i,n){var r=this.doc,s=r.createElementNS(t,i||e),o=n.length;u(this,s),this.currentElement=s,this.locator&&a(this.locator,s);for(var l=0;l<o;l++){t=n.getURI(l);var h=n.getValue(l),c=(i=n.getQName(l),r.createAttributeNS(t,i));this.locator&&a(n.getLocator(l),c),c.value=c.nodeValue=h,s.setAttributeNode(c)}},endElement:function(t,e,i){var n=this.currentElement;n.tagName;this.currentElement=n.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var i=this.doc.createProcessingInstruction(t,e);this.locator&&a(this.locator,i),u(this,i)},ignorableWhitespace:function(t,e,i){},characters:function(t,e,i){if(t=l.apply(this,arguments),t){if(this.cdata)var n=this.doc.createCDATASection(t);else n=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(t)&&this.doc.appendChild(n),this.locator&&a(this.locator,n)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,i){t=l.apply(this,arguments);var n=this.doc.createComment(t);this.locator&&a(this.locator,n),u(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,i){var n=this.doc.implementation;if(n&&n.createDocumentType){var r=n.createDocumentType(t,e,i);this.locator&&a(this.locator,r),u(this,r)}},warning:function(t){console.warn("[xmldom warning]\t"+t,o(this.locator))},error:function(t){console.error("[xmldom error]\t"+t,o(this.locator))},fatalError:function(t){throw new p(t,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(t){s.prototype[t]=function(){return null}}));var h=i("d4a2"),c=i("8f7b"),d=c.XMLReader,p=c.ParseError,f=e.DOMImplementation=i("c1dd").DOMImplementation;e.XMLSerializer=i("c1dd").XMLSerializer,e.DOMParser=n,e.__DOMHandler=s},"166a":function(t,e,i){},1776:function(t,e,i){"use strict";e.__esModule=!0;var n=i("3770"),r=i("0bb7"),s=c(r),a=i("3afa"),o=c(a),l=i("4e2d"),u=h(l);function h(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function c(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function f(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var m=function(t){function e(){var i,r,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d(this,e);var a=(0,o["default"])(s,{kind:n.VideoTrackKind[s.kind]||""}),l=(i=p(this,t.call(this,a)),i),h=!1;if(u.IS_IE8)for(var c in e.prototype)"constructor"!==c&&(l[c]=e.prototype[c]);return Object.defineProperty(l,"selected",{get:function(){return h},set:function(t){"boolean"===typeof t&&t!==h&&(h=t,this.trigger("selectedchange"))}}),a.selected&&(l.selected=a.selected),r=l,p(i,r)}return f(e,t),e}(s["default"]);e["default"]=m},"17f8":function(t,e,i){"use strict";e.__esModule=!0;var n=function(t){var e=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(e,i,n){return t[i]&&(e[i]=t[i]),e}),{cues:t.cues&&Array.prototype.map.call(t.cues,(function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}}))});return e},r=function(t){var e=t.$$("track"),i=Array.prototype.map.call(e,(function(t){return t.track})),r=Array.prototype.map.call(e,(function(t){var e=n(t.track);return t.src&&(e.src=t.src),e}));return r.concat(Array.prototype.filter.call(t.textTracks(),(function(t){return-1===i.indexOf(t)})).map(n))},s=function(t,e){return t.forEach((function(t){var i=e.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach((function(t){return i.addCue(t)}))})),e.textTracks()};e["default"]={textTracksToJson:r,jsonToTextTracks:s,trackToJson_:n}},1800:function(t,e,i){"use strict";var n=i("2b0e");e["a"]=n["a"].extend({name:"v-list-item-action",functional:!0,render(t,{data:e,children:i=[]}){e.staticClass=e.staticClass?"v-list-item__action "+e.staticClass:"v-list-item__action";const n=i.filter(t=>!1===t.isComment&&" "!==t.text);return n.length>1&&(e.staticClass+=" v-list-item__action--stack"),t("div",e,i)}})},"18ce":function(t,e,i){"use strict";e.__esModule=!0,e.hasLoaded=e.autoSetupTimeout=e.autoSetup=void 0;var n=i("702d"),r=d(n),s=i("3a09"),a=d(s),o=i("9869"),l=c(o),u=i("a178"),h=c(u);function c(t){return t&&t.__esModule?t:{default:t}}function d(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}var p=!1,f=void 0,m=function(){if(r.isReal()){var t=l["default"].getElementsByTagName("video"),e=l["default"].getElementsByTagName("audio"),i=[];if(t&&t.length>0)for(var n=0,s=t.length;n<s;n++)i.push(t[n]);if(e&&e.length>0)for(var a=0,o=e.length;a<o;a++)i.push(e[a]);if(i&&i.length>0)for(var u=0,h=i.length;u<h;u++){var c=i[u];if(!c||!c.getAttribute){g(1);break}if(void 0===c.player){var d=c.getAttribute("data-setup");null!==d&&f(c)}}else p||g(1)}};function g(t,e){e&&(f=e),h["default"].setTimeout(m,t)}r.isReal()&&"complete"===l["default"].readyState?p=!0:a.one(h["default"],"load",(function(){p=!0}));var _=function(){return p};e.autoSetup=m,e.autoSetupTimeout=g,e.hasLoaded=_},1947:function(t,e,i){"use strict";class n{static install(){Object.setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Object.assign=Object.assign||function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");let e=Object(t);for(let i=1;i<arguments.length;i++){let t=arguments[i];if(void 0!==t&&null!==t)for(let i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}return e},"function"!==typeof self.Promise&&i("1368").polyfill()}}n.install();var r=n,s=i("faa1"),a=i.n(s);class o{static e(t,e){t&&!o.FORCE_GLOBAL_TAG||(t=o.GLOBAL_TAG);let i=`[${t}] > ${e}`;o.ENABLE_CALLBACK&&o.emitter.emit("log","error",i),o.ENABLE_ERROR&&(console.error?console.error(i):console.warn?console.warn(i):console.log(i))}static i(t,e){t&&!o.FORCE_GLOBAL_TAG||(t=o.GLOBAL_TAG);let i=`[${t}] > ${e}`;o.ENABLE_CALLBACK&&o.emitter.emit("log","info",i),o.ENABLE_INFO&&(console.info?console.info(i):console.log(i))}static w(t,e){t&&!o.FORCE_GLOBAL_TAG||(t=o.GLOBAL_TAG);let i=`[${t}] > ${e}`;o.ENABLE_CALLBACK&&o.emitter.emit("log","warn",i),o.ENABLE_WARN&&(console.warn?console.warn(i):console.log(i))}static d(t,e){t&&!o.FORCE_GLOBAL_TAG||(t=o.GLOBAL_TAG);let i=`[${t}] > ${e}`;o.ENABLE_CALLBACK&&o.emitter.emit("log","debug",i),o.ENABLE_DEBUG&&(console.debug?console.debug(i):console.log(i))}static v(t,e){t&&!o.FORCE_GLOBAL_TAG||(t=o.GLOBAL_TAG);let i=`[${t}] > ${e}`;o.ENABLE_CALLBACK&&o.emitter.emit("log","verbose",i),o.ENABLE_VERBOSE&&console.log(i)}}o.GLOBAL_TAG="flv.js",o.FORCE_GLOBAL_TAG=!1,o.ENABLE_ERROR=!0,o.ENABLE_INFO=!0,o.ENABLE_WARN=!0,o.ENABLE_DEBUG=!0,o.ENABLE_VERBOSE=!0,o.ENABLE_CALLBACK=!1,o.emitter=new a.a;var l=o;class u{constructor(){this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}reset(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0}addBytes(t){0===this._firstCheckpoint?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=t,this._totalBytes+=t):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=t,this._totalBytes+=t):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=t,this._totalBytes+=t,this._lastCheckpoint=this._now())}get currentKBps(){this.addBytes(0);let t=(this._now()-this._lastCheckpoint)/1e3;return 0==t&&(t=1),this._intervalBytes/t/1024}get lastSecondKBps(){return this.addBytes(0),0!==this._lastSecondBytes?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0}get averageKBps(){let t=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/t/1024}}var h=u;class c{constructor(t){this._message=t}get name(){return"RuntimeException"}get message(){return this._message}toString(){return this.name+": "+this.message}}class d extends c{constructor(t){super(t)}get name(){return"IllegalStateException"}}class p extends c{constructor(t){super(t)}get name(){return"InvalidArgumentException"}}class f extends c{constructor(t){super(t)}get name(){return"NotImplementedException"}}const m={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4},g={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"};class _{constructor(t){this._type=t||"undefined",this._status=m.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}destroy(){this._status=m.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}isWorking(){return this._status===m.kConnecting||this._status===m.kBuffering}get type(){return this._type}get status(){return this._status}get needStashBuffer(){return this._needStash}get onContentLengthKnown(){return this._onContentLengthKnown}set onContentLengthKnown(t){this._onContentLengthKnown=t}get onURLRedirect(){return this._onURLRedirect}set onURLRedirect(t){this._onURLRedirect=t}get onDataArrival(){return this._onDataArrival}set onDataArrival(t){this._onDataArrival=t}get onError(){return this._onError}set onError(t){this._onError=t}get onComplete(){return this._onComplete}set onComplete(t){this._onComplete=t}open(t,e){throw new f("Unimplemented abstract function!")}abort(){throw new f("Unimplemented abstract function!")}}let v={};function y(){let t=self.navigator.userAgent.toLowerCase(),e=/(edge)\/([\w.]+)/.exec(t)||/(opr)[\/]([\w.]+)/.exec(t)||/(chrome)[ \/]([\w.]+)/.exec(t)||/(iemobile)[\/]([\w.]+)/.exec(t)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(t)||[],i=/(ipad)/.exec(t)||/(ipod)/.exec(t)||/(windows phone)/.exec(t)||/(iphone)/.exec(t)||/(kindle)/.exec(t)||/(android)/.exec(t)||/(windows)/.exec(t)||/(mac)/.exec(t)||/(linux)/.exec(t)||/(cros)/.exec(t)||[],n={browser:e[5]||e[3]||e[1]||"",version:e[2]||e[4]||"0",majorVersion:e[4]||e[2]||"0",platform:i[0]||""},r={};if(n.browser){r[n.browser]=!0;let t=n.majorVersion.split(".");r.version={major:parseInt(n.majorVersion,10),string:n.version},t.length>1&&(r.version.minor=parseInt(t[1],10)),t.length>2&&(r.version.build=parseInt(t[2],10))}if(n.platform&&(r[n.platform]=!0),(r.chrome||r.opr||r.safari)&&(r.webkit=!0),r.rv||r.iemobile){r.rv&&delete r.rv;let t="msie";n.browser=t,r[t]=!0}if(r.edge){delete r.edge;let t="msedge";n.browser=t,r[t]=!0}if(r.opr){let t="opera";n.browser=t,r[t]=!0}if(r.safari&&r.android){let t="android";n.browser=t,r[t]=!0}r.name=n.browser,r.platform=n.platform;for(let s in v)v.hasOwnProperty(s)&&delete v[s];Object.assign(v,r)}y();var b=v;class T extends _{static isSupported(){try{let t=b.msedge&&b.version.minor>=15048,e=!b.msedge||t;return self.fetch&&self.ReadableStream&&e}catch(t){return!1}}constructor(t,e){super("fetch-stream-loader"),this.TAG="FetchStreamLoader",this._seekHandler=t,this._config=e,this._needStash=!0,this._requestAbort=!1,this._contentLength=null,this._receivedLength=0}destroy(){this.isWorking()&&this.abort(),super.destroy()}open(t,e){this._dataSource=t,this._range=e;let i=t.url;this._config.reuseRedirectedURL&&void 0!=t.redirectedURL&&(i=t.redirectedURL);let n=this._seekHandler.getConfig(i,e),r=new self.Headers;if("object"===typeof n.headers){let t=n.headers;for(let e in t)t.hasOwnProperty(e)&&r.append(e,t[e])}let s={method:"GET",headers:r,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if("object"===typeof this._config.headers)for(let a in this._config.headers)r.append(a,this._config.headers[a]);!1===t.cors&&(s.mode="same-origin"),t.withCredentials&&(s.credentials="include"),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),this._status=m.kConnecting,self.fetch(n.url,s).then(t=>{if(this._requestAbort)return this._requestAbort=!1,void(this._status=m.kIdle);if(t.ok&&t.status>=200&&t.status<=299){if(t.url!==n.url&&this._onURLRedirect){let e=this._seekHandler.removeURLParameters(t.url);this._onURLRedirect(e)}let e=t.headers.get("Content-Length");return null!=e&&(this._contentLength=parseInt(e),0!==this._contentLength&&this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)),this._pump.call(this,t.body.getReader())}if(this._status=m.kError,!this._onError)throw new c("FetchStreamLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(g.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}).catch(t=>{if(this._status=m.kError,!this._onError)throw t;this._onError(g.EXCEPTION,{code:-1,msg:t.message})})}abort(){this._requestAbort=!0}_pump(t){return t.read().then(e=>{if(e.done)if(null!==this._contentLength&&this._receivedLength<this._contentLength){this._status=m.kError;let t=g.EARLY_EOF,e={code:-1,msg:"Fetch stream meet Early-EOF"};if(!this._onError)throw new c(e.msg);this._onError(t,e)}else this._status=m.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1);else{if(!0===this._requestAbort)return this._requestAbort=!1,this._status=m.kComplete,t.cancel();this._status=m.kBuffering;let i=e.value.buffer,n=this._range.from+this._receivedLength;this._receivedLength+=i.byteLength,this._onDataArrival&&this._onDataArrival(i,n,this._receivedLength),this._pump(t)}}).catch(t=>{if(11===t.code&&b.msedge)return;this._status=m.kError;let e=0,i=null;if(19!==t.code&&"network error"!==t.message||!(null===this._contentLength||null!==this._contentLength&&this._receivedLength<this._contentLength)?(e=g.EXCEPTION,i={code:t.code,msg:t.message}):(e=g.EARLY_EOF,i={code:t.code,msg:"Fetch stream meet Early-EOF"}),!this._onError)throw new c(i.msg);this._onError(e,i)})}}var w=T;class S extends _{static isSupported(){try{let t=new XMLHttpRequest;return t.open("GET","https://example.com",!0),t.responseType="moz-chunked-arraybuffer","moz-chunked-arraybuffer"===t.responseType}catch(t){return l.w("MozChunkedLoader",t.message),!1}}constructor(t,e){super("xhr-moz-chunked-loader"),this.TAG="MozChunkedLoader",this._seekHandler=t,this._config=e,this._needStash=!0,this._xhr=null,this._requestAbort=!1,this._contentLength=null,this._receivedLength=0}destroy(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),super.destroy()}open(t,e){this._dataSource=t,this._range=e;let i=t.url;this._config.reuseRedirectedURL&&void 0!=t.redirectedURL&&(i=t.redirectedURL);let n=this._seekHandler.getConfig(i,e);this._requestURL=n.url;let r=this._xhr=new XMLHttpRequest;if(r.open("GET",n.url,!0),r.responseType="moz-chunked-arraybuffer",r.onreadystatechange=this._onReadyStateChange.bind(this),r.onprogress=this._onProgress.bind(this),r.onloadend=this._onLoadEnd.bind(this),r.onerror=this._onXhrError.bind(this),t.withCredentials&&(r.withCredentials=!0),"object"===typeof n.headers){let t=n.headers;for(let e in t)t.hasOwnProperty(e)&&r.setRequestHeader(e,t[e])}if("object"===typeof this._config.headers){let t=this._config.headers;for(let e in t)t.hasOwnProperty(e)&&r.setRequestHeader(e,t[e])}this._status=m.kConnecting,r.send()}abort(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=m.kComplete}_onReadyStateChange(t){let e=t.target;if(2===e.readyState){if(void 0!=e.responseURL&&e.responseURL!==this._requestURL&&this._onURLRedirect){let t=this._seekHandler.removeURLParameters(e.responseURL);this._onURLRedirect(t)}if(0!==e.status&&(e.status<200||e.status>299)){if(this._status=m.kError,!this._onError)throw new c("MozChunkedLoader: Http code invalid, "+e.status+" "+e.statusText);this._onError(g.HTTP_STATUS_CODE_INVALID,{code:e.status,msg:e.statusText})}else this._status=m.kBuffering}}_onProgress(t){if(this._status===m.kError)return;null===this._contentLength&&null!==t.total&&0!==t.total&&(this._contentLength=t.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));let e=t.target.response,i=this._range.from+this._receivedLength;this._receivedLength+=e.byteLength,this._onDataArrival&&this._onDataArrival(e,i,this._receivedLength)}_onLoadEnd(t){!0!==this._requestAbort?this._status!==m.kError&&(this._status=m.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)):this._requestAbort=!1}_onXhrError(t){this._status=m.kError;let e=0,i=null;if(this._contentLength&&t.loaded<this._contentLength?(e=g.EARLY_EOF,i={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(e=g.EXCEPTION,i={code:-1,msg:t.constructor.name+" "+t.type}),!this._onError)throw new c(i.msg);this._onError(e,i)}}var E=S;class C extends _{static isSupported(){try{let t=new XMLHttpRequest;return t.open("GET","https://example.com",!0),t.responseType="arraybuffer","arraybuffer"===t.responseType}catch(t){return l.w("RangeLoader",t.message),!1}}constructor(t,e){super("xhr-range-loader"),this.TAG="RangeLoader",this._seekHandler=t,this._config=e,this._needStash=!1,this._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],this._currentChunkSizeKB=384,this._currentSpeedNormalized=0,this._zeroSpeedChunkCount=0,this._xhr=null,this._speedSampler=new h,this._requestAbort=!1,this._waitForTotalLength=!1,this._totalLengthReceived=!1,this._currentRequestURL=null,this._currentRedirectedURL=null,this._currentRequestRange=null,this._totalLength=null,this._contentLength=null,this._receivedLength=0,this._lastTimeLoaded=0}destroy(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),super.destroy()}get currentSpeed(){return this._speedSampler.lastSecondKBps}open(t,e){this._dataSource=t,this._range=e,this._status=m.kConnecting;let i=!1;void 0!=this._dataSource.filesize&&0!==this._dataSource.filesize&&(i=!0,this._totalLength=this._dataSource.filesize),this._totalLengthReceived||i?this._openSubRange():(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1}))}_openSubRange(){let t=1024*this._currentChunkSizeKB,e=this._range.from+this._receivedLength,i=e+t;null!=this._contentLength&&i-this._range.from>=this._contentLength&&(i=this._range.from+this._contentLength-1),this._currentRequestRange={from:e,to:i},this._internalOpen(this._dataSource,this._currentRequestRange)}_internalOpen(t,e){this._lastTimeLoaded=0;let i=t.url;this._config.reuseRedirectedURL&&(void 0!=this._currentRedirectedURL?i=this._currentRedirectedURL:void 0!=t.redirectedURL&&(i=t.redirectedURL));let n=this._seekHandler.getConfig(i,e);this._currentRequestURL=n.url;let r=this._xhr=new XMLHttpRequest;if(r.open("GET",n.url,!0),r.responseType="arraybuffer",r.onreadystatechange=this._onReadyStateChange.bind(this),r.onprogress=this._onProgress.bind(this),r.onload=this._onLoad.bind(this),r.onerror=this._onXhrError.bind(this),t.withCredentials&&(r.withCredentials=!0),"object"===typeof n.headers){let t=n.headers;for(let e in t)t.hasOwnProperty(e)&&r.setRequestHeader(e,t[e])}if("object"===typeof this._config.headers){let t=this._config.headers;for(let e in t)t.hasOwnProperty(e)&&r.setRequestHeader(e,t[e])}r.send()}abort(){this._requestAbort=!0,this._internalAbort(),this._status=m.kComplete}_internalAbort(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)}_onReadyStateChange(t){let e=t.target;if(2===e.readyState){if(void 0!=e.responseURL){let t=this._seekHandler.removeURLParameters(e.responseURL);e.responseURL!==this._currentRequestURL&&t!==this._currentRedirectedURL&&(this._currentRedirectedURL=t,this._onURLRedirect&&this._onURLRedirect(t))}if(e.status>=200&&e.status<=299){if(this._waitForTotalLength)return;this._status=m.kBuffering}else{if(this._status=m.kError,!this._onError)throw new c("RangeLoader: Http code invalid, "+e.status+" "+e.statusText);this._onError(g.HTTP_STATUS_CODE_INVALID,{code:e.status,msg:e.statusText})}}}_onProgress(t){if(this._status===m.kError)return;if(null===this._contentLength){let e=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,e=!0;let i=t.total;this._internalAbort(),null!=i&0!==i&&(this._totalLength=i)}if(-1===this._range.to?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,e)return void this._openSubRange();this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}let e=t.loaded-this._lastTimeLoaded;this._lastTimeLoaded=t.loaded,this._speedSampler.addBytes(e)}_normalizeSpeed(t){let e=this._chunkSizeKBList,i=e.length-1,n=0,r=0,s=i;if(t<e[0])return e[0];while(r<=s){if(n=r+Math.floor((s-r)/2),n===i||t>=e[n]&&t<e[n+1])return e[n];e[n]<t?r=n+1:s=n-1}}_onLoad(t){if(this._status===m.kError)return;if(this._waitForTotalLength)return void(this._waitForTotalLength=!1);this._lastTimeLoaded=0;let e=this._speedSampler.lastSecondKBps;if(0===e&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(e=this._speedSampler.currentKBps)),0!==e){let t=this._normalizeSpeed(e);this._currentSpeedNormalized!==t&&(this._currentSpeedNormalized=t,this._currentChunkSizeKB=t)}let i=t.target.response,n=this._range.from+this._receivedLength;this._receivedLength+=i.byteLength;let r=!1;null!=this._contentLength&&this._receivedLength<this._contentLength?this._openSubRange():r=!0,this._onDataArrival&&this._onDataArrival(i,n,this._receivedLength),r&&(this._status=m.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}_onXhrError(t){this._status=m.kError;let e=0,i=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(e=g.EARLY_EOF,i={code:-1,msg:"RangeLoader meet Early-Eof"}):(e=g.EXCEPTION,i={code:-1,msg:t.constructor.name+" "+t.type}),!this._onError)throw new c(i.msg);this._onError(e,i)}}var k=C;class x extends _{static isSupported(){try{return"undefined"!==typeof self.WebSocket}catch(t){return!1}}constructor(){super("websocket-loader"),this.TAG="WebSocketLoader",this._needStash=!0,this._ws=null,this._requestAbort=!1,this._receivedLength=0}destroy(){this._ws&&this.abort(),super.destroy()}open(t){try{let e=this._ws=new self.WebSocket(t.url);e.binaryType="arraybuffer",e.onopen=this._onWebSocketOpen.bind(this),e.onclose=this._onWebSocketClose.bind(this),e.onmessage=this._onWebSocketMessage.bind(this),e.onerror=this._onWebSocketError.bind(this),this._status=m.kConnecting}catch(e){this._status=m.kError;let t={code:e.code,msg:e.message};if(!this._onError)throw new c(t.msg);this._onError(g.EXCEPTION,t)}}abort(){let t=this._ws;!t||0!==t.readyState&&1!==t.readyState||(this._requestAbort=!0,t.close()),this._ws=null,this._status=m.kComplete}_onWebSocketOpen(t){this._status=m.kBuffering}_onWebSocketClose(t){!0!==this._requestAbort?(this._status=m.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)):this._requestAbort=!1}_onWebSocketMessage(t){if(t.data instanceof ArrayBuffer)this._dispatchArrayBuffer(t.data);else if(t.data instanceof Blob){let e=new FileReader;e.onload=()=>{this._dispatchArrayBuffer(e.result)},e.readAsArrayBuffer(t.data)}else{this._status=m.kError;let e={code:-1,msg:"Unsupported WebSocket message type: "+t.data.constructor.name};if(!this._onError)throw new c(e.msg);this._onError(g.EXCEPTION,e)}}_dispatchArrayBuffer(t){let e=t,i=this._receivedLength;this._receivedLength+=e.byteLength,this._onDataArrival&&this._onDataArrival(e,i,this._receivedLength)}_onWebSocketError(t){this._status=m.kError;let e={code:t.code,msg:t.message};if(!this._onError)throw new c(e.msg);this._onError(g.EXCEPTION,e)}}var M=x;class A{constructor(t){this._zeroStart=t||!1}getConfig(t,e){let i={};if(0!==e.from||-1!==e.to){let t;t=-1!==e.to?`bytes=${e.from.toString()}-${e.to.toString()}`:`bytes=${e.from.toString()}-`,i["Range"]=t}else this._zeroStart&&(i["Range"]="bytes=0-");return{url:t,headers:i}}removeURLParameters(t){return t}}var I=A;class O{constructor(t,e){this._startName=t,this._endName=e}getConfig(t,e){let i=t;if(0!==e.from||-1!==e.to){let t=!0;-1===i.indexOf("?")&&(i+="?",t=!1),t&&(i+="&"),i+=`${this._startName}=${e.from.toString()}`,-1!==e.to&&(i+=`&${this._endName}=${e.to.toString()}`)}return{url:i,headers:{}}}removeURLParameters(t){let e=t.split("?")[0],i=void 0,n=t.indexOf("?");-1!==n&&(i=t.substring(n+1));let r="";if(void 0!=i&&i.length>0){let t=i.split("&");for(let e=0;e<t.length;e++){let i=t[e].split("="),n=e>0;i[0]!==this._startName&&i[0]!==this._endName&&(n&&(r+="&"),r+=t[e])}}return 0===r.length?e:e+"?"+r}}var P=O;class L{constructor(t,e,i){this.TAG="IOController",this._config=e,this._extraData=i,this._stashInitialSize=393216,void 0!=e.stashInitialSize&&e.stashInitialSize>0&&(this._stashInitialSize=e.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=3145728,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,!1===e.enableStashBuffer&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=t,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(t.url),this._refTotalLength=t.filesize?t.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new h,this._speedNormalizeList=[64,128,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}destroy(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null}isWorking(){return this._loader&&this._loader.isWorking()&&!this._paused}isPaused(){return this._paused}get status(){return this._loader.status}get extraData(){return this._extraData}set extraData(t){this._extraData=t}get onDataArrival(){return this._onDataArrival}set onDataArrival(t){this._onDataArrival=t}get onSeeked(){return this._onSeeked}set onSeeked(t){this._onSeeked=t}get onError(){return this._onError}set onError(t){this._onError=t}get onComplete(){return this._onComplete}set onComplete(t){this._onComplete=t}get onRedirect(){return this._onRedirect}set onRedirect(t){this._onRedirect=t}get onRecoveredEarlyEof(){return this._onRecoveredEarlyEof}set onRecoveredEarlyEof(t){this._onRecoveredEarlyEof=t}get currentURL(){return this._dataSource.url}get hasRedirect(){return null!=this._redirectedURL||void 0!=this._dataSource.redirectedURL}get currentRedirectedURL(){return this._redirectedURL||this._dataSource.redirectedURL}get currentSpeed(){return this._loaderClass===k?this._loader.currentSpeed:this._speedSampler.lastSecondKBps}get loaderType(){return this._loader.type}_selectSeekHandler(){let t=this._config;if("range"===t.seekType)this._seekHandler=new I(this._config.rangeLoadZeroStart);else if("param"===t.seekType){let e=t.seekParamStart||"bstart",i=t.seekParamEnd||"bend";this._seekHandler=new P(e,i)}else{if("custom"!==t.seekType)throw new p("Invalid seekType in config: "+t.seekType);if("function"!==typeof t.customSeekHandler)throw new p("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new t.customSeekHandler}}_selectLoader(){if(null!=this._config.customLoader)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=M;else if(w.isSupported())this._loaderClass=w;else if(E.isSupported())this._loaderClass=E;else{if(!k.isSupported())throw new c("Your browser doesn't support xhr with arraybuffer responseType!");this._loaderClass=k}}_createLoader(){this._loader=new this._loaderClass(this._seekHandler,this._config),!1===this._loader.needStashBuffer&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)}open(t){this._currentRange={from:0,to:-1},t&&(this._currentRange.from=t),this._speedSampler.reset(),t||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))}abort(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)}pause(){this.isWorking()&&(this._loader.abort(),0!==this._stashUsed?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)}resume(){if(this._paused){this._paused=!1;let t=this._resumeFrom;this._resumeFrom=0,this._internalSeek(t,!0)}}seek(t){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(t,!0)}_internalSeek(t,e){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(e),this._loader.destroy(),this._loader=null;let i={from:t,to:-1};this._currentRange={from:i.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,i),this._onSeeked&&this._onSeeked()}updateUrl(t){if(!t||"string"!==typeof t||0===t.length)throw new p("Url must be a non-empty string!");this._dataSource.url=t}_expandBuffer(t){let e=this._stashSize;while(e+1048576<t)e*=2;if(e+=1048576,e===this._bufferSize)return;let i=new ArrayBuffer(e);if(this._stashUsed>0){let t=new Uint8Array(this._stashBuffer,0,this._stashUsed),n=new Uint8Array(i,0,e);n.set(t,0)}this._stashBuffer=i,this._bufferSize=e}_normalizeSpeed(t){let e=this._speedNormalizeList,i=e.length-1,n=0,r=0,s=i;if(t<e[0])return e[0];while(r<=s){if(n=r+Math.floor((s-r)/2),n===i||t>=e[n]&&t<e[n+1])return e[n];e[n]<t?r=n+1:s=n-1}}_adjustStashSize(t){let e=0;e=this._config.isLive||t<512?t:t>=512&&t<=1024?Math.floor(1.5*t):2*t,e>8192&&(e=8192);let i=1024*e+1048576;this._bufferSize<i&&this._expandBuffer(i),this._stashSize=1024*e}_dispatchChunks(t,e){return this._currentRange.to=e+t.byteLength-1,this._onDataArrival(t,e)}_onURLRedirect(t){this._redirectedURL=t,this._onRedirect&&this._onRedirect(t)}_onContentLengthKnown(t){t&&this._fullRequestFlag&&(this._totalLength=t,this._fullRequestFlag=!1)}_onLoaderChunkArrival(t,e,i){if(!this._onDataArrival)throw new d("IOController: No existing consumer (onDataArrival) callback!");if(this._paused)return;this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(t.byteLength);let n=this._speedSampler.lastSecondKBps;if(0!==n){let t=this._normalizeSpeed(n);this._speedNormalized!==t&&(this._speedNormalized=t,this._adjustStashSize(t))}if(this._enableStash)if(0===this._stashUsed&&0===this._stashByteStart&&(this._stashByteStart=e),this._stashUsed+t.byteLength<=this._stashSize){let e=new Uint8Array(this._stashBuffer,0,this._stashSize);e.set(new Uint8Array(t),this._stashUsed),this._stashUsed+=t.byteLength}else{let i=new Uint8Array(this._stashBuffer,0,this._bufferSize);if(this._stashUsed>0){let e=this._stashBuffer.slice(0,this._stashUsed),n=this._dispatchChunks(e,this._stashByteStart);if(n<e.byteLength){if(n>0){let t=new Uint8Array(e,n);i.set(t,0),this._stashUsed=t.byteLength,this._stashByteStart+=n}}else this._stashUsed=0,this._stashByteStart+=n;this._stashUsed+t.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+t.byteLength),i=new Uint8Array(this._stashBuffer,0,this._bufferSize)),i.set(new Uint8Array(t),this._stashUsed),this._stashUsed+=t.byteLength}else{let n=this._dispatchChunks(t,e);if(n<t.byteLength){let r=t.byteLength-n;r>this._bufferSize&&(this._expandBuffer(r),i=new Uint8Array(this._stashBuffer,0,this._bufferSize)),i.set(new Uint8Array(t,n),0),this._stashUsed+=r,this._stashByteStart=e+n}}}else if(0===this._stashUsed){let i=this._dispatchChunks(t,e);if(i<t.byteLength){let n=t.byteLength-i;n>this._bufferSize&&this._expandBuffer(n);let r=new Uint8Array(this._stashBuffer,0,this._bufferSize);r.set(new Uint8Array(t,i),0),this._stashUsed+=n,this._stashByteStart=e+i}}else{this._stashUsed+t.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+t.byteLength);let e=new Uint8Array(this._stashBuffer,0,this._bufferSize);e.set(new Uint8Array(t),this._stashUsed),this._stashUsed+=t.byteLength;let i=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart);if(i<this._stashUsed&&i>0){let t=new Uint8Array(this._stashBuffer,i);e.set(t,0)}this._stashUsed-=i,this._stashByteStart+=i}}_flushStashBuffer(t){if(this._stashUsed>0){let e=this._stashBuffer.slice(0,this._stashUsed),i=this._dispatchChunks(e,this._stashByteStart),n=e.byteLength-i;if(i<e.byteLength){if(!t){if(i>0){let t=new Uint8Array(this._stashBuffer,0,this._bufferSize),n=new Uint8Array(e,i);t.set(n,0),this._stashUsed=n.byteLength,this._stashByteStart+=i}return 0}l.w(this.TAG,n+" bytes unconsumed data remain when flush buffer, dropped")}return this._stashUsed=0,this._stashByteStart=0,n}return 0}_onLoaderComplete(t,e){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)}_onLoaderError(t,e){switch(l.e(this.TAG,`Loader error, code = ${e.code}, msg = ${e.msg}`),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,t=g.UNRECOVERABLE_EARLY_EOF),t){case g.EARLY_EOF:if(!this._config.isLive&&this._totalLength){let t=this._currentRange.to+1;return void(t<this._totalLength&&(l.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(t,!1)))}t=g.UNRECOVERABLE_EARLY_EOF;break;case g.UNRECOVERABLE_EARLY_EOF:case g.CONNECTING_TIMEOUT:case g.HTTP_STATUS_CODE_INVALID:case g.EXCEPTION:break}if(!this._onError)throw new c("IOException: "+e.msg);this._onError(t,e)}}var R=L;const D={enableWorker:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,lazyLoad:!0,lazyLoadMaxDuration:180,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:180,autoCleanupMinBackwardDuration:120,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0};function N(){return Object.assign({},D)}class B{static supportMSEH264Playback(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')}static supportNetworkStreamIO(){let t=new R({},N()),e=t.loaderType;return t.destroy(),"fetch-stream-loader"==e||"xhr-moz-chunked-loader"==e}static getNetworkLoaderTypeName(){let t=new R({},N()),e=t.loaderType;return t.destroy(),e}static supportNativeMediaPlayback(t){void 0==B.videoElement&&(B.videoElement=window.document.createElement("video"));let e=B.videoElement.canPlayType(t);return"probably"===e||"maybe"==e}static getFeatureList(){let t={mseFlvPlayback:!1,mseLiveFlvPlayback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return t.mseFlvPlayback=B.supportMSEH264Playback(),t.networkStreamIO=B.supportNetworkStreamIO(),t.networkLoaderName=B.getNetworkLoaderTypeName(),t.mseLiveFlvPlayback=t.mseFlvPlayback&&t.networkStreamIO,t.nativeMP4H264Playback=B.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),t.nativeWebmVP8Playback=B.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),t.nativeWebmVP9Playback=B.supportNativeMediaPlayback('video/webm; codecs="vp9"'),t}}var j=B;const U={ERROR:"error",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info"};var F=U;class z{static get forceGlobalTag(){return l.FORCE_GLOBAL_TAG}static set forceGlobalTag(t){l.FORCE_GLOBAL_TAG=t,z._notifyChange()}static get globalTag(){return l.GLOBAL_TAG}static set globalTag(t){l.GLOBAL_TAG=t,z._notifyChange()}static get enableAll(){return l.ENABLE_VERBOSE&&l.ENABLE_DEBUG&&l.ENABLE_INFO&&l.ENABLE_WARN&&l.ENABLE_ERROR}static set enableAll(t){l.ENABLE_VERBOSE=t,l.ENABLE_DEBUG=t,l.ENABLE_INFO=t,l.ENABLE_WARN=t,l.ENABLE_ERROR=t,z._notifyChange()}static get enableDebug(){return l.ENABLE_DEBUG}static set enableDebug(t){l.ENABLE_DEBUG=t,z._notifyChange()}static get enableVerbose(){return l.ENABLE_VERBOSE}static set enableVerbose(t){l.ENABLE_VERBOSE=t,z._notifyChange()}static get enableInfo(){return l.ENABLE_INFO}static set enableInfo(t){l.ENABLE_INFO=t,z._notifyChange()}static get enableWarn(){return l.ENABLE_WARN}static set enableWarn(t){l.ENABLE_WARN=t,z._notifyChange()}static get enableError(){return l.ENABLE_ERROR}static set enableError(t){l.ENABLE_ERROR=t,z._notifyChange()}static getConfig(){return{globalTag:l.GLOBAL_TAG,forceGlobalTag:l.FORCE_GLOBAL_TAG,enableVerbose:l.ENABLE_VERBOSE,enableDebug:l.ENABLE_DEBUG,enableInfo:l.ENABLE_INFO,enableWarn:l.ENABLE_WARN,enableError:l.ENABLE_ERROR,enableCallback:l.ENABLE_CALLBACK}}static applyConfig(t){l.GLOBAL_TAG=t.globalTag,l.FORCE_GLOBAL_TAG=t.forceGlobalTag,l.ENABLE_VERBOSE=t.enableVerbose,l.ENABLE_DEBUG=t.enableDebug,l.ENABLE_INFO=t.enableInfo,l.ENABLE_WARN=t.enableWarn,l.ENABLE_ERROR=t.enableError,l.ENABLE_CALLBACK=t.enableCallback}static _notifyChange(){let t=z.emitter;if(t.listenerCount("change")>0){let e=z.getConfig();t.emit("change",e)}}static registerListener(t){z.emitter.addListener("change",t)}static removeListener(t){z.emitter.removeListener("change",t)}static addLogListener(t){l.emitter.addListener("log",t),l.emitter.listenerCount("log")>0&&(l.ENABLE_CALLBACK=!0,z._notifyChange())}static removeLogListener(t){l.emitter.removeListener("log",t),0===l.emitter.listenerCount("log")&&(l.ENABLE_CALLBACK=!1,z._notifyChange())}}z.emitter=new a.a;var V=z;class H{constructor(){this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}isComplete(){let t=!1===this.hasAudio||!0===this.hasAudio&&null!=this.audioCodec&&null!=this.audioSampleRate&&null!=this.audioChannelCount,e=!1===this.hasVideo||!0===this.hasVideo&&null!=this.videoCodec&&null!=this.width&&null!=this.height&&null!=this.fps&&null!=this.profile&&null!=this.level&&null!=this.refFrames&&null!=this.chromaFormat&&null!=this.sarNum&&null!=this.sarDen;return null!=this.mimeType&&null!=this.duration&&null!=this.metadata&&null!=this.hasKeyframesIndex&&t&&e}isSeekable(){return!0===this.hasKeyframesIndex}getNearestKeyframe(t){if(null==this.keyframesIndex)return null;let e=this.keyframesIndex,i=this._search(e.times,t);return{index:i,milliseconds:e.times[i],fileposition:e.filepositions[i]}}_search(t,e){let i=0,n=t.length-1,r=0,s=0,a=n;e<t[0]&&(i=0,s=a+1);while(s<=a){if(r=s+Math.floor((a-s)/2),r===n||e>=t[r]&&e<t[r+1]){i=r;break}t[r]<e?s=r+1:a=r-1}return i}}var q=H;function G(t,e,i){let n=t;if(e+i<n.length){while(i--)if(128!==(192&n[++e]))return!1;return!0}return!1}function W(t){let e=[],i=t,n=0,r=t.length;while(n<r)if(i[n]<128)e.push(String.fromCharCode(i[n])),++n;else{if(i[n]<192);else if(i[n]<224){if(G(i,n,1)){let t=(31&i[n])<<6|63&i[n+1];if(t>=128){e.push(String.fromCharCode(65535&t)),n+=2;continue}}}else if(i[n]<240){if(G(i,n,2)){let t=(15&i[n])<<12|(63&i[n+1])<<6|63&i[n+2];if(t>=2048&&55296!==(63488&t)){e.push(String.fromCharCode(65535&t)),n+=3;continue}}}else if(i[n]<248&&G(i,n,3)){let t=(7&i[n])<<18|(63&i[n+1])<<12|(63&i[n+2])<<6|63&i[n+3];if(t>65536&&t<1114112){t-=65536,e.push(String.fromCharCode(t>>>10|55296)),e.push(String.fromCharCode(1023&t|56320)),n+=4;continue}}e.push(String.fromCharCode(65533)),++n}return e.join("")}var $=W;let K=function(){let t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),256===new Int16Array(t)[0]}();class Z{static parseScriptData(t,e,i){let n={};try{let r=Z.parseValue(t,e,i),s=Z.parseValue(t,e+r.size,i-r.size);n[r.data]=s.data}catch(r){l.e("AMF",r.toString())}return n}static parseObject(t,e,i){if(i<3)throw new d("Data not enough when parse ScriptDataObject");let n=Z.parseString(t,e,i),r=Z.parseValue(t,e+n.size,i-n.size),s=r.objectEnd;return{data:{name:n.data,value:r.data},size:n.size+r.size,objectEnd:s}}static parseVariable(t,e,i){return Z.parseObject(t,e,i)}static parseString(t,e,i){if(i<2)throw new d("Data not enough when parse String");let n,r=new DataView(t,e,i),s=r.getUint16(0,!K);return n=s>0?$(new Uint8Array(t,e+2,s)):"",{data:n,size:2+s}}static parseLongString(t,e,i){if(i<4)throw new d("Data not enough when parse LongString");let n,r=new DataView(t,e,i),s=r.getUint32(0,!K);return n=s>0?$(new Uint8Array(t,e+4,s)):"",{data:n,size:4+s}}static parseDate(t,e,i){if(i<10)throw new d("Data size invalid when parse Date");let n=new DataView(t,e,i),r=n.getFloat64(0,!K),s=n.getInt16(8,!K);return r+=60*s*1e3,{data:new Date(r),size:10}}static parseValue(t,e,i){if(i<1)throw new d("Data not enough when parse Value");let n,r=new DataView(t,e,i),s=1,a=r.getUint8(0),o=!1;try{switch(a){case 0:n=r.getFloat64(1,!K),s+=8;break;case 1:{let t=r.getUint8(1);n=!!t,s+=1;break}case 2:{let r=Z.parseString(t,e+1,i-1);n=r.data,s+=r.size;break}case 3:{n={};let a=0;9===(16777215&r.getUint32(i-4,!K))&&(a=3);while(s<i-4){let r=Z.parseObject(t,e+s,i-s-a);if(r.objectEnd)break;n[r.data.name]=r.data.value,s+=r.size}if(s<=i-3){let t=16777215&r.getUint32(s-1,!K);9===t&&(s+=3)}break}case 8:{n={},s+=4;let a=0;9===(16777215&r.getUint32(i-4,!K))&&(a=3);while(s<i-8){let r=Z.parseVariable(t,e+s,i-s-a);if(r.objectEnd)break;n[r.data.name]=r.data.value,s+=r.size}if(s<=i-3){let t=16777215&r.getUint32(s-1,!K);9===t&&(s+=3)}break}case 9:n=void 0,s=1,o=!0;break;case 10:{n=[];let a=r.getUint32(1,!K);s+=4;for(let r=0;r<a;r++){let r=Z.parseValue(t,e+s,i-s);n.push(r.data),s+=r.size}break}case 11:{let r=Z.parseDate(t,e+1,i-1);n=r.data,s+=r.size;break}case 12:{let r=Z.parseString(t,e+1,i-1);n=r.data,s+=r.size;break}default:s=i,l.w("AMF","Unsupported AMF value type "+a)}}catch(u){l.e("AMF",u.toString())}return{data:n,size:s,objectEnd:o}}}var X=Z;class Y{constructor(t){this.TAG="ExpGolomb",this._buffer=t,this._buffer_index=0,this._total_bytes=t.byteLength,this._total_bits=8*t.byteLength,this._current_word=0,this._current_word_bits_left=0}destroy(){this._buffer=null}_fillCurrentWord(){let t=this._total_bytes-this._buffer_index;if(t<=0)throw new d("ExpGolomb: _fillCurrentWord() but no bytes available");let e=Math.min(4,t),i=new Uint8Array(4);i.set(this._buffer.subarray(this._buffer_index,this._buffer_index+e)),this._current_word=new DataView(i.buffer).getUint32(0,!1),this._buffer_index+=e,this._current_word_bits_left=8*e}readBits(t){if(t>32)throw new p("ExpGolomb: readBits() bits exceeded max 32bits!");if(t<=this._current_word_bits_left){let e=this._current_word>>>32-t;return this._current_word<<=t,this._current_word_bits_left-=t,e}let e=this._current_word_bits_left?this._current_word:0;e>>>=32-this._current_word_bits_left;let i=t-this._current_word_bits_left;this._fillCurrentWord();let n=Math.min(i,this._current_word_bits_left),r=this._current_word>>>32-n;return this._current_word<<=n,this._current_word_bits_left-=n,e=e<<n|r,e}readBool(){return 1===this.readBits(1)}readByte(){return this.readBits(8)}_skipLeadingZero(){let t;for(t=0;t<this._current_word_bits_left;t++)if(0!==(this._current_word&2147483648>>>t))return this._current_word<<=t,this._current_word_bits_left-=t,t;return this._fillCurrentWord(),t+this._skipLeadingZero()}readUEG(){let t=this._skipLeadingZero();return this.readBits(t+1)-1}readSEG(){let t=this.readUEG();return 1&t?t+1>>>1:-1*(t>>>1)}}var Q=Y;class J{static _ebsp2rbsp(t){let e=t,i=e.byteLength,n=new Uint8Array(i),r=0;for(let s=0;s<i;s++)s>=2&&3===e[s]&&0===e[s-1]&&0===e[s-2]||(n[r]=e[s],r++);return new Uint8Array(n.buffer,0,r)}static parseSPS(t){let e=J._ebsp2rbsp(t),i=new Q(e);i.readByte();let n=i.readByte();i.readByte();let r=i.readByte();i.readUEG();let s=J.getProfileString(n),a=J.getLevelString(r),o=1,l=420,u=[0,420,422,444],h=8;if((100===n||110===n||122===n||244===n||44===n||83===n||86===n||118===n||128===n||138===n||144===n)&&(o=i.readUEG(),3===o&&i.readBits(1),o<=3&&(l=u[o]),h=i.readUEG()+8,i.readUEG(),i.readBits(1),i.readBool())){let t=3!==o?8:12;for(let e=0;e<t;e++)i.readBool()&&(e<6?J._skipScalingList(i,16):J._skipScalingList(i,64))}i.readUEG();let c=i.readUEG();if(0===c)i.readUEG();else if(1===c){i.readBits(1),i.readSEG(),i.readSEG();let t=i.readUEG();for(let e=0;e<t;e++)i.readSEG()}let d=i.readUEG();i.readBits(1);let p=i.readUEG(),f=i.readUEG(),m=i.readBits(1);0===m&&i.readBits(1),i.readBits(1);let g=0,_=0,v=0,y=0,b=i.readBool();b&&(g=i.readUEG(),_=i.readUEG(),v=i.readUEG(),y=i.readUEG());let T=1,w=1,S=0,E=!0,C=0,k=0,x=i.readBool();if(x){if(i.readBool()){let t=i.readByte(),e=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],n=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];t>0&&t<16?(T=e[t-1],w=n[t-1]):255===t&&(T=i.readByte()<<8|i.readByte(),w=i.readByte()<<8|i.readByte())}if(i.readBool()&&i.readBool(),i.readBool()&&(i.readBits(4),i.readBool()&&i.readBits(24)),i.readBool()&&(i.readUEG(),i.readUEG()),i.readBool()){let t=i.readBits(32),e=i.readBits(32);E=i.readBool(),C=e,k=2*t,S=C/k}}let M=1;1===T&&1===w||(M=T/w);let A=0,I=0;if(0===o)A=1,I=2-m;else{let t=3===o?1:2,e=1===o?2:1;A=t,I=e*(2-m)}let O=16*(p+1),P=16*(f+1)*(2-m);O-=(g+_)*A,P-=(v+y)*I;let L=Math.ceil(O*M);return i.destroy(),i=null,{profile_string:s,level_string:a,bit_depth:h,ref_frames:d,chroma_format:l,chroma_format_string:J.getChromaFormatString(l),frame_rate:{fixed:E,fps:S,fps_den:k,fps_num:C},sar_ratio:{width:T,height:w},codec_size:{width:O,height:P},present_size:{width:L,height:P}}}static _skipScalingList(t,e){let i=8,n=8,r=0;for(let s=0;s<e;s++)0!==n&&(r=t.readSEG(),n=(i+r+256)%256),i=0===n?i:n}static getProfileString(t){switch(t){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}}static getLevelString(t){return(t/10).toFixed(1)}static getChromaFormatString(t){switch(t){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}}}var tt=J;const et={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"};var it=et;function nt(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}class rt{constructor(t,e){this.TAG="FLVDemuxer",this._config=e,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=t.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=t.hasAudioTrack,this._hasVideo=t.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new q,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=function(){let t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),256===new Int16Array(t)[0]}()}destroy(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null}static probe(t){let e=new Uint8Array(t),i={match:!1};if(70!==e[0]||76!==e[1]||86!==e[2]||1!==e[3])return i;let n=(4&e[4])>>>2!==0,r=0!==(1&e[4]),s=nt(e,5);return s<9?i:{match:!0,consumed:s,dataOffset:s,hasAudioTrack:n,hasVideoTrack:r}}bindDataSource(t){return t.onDataArrival=this.parseChunks.bind(this),this}get onTrackMetadata(){return this._onTrackMetadata}set onTrackMetadata(t){this._onTrackMetadata=t}get onMediaInfo(){return this._onMediaInfo}set onMediaInfo(t){this._onMediaInfo=t}get onMetaDataArrived(){return this._onMetaDataArrived}set onMetaDataArrived(t){this._onMetaDataArrived=t}get onScriptDataArrived(){return this._onScriptDataArrived}set onScriptDataArrived(t){this._onScriptDataArrived=t}get onError(){return this._onError}set onError(t){this._onError=t}get onDataAvailable(){return this._onDataAvailable}set onDataAvailable(t){this._onDataAvailable=t}get timestampBase(){return this._timestampBase}set timestampBase(t){this._timestampBase=t}get overridedDuration(){return this._duration}set overridedDuration(t){this._durationOverrided=!0,this._duration=t,this._mediaInfo.duration=t}set overridedHasAudio(t){this._hasAudioFlagOverrided=!0,this._hasAudio=t,this._mediaInfo.hasAudio=t}set overridedHasVideo(t){this._hasVideoFlagOverrided=!0,this._hasVideo=t,this._mediaInfo.hasVideo=t}resetMediaInfo(){this._mediaInfo=new q}_isInitialMetadataDispatched(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!(this._hasAudio||!this._hasVideo)&&this._videoInitialMetadataDispatched}parseChunks(t,e){if(!this._onError||!this._onMediaInfo||!this._onTrackMetadata||!this._onDataAvailable)throw new d("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");let i=0,n=this._littleEndian;if(0===e){if(!(t.byteLength>13))return 0;{let e=rt.probe(t);i=e.dataOffset}}if(this._firstParse){this._firstParse=!1,e+i!==this._dataOffset&&l.w(this.TAG,"First time parsing but chunk byteStart invalid!");let r=new DataView(t,i),s=r.getUint32(0,!n);0!==s&&l.w(this.TAG,"PrevTagSize0 !== 0 !!!"),i+=4}while(i<t.byteLength){this._dispatch=!0;let r=new DataView(t,i);if(i+11+4>t.byteLength)break;let s=r.getUint8(0),a=16777215&r.getUint32(0,!n);if(i+11+a+4>t.byteLength)break;if(8!==s&&9!==s&&18!==s){l.w(this.TAG,`Unsupported tag type ${s}, skipped`),i+=11+a+4;continue}let o=r.getUint8(4),u=r.getUint8(5),h=r.getUint8(6),c=r.getUint8(7),d=h|u<<8|o<<16|c<<24,p=16777215&r.getUint32(7,!n);0!==p&&l.w(this.TAG,"Meet tag which has StreamID != 0!");let f=i+11;switch(s){case 8:this._parseAudioData(t,f,a,d);break;case 9:this._parseVideoData(t,f,a,d,e+i);break;case 18:this._parseScriptData(t,f,a);break}let m=r.getUint32(11+a,!n);m!==11+a&&l.w(this.TAG,"Invalid PrevTagSize "+m),i+=11+a+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),i}_parseScriptData(t,e,i){let n=X.parseScriptData(t,e,i);if(n.hasOwnProperty("onMetaData")){if(null==n.onMetaData||"object"!==typeof n.onMetaData)return void l.w(this.TAG,"Invalid onMetaData structure!");this._metadata&&l.w(this.TAG,"Found another onMetaData tag!"),this._metadata=n;let t=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},t)),"boolean"===typeof t.hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=t.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),"boolean"===typeof t.hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=t.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),"number"===typeof t.audiodatarate&&(this._mediaInfo.audioDataRate=t.audiodatarate),"number"===typeof t.videodatarate&&(this._mediaInfo.videoDataRate=t.videodatarate),"number"===typeof t.width&&(this._mediaInfo.width=t.width),"number"===typeof t.height&&(this._mediaInfo.height=t.height),"number"===typeof t.duration){if(!this._durationOverrided){let e=Math.floor(t.duration*this._timescale);this._duration=e,this._mediaInfo.duration=e}}else this._mediaInfo.duration=0;if("number"===typeof t.framerate){let e=Math.floor(1e3*t.framerate);if(e>0){let t=e/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=t,this._referenceFrameRate.fps_num=e,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=t}}if("object"===typeof t.keyframes){this._mediaInfo.hasKeyframesIndex=!0;let e=t.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(e),t.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=t,l.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(n).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},n))}_parseKeyframesIndex(t){let e=[],i=[];for(let n=1;n<t.times.length;n++){let r=this._timestampBase+Math.floor(1e3*t.times[n]);e.push(r),i.push(t.filepositions[n])}return{times:e,filepositions:i}}_parseAudioData(t,e,i,n){if(i<=1)return void l.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");if(!0===this._hasAudioFlagOverrided&&!1===this._hasAudio)return;this._littleEndian;let r=new DataView(t,e,i),s=r.getUint8(0),a=s>>>4;if(2!==a&&10!==a)return void this._onError(it.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+a);let o=0,u=(12&s)>>>2;if(!(u>=0&&u<=4))return void this._onError(it.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+u);o=this._flvSoundRateTable[u];let h=1&s,c=this._audioMetadata,d=this._audioTrack;if(c||(!1===this._hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),c=this._audioMetadata={},c.type="audio",c.id=d.id,c.timescale=this._timescale,c.duration=this._duration,c.audioSampleRate=o,c.channelCount=0===h?1:2),10===a){let r=this._parseAACAudioData(t,e+1,i-1);if(void 0==r)return;if(0===r.packetType){c.config&&l.w(this.TAG,"Found another AudioSpecificConfig!");let t=r.data;c.audioSampleRate=t.samplingRate,c.channelCount=t.channelCount,c.codec=t.codec,c.originalCodec=t.originalCodec,c.config=t.config,c.refSampleDuration=1024/c.audioSampleRate*c.timescale,l.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",c);let e=this._mediaInfo;e.audioCodec=c.originalCodec,e.audioSampleRate=c.audioSampleRate,e.audioChannelCount=c.channelCount,e.hasVideo?null!=e.videoCodec&&(e.mimeType='video/x-flv; codecs="'+e.videoCodec+","+e.audioCodec+'"'):e.mimeType='video/x-flv; codecs="'+e.audioCodec+'"',e.isComplete()&&this._onMediaInfo(e)}else if(1===r.packetType){let t=this._timestampBase+n,e={unit:r.data,length:r.data.byteLength,dts:t,pts:t};d.samples.push(e),d.length+=r.data.length}else l.e(this.TAG,"Flv: Unsupported AAC data type "+r.packetType)}else if(2===a){if(!c.codec){let n=this._parseMP3AudioData(t,e+1,i-1,!0);if(void 0==n)return;c.audioSampleRate=n.samplingRate,c.channelCount=n.channelCount,c.codec=n.codec,c.originalCodec=n.originalCodec,c.refSampleDuration=1152/c.audioSampleRate*c.timescale,l.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",c);let r=this._mediaInfo;r.audioCodec=c.codec,r.audioSampleRate=c.audioSampleRate,r.audioChannelCount=c.channelCount,r.audioDataRate=n.bitRate,r.hasVideo?null!=r.videoCodec&&(r.mimeType='video/x-flv; codecs="'+r.videoCodec+","+r.audioCodec+'"'):r.mimeType='video/x-flv; codecs="'+r.audioCodec+'"',r.isComplete()&&this._onMediaInfo(r)}let r=this._parseMP3AudioData(t,e+1,i-1,!1);if(void 0==r)return;let s=this._timestampBase+n,a={unit:r,length:r.byteLength,dts:s,pts:s};d.samples.push(a),d.length+=r.length}}_parseAACAudioData(t,e,i){if(i<=1)return void l.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!");let n={},r=new Uint8Array(t,e,i);return n.packetType=r[0],0===r[0]?n.data=this._parseAACAudioSpecificConfig(t,e+1,i-1):n.data=r.subarray(1),n}_parseAACAudioSpecificConfig(t,e,i){let n=new Uint8Array(t,e,i),r=null,s=0,a=0,o=null,l=0,u=null;if(s=a=n[0]>>>3,l=(7&n[0])<<1|n[1]>>>7,l<0||l>=this._mpegSamplingRates.length)return void this._onError(it.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");let h=this._mpegSamplingRates[l],c=(120&n[1])>>>3;if(c<0||c>=8)return void this._onError(it.FORMAT_ERROR,"Flv: AAC invalid channel configuration");5===s&&(u=(7&n[1])<<1|n[2]>>>7,o=(124&n[2])>>>2);let d=self.navigator.userAgent.toLowerCase();return-1!==d.indexOf("firefox")?l>=6?(s=5,r=new Array(4),u=l-3):(s=2,r=new Array(2),u=l):-1!==d.indexOf("android")?(s=2,r=new Array(2),u=l):(s=5,u=l,r=new Array(4),l>=6?u=l-3:1===c&&(s=2,r=new Array(2),u=l)),r[0]=s<<3,r[0]|=(15&l)>>>1,r[1]=(15&l)<<7,r[1]|=(15&c)<<3,5===s&&(r[1]|=(15&u)>>>1,r[2]=(1&u)<<7,r[2]|=8,r[3]=0),{config:r,samplingRate:h,channelCount:c,codec:"mp4a.40."+s,originalCodec:"mp4a.40."+a}}_parseMP3AudioData(t,e,i,n){if(i<4)return void l.w(this.TAG,"Flv: Invalid MP3 packet, header missing!");this._littleEndian;let r=new Uint8Array(t,e,i),s=null;if(n){if(255!==r[0])return;let t=r[1]>>>3&3,e=(6&r[1])>>1,i=(240&r[2])>>>4,n=(12&r[2])>>>2,a=r[3]>>>6&3,o=3!==a?2:1,l=0,u=0,h=34,c="mp3";switch(t){case 0:l=this._mpegAudioV25SampleRateTable[n];break;case 2:l=this._mpegAudioV20SampleRateTable[n];break;case 3:l=this._mpegAudioV10SampleRateTable[n];break}switch(e){case 1:h=34,i<this._mpegAudioL3BitRateTable.length&&(u=this._mpegAudioL3BitRateTable[i]);break;case 2:h=33,i<this._mpegAudioL2BitRateTable.length&&(u=this._mpegAudioL2BitRateTable[i]);break;case 3:h=32,i<this._mpegAudioL1BitRateTable.length&&(u=this._mpegAudioL1BitRateTable[i]);break}s={bitRate:u,samplingRate:l,channelCount:o,codec:c,originalCodec:c}}else s=r;return s}_parseVideoData(t,e,i,n,r){if(i<=1)return void l.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");if(!0===this._hasVideoFlagOverrided&&!1===this._hasVideo)return;let s=new Uint8Array(t,e,i)[0],a=(240&s)>>>4,o=15&s;7===o?this._parseAVCVideoPacket(t,e+1,i-1,n,r,a):this._onError(it.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: "+o)}_parseAVCVideoPacket(t,e,i,n,r,s){if(i<4)return void l.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");let a=this._littleEndian,o=new DataView(t,e,i),u=o.getUint8(0),h=16777215&o.getUint32(0,!a),c=h<<8>>8;if(0===u)this._parseAVCDecoderConfigurationRecord(t,e+4,i-4);else if(1===u)this._parseAVCVideoData(t,e+4,i-4,n,r,s,c);else if(2!==u)return void this._onError(it.FORMAT_ERROR,"Flv: Invalid video packet type "+u)}_parseAVCDecoderConfigurationRecord(t,e,i){if(i<7)return void l.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");let n=this._videoMetadata,r=this._videoTrack,s=this._littleEndian,a=new DataView(t,e,i);n?"undefined"!==typeof n.avcc&&l.w(this.TAG,"Found another AVCDecoderConfigurationRecord!"):(!1===this._hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),n=this._videoMetadata={},n.type="video",n.id=r.id,n.timescale=this._timescale,n.duration=this._duration);let o=a.getUint8(0),u=a.getUint8(1);a.getUint8(2),a.getUint8(3);if(1!==o||0===u)return void this._onError(it.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord");if(this._naluLengthSize=1+(3&a.getUint8(4)),3!==this._naluLengthSize&&4!==this._naluLengthSize)return void this._onError(it.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));let h=31&a.getUint8(5);if(0===h)return void this._onError(it.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS");h>1&&l.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = "+h);let c=6;for(let l=0;l<h;l++){let i=a.getUint16(c,!s);if(c+=2,0===i)continue;let r=new Uint8Array(t,e+c,i);c+=i;let o=tt.parseSPS(r);if(0!==l)continue;n.codecWidth=o.codec_size.width,n.codecHeight=o.codec_size.height,n.presentWidth=o.present_size.width,n.presentHeight=o.present_size.height,n.profile=o.profile_string,n.level=o.level_string,n.bitDepth=o.bit_depth,n.chromaFormat=o.chroma_format,n.sarRatio=o.sar_ratio,n.frameRate=o.frame_rate,!1!==o.frame_rate.fixed&&0!==o.frame_rate.fps_num&&0!==o.frame_rate.fps_den||(n.frameRate=this._referenceFrameRate);let u=n.frameRate.fps_den,h=n.frameRate.fps_num;n.refSampleDuration=n.timescale*(u/h);let d=r.subarray(1,4),p="avc1.";for(let t=0;t<3;t++){let e=d[t].toString(16);e.length<2&&(e="0"+e),p+=e}n.codec=p;let f=this._mediaInfo;f.width=n.codecWidth,f.height=n.codecHeight,f.fps=n.frameRate.fps,f.profile=n.profile,f.level=n.level,f.refFrames=o.ref_frames,f.chromaFormat=o.chroma_format_string,f.sarNum=n.sarRatio.width,f.sarDen=n.sarRatio.height,f.videoCodec=p,f.hasAudio?null!=f.audioCodec&&(f.mimeType='video/x-flv; codecs="'+f.videoCodec+","+f.audioCodec+'"'):f.mimeType='video/x-flv; codecs="'+f.videoCodec+'"',f.isComplete()&&this._onMediaInfo(f)}let d=a.getUint8(c);if(0!==d){d>1&&l.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = "+d),c++;for(let t=0;t<d;t++){let t=a.getUint16(c,!s);c+=2,0!==t&&(c+=t)}n.avcc=new Uint8Array(i),n.avcc.set(new Uint8Array(t,e,i),0),l.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",n)}else this._onError(it.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS")}_parseAVCVideoData(t,e,i,n,r,s,a){let o=this._littleEndian,u=new DataView(t,e,i),h=[],c=0,d=0;const p=this._naluLengthSize;let f=this._timestampBase+n,m=1===s;while(d<i){if(d+4>=i){l.w(this.TAG,`Malformed Nalu near timestamp ${f}, offset = ${d}, dataSize = ${i}`);break}let n=u.getUint32(d,!o);if(3===p&&(n>>>=8),n>i-p)return void l.w(this.TAG,`Malformed Nalus near timestamp ${f}, NaluSize > DataSize!`);let r=31&u.getUint8(d+p);5===r&&(m=!0);let s=new Uint8Array(t,e+d,p+n),a={type:r,data:s};h.push(a),c+=s.byteLength,d+=p+n}if(h.length){let t=this._videoTrack,e={units:h,length:c,isKeyframe:m,dts:f,cts:a,pts:f+a};m&&(e.fileposition=r),t.samples.push(e),t.length+=c}}}var st=rt;class at{static init(){at.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[]};for(let e in at.types)at.types.hasOwnProperty(e)&&(at.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);let t=at.constants={};t.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),t.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),t.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),t.STSC=t.STCO=t.STTS,t.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),t.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),t.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),t.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),t.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),t.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}static box(t){let e=8,i=null,n=Array.prototype.slice.call(arguments,1),r=n.length;for(let a=0;a<r;a++)e+=n[a].byteLength;i=new Uint8Array(e),i[0]=e>>>24&255,i[1]=e>>>16&255,i[2]=e>>>8&255,i[3]=255&e,i.set(t,4);let s=8;for(let a=0;a<r;a++)i.set(n[a],s),s+=n[a].byteLength;return i}static generateInitSegment(t){let e=at.box(at.types.ftyp,at.constants.FTYP),i=at.moov(t),n=new Uint8Array(e.byteLength+i.byteLength);return n.set(e,0),n.set(i,e.byteLength),n}static moov(t){let e=at.mvhd(t.timescale,t.duration),i=at.trak(t),n=at.mvex(t);return at.box(at.types.moov,e,i,n)}static mvhd(t,e){return at.box(at.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,e>>>24&255,e>>>16&255,e>>>8&255,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))}static trak(t){return at.box(at.types.trak,at.tkhd(t),at.mdia(t))}static tkhd(t){let e=t.id,i=t.duration,n=t.presentWidth,r=t.presentHeight;return at.box(at.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e,0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,n>>>8&255,255&n,0,0,r>>>8&255,255&r,0,0]))}static mdia(t){return at.box(at.types.mdia,at.mdhd(t),at.hdlr(t),at.minf(t))}static mdhd(t){let e=t.timescale,i=t.duration;return at.box(at.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e,i>>>24&255,i>>>16&255,i>>>8&255,255&i,85,196,0,0]))}static hdlr(t){let e=null;return e="audio"===t.type?at.constants.HDLR_AUDIO:at.constants.HDLR_VIDEO,at.box(at.types.hdlr,e)}static minf(t){let e=null;return e="audio"===t.type?at.box(at.types.smhd,at.constants.SMHD):at.box(at.types.vmhd,at.constants.VMHD),at.box(at.types.minf,e,at.dinf(),at.stbl(t))}static dinf(){let t=at.box(at.types.dinf,at.box(at.types.dref,at.constants.DREF));return t}static stbl(t){let e=at.box(at.types.stbl,at.stsd(t),at.box(at.types.stts,at.constants.STTS),at.box(at.types.stsc,at.constants.STSC),at.box(at.types.stsz,at.constants.STSZ),at.box(at.types.stco,at.constants.STCO));return e}static stsd(t){return"audio"===t.type?"mp3"===t.codec?at.box(at.types.stsd,at.constants.STSD_PREFIX,at.mp3(t)):at.box(at.types.stsd,at.constants.STSD_PREFIX,at.mp4a(t)):at.box(at.types.stsd,at.constants.STSD_PREFIX,at.avc1(t))}static mp3(t){let e=t.channelCount,i=t.audioSampleRate,n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e,0,16,0,0,0,0,i>>>8&255,255&i,0,0]);return at.box(at.types[".mp3"],n)}static mp4a(t){let e=t.channelCount,i=t.audioSampleRate,n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e,0,16,0,0,0,0,i>>>8&255,255&i,0,0]);return at.box(at.types.mp4a,n,at.esds(t))}static esds(t){let e=t.config||[],i=e.length,n=new Uint8Array([0,0,0,0,3,23+i,0,1,0,4,15+i,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([i]).concat(e).concat([6,1,2]));return at.box(at.types.esds,n)}static avc1(t){let e=t.avcc,i=t.codecWidth,n=t.codecHeight,r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,i>>>8&255,255&i,n>>>8&255,255&n,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return at.box(at.types.avc1,r,at.box(at.types.avcC,e))}static mvex(t){return at.box(at.types.mvex,at.trex(t))}static trex(t){let e=t.id,i=new Uint8Array([0,0,0,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return at.box(at.types.trex,i)}static moof(t,e){return at.box(at.types.moof,at.mfhd(t.sequenceNumber),at.traf(t,e))}static mfhd(t){let e=new Uint8Array([0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t]);return at.box(at.types.mfhd,e)}static traf(t,e){let i=t.id,n=at.box(at.types.tfhd,new Uint8Array([0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i])),r=at.box(at.types.tfdt,new Uint8Array([0,0,0,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e])),s=at.sdtp(t),a=at.trun(t,s.byteLength+16+16+8+16+8+8);return at.box(at.types.traf,n,r,a,s)}static sdtp(t){let e=t.samples||[],i=e.length,n=new Uint8Array(4+i);for(let r=0;r<i;r++){let t=e[r].flags;n[r+4]=t.isLeading<<6|t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy}return at.box(at.types.sdtp,n)}static trun(t,e){let i=t.samples||[],n=i.length,r=12+16*n,s=new Uint8Array(r);e+=8+r,s.set([0,0,15,1,n>>>24&255,n>>>16&255,n>>>8&255,255&n,e>>>24&255,e>>>16&255,e>>>8&255,255&e],0);for(let a=0;a<n;a++){let t=i[a].duration,e=i[a].size,n=i[a].flags,r=i[a].cts;s.set([t>>>24&255,t>>>16&255,t>>>8&255,255&t,e>>>24&255,e>>>16&255,e>>>8&255,255&e,n.isLeading<<2|n.dependsOn,n.isDependedOn<<6|n.hasRedundancy<<4|n.isNonSync,0,0,r>>>24&255,r>>>16&255,r>>>8&255,255&r],12+16*a)}return at.box(at.types.trun,s)}static mdat(t){return at.box(at.types.mdat,t)}}at.init();var ot=at;class lt{static getSilentFrame(t,e){if("mp4a.40.2"===t){if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}}var ut=lt;class ht{constructor(t,e,i,n,r){this.dts=t,this.pts=e,this.duration=i,this.originalDts=n,this.isSyncPoint=r,this.fileposition=null}}class ct{constructor(){this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}appendSyncPoint(t){t.isSyncPoint=!0,this.syncPoints.push(t)}}class dt{constructor(){this._list=[]}clear(){this._list=[]}appendArray(t){let e=this._list;0!==t.length&&(e.length>0&&t[0].originalDts<e[e.length-1].originalDts&&this.clear(),Array.prototype.push.apply(e,t))}getLastSyncPointBeforeDts(t){if(0==this._list.length)return null;let e=this._list,i=0,n=e.length-1,r=0,s=0,a=n;t<e[0].dts&&(i=0,s=a+1);while(s<=a){if(r=s+Math.floor((a-s)/2),r===n||t>=e[r].dts&&t<e[r+1].dts){i=r;break}e[r].dts<t?s=r+1:a=r-1}return this._list[i]}}class pt{constructor(t){this._type=t,this._list=[],this._lastAppendLocation=-1}get type(){return this._type}get length(){return this._list.length}isEmpty(){return 0===this._list.length}clear(){this._list=[],this._lastAppendLocation=-1}_searchNearestSegmentBefore(t){let e=this._list;if(0===e.length)return-2;let i=e.length-1,n=0,r=0,s=i,a=0;if(t<e[0].originalBeginDts)return a=-1,a;while(r<=s){if(n=r+Math.floor((s-r)/2),n===i||t>e[n].lastSample.originalDts&&t<e[n+1].originalBeginDts){a=n;break}e[n].originalBeginDts<t?r=n+1:s=n-1}return a}_searchNearestSegmentAfter(t){return this._searchNearestSegmentBefore(t)+1}append(t){let e=this._list,i=t,n=this._lastAppendLocation,r=0;-1!==n&&n<e.length&&i.originalBeginDts>=e[n].lastSample.originalDts&&(n===e.length-1||n<e.length-1&&i.originalBeginDts<e[n+1].originalBeginDts)?r=n+1:e.length>0&&(r=this._searchNearestSegmentBefore(i.originalBeginDts)+1),this._lastAppendLocation=r,this._list.splice(r,0,i)}getLastSegmentBefore(t){let e=this._searchNearestSegmentBefore(t);return e>=0?this._list[e]:null}getLastSampleBefore(t){let e=this.getLastSegmentBefore(t);return null!=e?e.lastSample:null}getLastSyncPointBefore(t){let e=this._searchNearestSegmentBefore(t),i=this._list[e].syncPoints;while(0===i.length&&e>0)e--,i=this._list[e].syncPoints;return i.length>0?i[i.length-1]:null}}class ft{constructor(t){this.TAG="MP4Remuxer",this._config=t,this._isLive=!0===t.isLive,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new pt("audio"),this._videoSegmentInfoList=new pt("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!(!b.chrome||!(b.version.major<50||50===b.version.major&&b.version.build<2661)),this._fillSilentAfterSeek=b.msedge||b.msie,this._mp3UseMpegAudio=!b.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}destroy(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null}bindDataSource(t){return t.onDataAvailable=this.remux.bind(this),t.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this}get onInitSegment(){return this._onInitSegment}set onInitSegment(t){this._onInitSegment=t}get onMediaSegment(){return this._onMediaSegment}set onMediaSegment(t){this._onMediaSegment=t}insertDiscontinuity(){this._audioNextDts=this._videoNextDts=void 0}seek(t){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()}remux(t,e){if(!this._onMediaSegment)throw new d("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(t,e),this._remuxVideo(e),this._remuxAudio(t)}_onTrackMetadataReceived(t,e){let i=null,n="mp4",r=e.codec;if("audio"===t)this._audioMeta=e,"mp3"===e.codec&&this._mp3UseMpegAudio?(n="mpeg",r="",i=new Uint8Array):i=ot.generateInitSegment(e);else{if("video"!==t)return;this._videoMeta=e,i=ot.generateInitSegment(e)}if(!this._onInitSegment)throw new d("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(t,{type:t,data:i.buffer,codec:r,container:`${t}/${n}`,mediaDuration:e.duration})}_calculateDtsBase(t,e){this._dtsBaseInited||(t.samples&&t.samples.length&&(this._audioDtsBase=t.samples[0].dts),e.samples&&e.samples.length&&(this._videoDtsBase=e.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)}flushStashedSamples(){let t=this._videoStashedLastSample,e=this._audioStashedLastSample,i={type:"video",id:1,sequenceNumber:0,samples:[],length:0};null!=t&&(i.samples.push(t),i.length=t.length);let n={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};null!=e&&(n.samples.push(e),n.length=e.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(i,!0),this._remuxAudio(n,!0)}_remuxAudio(t,e){if(null==this._audioMeta)return;let i=t,n=i.samples,r=void 0,s=-1,a=-1,o=this._audioMeta.refSampleDuration,u="mp3"===this._audioMeta.codec&&this._mp3UseMpegAudio,h=this._dtsBaseInited&&void 0===this._audioNextDts,c=!1;if(!n||0===n.length)return;if(1===n.length&&!e)return;let d=0,p=null,f=0;u?(d=0,f=i.length):(d=8,f=8+i.length);let m=null;if(n.length>1&&(m=n.pop(),f-=m.length),null!=this._audioStashedLastSample){let t=this._audioStashedLastSample;this._audioStashedLastSample=null,n.unshift(t),f+=t.length}null!=m&&(this._audioStashedLastSample=m);let g=n[0].dts-this._dtsBase;if(this._audioNextDts)r=g-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())r=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&"mp3"!==this._audioMeta.originalCodec&&(c=!0);else{let t=this._audioSegmentInfoList.getLastSampleBefore(g);if(null!=t){let e=g-(t.originalDts+t.duration);e<=3&&(e=0);let i=t.dts+t.duration+e;r=g-i}else r=0}if(c){let t=g-r,e=this._videoSegmentInfoList.getLastSegmentBefore(g);if(null!=e&&e.beginDts<t){let i=ut.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);if(i){let r=e.beginDts,s=t-e.beginDts;l.v(this.TAG,`InsertPrefixSilentAudio: dts: ${r}, duration: ${s}`),n.unshift({unit:i,dts:r,pts:r}),f+=i.byteLength}}else c=!1}let _=[];for(let S=0;S<n.length;S++){let t=n[S],e=t.unit,i=t.dts-this._dtsBase,a=i-r;-1===s&&(s=a);let u=0;if(S!==n.length-1){let t=n[S+1].dts-this._dtsBase-r;u=t-a}else if(null!=m){let t=m.dts-this._dtsBase-r;u=t-a}else u=_.length>=1?_[_.length-1].duration:Math.floor(o);let h=!1,c=null;if(u>1.5*o&&"mp3"!==this._audioMeta.codec&&this._fillAudioTimestampGap&&!b.safari){h=!0;let t=Math.abs(u-o),n=Math.ceil(t/o),r=a+o;l.w(this.TAG,`Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.\ndts: ${a+u} ms, expected: ${a+Math.round(o)} ms, delta: ${Math.round(t)} ms, generate: ${n} frames`);let s=ut.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);null==s&&(l.w(this.TAG,`Unable to generate silent frame for ${this._audioMeta.originalCodec} with ${this._audioMeta.channelCount} channels, repeat last frame`),s=e),c=[];for(let e=0;e<n;e++){let t=Math.round(r);if(c.length>0){let e=c[c.length-1];e.duration=t-e.dts}let e={dts:t,pts:t,cts:0,unit:s,size:s.byteLength,duration:0,originalDts:i,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};c.push(e),f+=e.size,r+=o}let d=c[c.length-1];d.duration=a+u-d.dts,u=Math.round(o)}_.push({dts:a,pts:a,cts:0,unit:t.unit,size:t.unit.byteLength,duration:u,originalDts:i,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),h&&_.push.apply(_,c)}u?p=new Uint8Array(f):(p=new Uint8Array(f),p[0]=f>>>24&255,p[1]=f>>>16&255,p[2]=f>>>8&255,p[3]=255&f,p.set(ot.types.mdat,4));for(let l=0;l<_.length;l++){let t=_[l].unit;p.set(t,d),d+=t.byteLength}let v=_[_.length-1];a=v.dts+v.duration,this._audioNextDts=a;let y=new ct;y.beginDts=s,y.endDts=a,y.beginPts=s,y.endPts=a,y.originalBeginDts=_[0].originalDts,y.originalEndDts=v.originalDts+v.duration,y.firstSample=new ht(_[0].dts,_[0].pts,_[0].duration,_[0].originalDts,!1),y.lastSample=new ht(v.dts,v.pts,v.duration,v.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(y),i.samples=_,i.sequenceNumber++;let T=null;T=u?new Uint8Array:ot.moof(i,s),i.samples=[],i.length=0;let w={type:"audio",data:this._mergeBoxes(T,p).buffer,sampleCount:_.length,info:y};u&&h&&(w.timestampOffset=s),this._onMediaSegment("audio",w)}_remuxVideo(t,e){if(null==this._videoMeta)return;let i=t,n=i.samples,r=void 0,s=-1,a=-1,o=-1,l=-1;if(!n||0===n.length)return;if(1===n.length&&!e)return;let u=8,h=null,c=8+t.length,d=null;if(n.length>1&&(d=n.pop(),c-=d.length),null!=this._videoStashedLastSample){let t=this._videoStashedLastSample;this._videoStashedLastSample=null,n.unshift(t),c+=t.length}null!=d&&(this._videoStashedLastSample=d);let p=n[0].dts-this._dtsBase;if(this._videoNextDts)r=p-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())r=0;else{let t=this._videoSegmentInfoList.getLastSampleBefore(p);if(null!=t){let e=p-(t.originalDts+t.duration);e<=3&&(e=0);let i=t.dts+t.duration+e;r=p-i}else r=0}let f=new ct,m=[];for(let v=0;v<n.length;v++){let t=n[v],e=t.dts-this._dtsBase,i=t.isKeyframe,a=e-r,l=t.cts,u=a+l;-1===s&&(s=a,o=u);let h=0;if(v!==n.length-1){let t=n[v+1].dts-this._dtsBase-r;h=t-a}else if(null!=d){let t=d.dts-this._dtsBase-r;h=t-a}else h=m.length>=1?m[m.length-1].duration:Math.floor(this._videoMeta.refSampleDuration);if(i){let e=new ht(a,u,h,t.dts,!0);e.fileposition=t.fileposition,f.appendSyncPoint(e)}m.push({dts:a,pts:u,cts:l,units:t.units,size:t.length,isKeyframe:i,duration:h,originalDts:e,flags:{isLeading:0,dependsOn:i?2:1,isDependedOn:i?1:0,hasRedundancy:0,isNonSync:i?0:1}})}h=new Uint8Array(c),h[0]=c>>>24&255,h[1]=c>>>16&255,h[2]=c>>>8&255,h[3]=255&c,h.set(ot.types.mdat,4);for(let v=0;v<m.length;v++){let t=m[v].units;while(t.length){let e=t.shift(),i=e.data;h.set(i,u),u+=i.byteLength}}let g=m[m.length-1];if(a=g.dts+g.duration,l=g.pts+g.duration,this._videoNextDts=a,f.beginDts=s,f.endDts=a,f.beginPts=o,f.endPts=l,f.originalBeginDts=m[0].originalDts,f.originalEndDts=g.originalDts+g.duration,f.firstSample=new ht(m[0].dts,m[0].pts,m[0].duration,m[0].originalDts,m[0].isKeyframe),f.lastSample=new ht(g.dts,g.pts,g.duration,g.originalDts,g.isKeyframe),this._isLive||this._videoSegmentInfoList.append(f),i.samples=m,i.sequenceNumber++,this._forceFirstIDR){let t=m[0].flags;t.dependsOn=2,t.isNonSync=0}let _=ot.moof(i,s);i.samples=[],i.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(_,h).buffer,sampleCount:m.length,info:f})}_mergeBoxes(t,e){let i=new Uint8Array(t.byteLength+e.byteLength);return i.set(t,0),i.set(e,t.byteLength),i}}var mt=ft;const gt={IO_ERROR:"io_error",DEMUX_ERROR:"demux_error",INIT_SEGMENT:"init_segment",MEDIA_SEGMENT:"media_segment",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info",RECOMMEND_SEEKPOINT:"recommend_seekpoint"};var _t=gt;class vt{constructor(t,e){this.TAG="TransmuxingController",this._emitter=new a.a,this._config=e,t.segments||(t.segments=[{duration:t.duration,filesize:t.filesize,url:t.url}]),"boolean"!==typeof t.cors&&(t.cors=!0),"boolean"!==typeof t.withCredentials&&(t.withCredentials=!1),this._mediaDataSource=t,this._currentSegmentIndex=0;let i=0;this._mediaDataSource.segments.forEach(n=>{n.timestampBase=i,i+=n.duration,n.cors=t.cors,n.withCredentials=t.withCredentials,e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy)}),isNaN(i)||this._mediaDataSource.duration===i||(this._mediaDataSource.duration=i),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}destroy(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null}on(t,e){this._emitter.addListener(t,e)}off(t,e){this._emitter.removeListener(t,e)}start(){this._loadSegment(0),this._enableStatisticsReporter()}_loadSegment(t,e){this._currentSegmentIndex=t;let i=this._mediaDataSource.segments[t],n=this._ioctl=new R(i,this._config,t);n.onError=this._onIOException.bind(this),n.onSeeked=this._onIOSeeked.bind(this),n.onComplete=this._onIOComplete.bind(this),n.onRedirect=this._onIORedirect.bind(this),n.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),e?this._demuxer.bindDataSource(this._ioctl):n.onDataArrival=this._onInitChunkArrival.bind(this),n.open(e)}stop(){this._internalAbort(),this._disableStatisticsReporter()}_internalAbort(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)}pause(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())}resume(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())}seek(t){if(null==this._mediaInfo||!this._mediaInfo.isSeekable())return;let e=this._searchSegmentIndexContains(t);if(e===this._currentSegmentIndex){let i=this._mediaInfo.segments[e];if(void 0==i)this._pendingSeekTime=t;else{let e=i.getNearestKeyframe(t);this._remuxer.seek(e.milliseconds),this._ioctl.seek(e.fileposition),this._pendingResolveSeekPoint=e.milliseconds}}else{let i=this._mediaInfo.segments[e];if(void 0==i)this._pendingSeekTime=t,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(e);else{let n=i.getNearestKeyframe(t);this._internalAbort(),this._remuxer.seek(t),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[e].timestampBase,this._loadSegment(e,n.fileposition),this._pendingResolveSeekPoint=n.milliseconds,this._reportSegmentMediaInfo(e)}}this._enableStatisticsReporter()}_searchSegmentIndexContains(t){let e=this._mediaDataSource.segments,i=e.length-1;for(let n=0;n<e.length;n++)if(t<e[n].timestampBase){i=n-1;break}return i}_onInitChunkArrival(t,e){let i=null,n=0;if(e>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,n=this._demuxer.parseChunks(t,e);else if((i=st.probe(t)).match){this._demuxer=new st(i,this._config),this._remuxer||(this._remuxer=new mt(this._config));let r=this._mediaDataSource;void 0==r.duration||isNaN(r.duration)||(this._demuxer.overridedDuration=r.duration),"boolean"===typeof r.hasAudio&&(this._demuxer.overridedHasAudio=r.hasAudio),"boolean"===typeof r.hasVideo&&(this._demuxer.overridedHasVideo=r.hasVideo),this._demuxer.timestampBase=r.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),n=this._demuxer.parseChunks(t,e)}else i=null,l.e(this.TAG,"Non-FLV, Unsupported media type!"),Promise.resolve().then(()=>{this._internalAbort()}),this._emitter.emit(_t.DEMUX_ERROR,it.FORMAT_UNSUPPORTED,"Non-FLV, Unsupported media type"),n=0;return n}_onMediaInfo(t){null==this._mediaInfo&&(this._mediaInfo=Object.assign({},t),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,q.prototype));let e=Object.assign({},t);Object.setPrototypeOf(e,q.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=e,this._reportSegmentMediaInfo(this._currentSegmentIndex),null!=this._pendingSeekTime&&Promise.resolve().then(()=>{let t=this._pendingSeekTime;this._pendingSeekTime=null,this.seek(t)})}_onMetaDataArrived(t){this._emitter.emit(_t.METADATA_ARRIVED,t)}_onScriptDataArrived(t){this._emitter.emit(_t.SCRIPTDATA_ARRIVED,t)}_onIOSeeked(){this._remuxer.insertDiscontinuity()}_onIOComplete(t){let e=t,i=e+1;i<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer.flushStashedSamples(),this._loadSegment(i)):(this._remuxer.flushStashedSamples(),this._emitter.emit(_t.LOADING_COMPLETE),this._disableStatisticsReporter())}_onIORedirect(t){let e=this._ioctl.extraData;this._mediaDataSource.segments[e].redirectedURL=t}_onIORecoveredEarlyEof(){this._emitter.emit(_t.RECOVERED_EARLY_EOF)}_onIOException(t,e){l.e(this.TAG,`IOException: type = ${t}, code = ${e.code}, msg = ${e.msg}`),this._emitter.emit(_t.IO_ERROR,t,e),this._disableStatisticsReporter()}_onDemuxException(t,e){l.e(this.TAG,`DemuxException: type = ${t}, info = ${e}`),this._emitter.emit(_t.DEMUX_ERROR,t,e)}_onRemuxerInitSegmentArrival(t,e){this._emitter.emit(_t.INIT_SEGMENT,t,e)}_onRemuxerMediaSegmentArrival(t,e){if(null==this._pendingSeekTime&&(this._emitter.emit(_t.MEDIA_SEGMENT,t,e),null!=this._pendingResolveSeekPoint&&"video"===t)){let t=e.info.syncPoints,i=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,b.safari&&t.length>0&&t[0].originalDts===i&&(i=t[0].pts),this._emitter.emit(_t.RECOMMEND_SEEKPOINT,i)}}_enableStatisticsReporter(){null==this._statisticsReporter&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))}_disableStatisticsReporter(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}_reportSegmentMediaInfo(t){let e=this._mediaInfo.segments[t],i=Object.assign({},e);i.duration=this._mediaInfo.duration,i.segmentCount=this._mediaInfo.segmentCount,delete i.segments,delete i.keyframesIndex,this._emitter.emit(_t.MEDIA_INFO,i)}_reportStatisticsInfo(){let t={};t.url=this._ioctl.currentURL,t.hasRedirect=this._ioctl.hasRedirect,t.hasRedirect&&(t.redirectedURL=this._ioctl.currentRedirectedURL),t.speed=this._ioctl.currentSpeed,t.loaderType=this._ioctl.loaderType,t.currentSegmentIndex=this._currentSegmentIndex,t.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(_t.STATISTICS_INFO,t)}}var yt=vt;let bt=function(t){let e=null,i=m.bind(this);function n(e,i){let n={msg:_t.INIT_SEGMENT,data:{type:e,data:i}};t.postMessage(n,[i.data])}function s(e,i){let n={msg:_t.MEDIA_SEGMENT,data:{type:e,data:i}};t.postMessage(n,[i.data])}function a(){let e={msg:_t.LOADING_COMPLETE};t.postMessage(e)}function o(){let e={msg:_t.RECOVERED_EARLY_EOF};t.postMessage(e)}function l(e){let i={msg:_t.MEDIA_INFO,data:e};t.postMessage(i)}function u(e){let i={msg:_t.METADATA_ARRIVED,data:e};t.postMessage(i)}function h(e){let i={msg:_t.SCRIPTDATA_ARRIVED,data:e};t.postMessage(i)}function c(e){let i={msg:_t.STATISTICS_INFO,data:e};t.postMessage(i)}function d(e,i){t.postMessage({msg:_t.IO_ERROR,data:{type:e,info:i}})}function p(e,i){t.postMessage({msg:_t.DEMUX_ERROR,data:{type:e,info:i}})}function f(e){t.postMessage({msg:_t.RECOMMEND_SEEKPOINT,data:e})}function m(e,i){t.postMessage({msg:"logcat_callback",data:{type:e,logcat:i}})}r.install(),t.addEventListener("message",(function(r){switch(r.data.cmd){case"init":e=new yt(r.data.param[0],r.data.param[1]),e.on(_t.IO_ERROR,d.bind(this)),e.on(_t.DEMUX_ERROR,p.bind(this)),e.on(_t.INIT_SEGMENT,n.bind(this)),e.on(_t.MEDIA_SEGMENT,s.bind(this)),e.on(_t.LOADING_COMPLETE,a.bind(this)),e.on(_t.RECOVERED_EARLY_EOF,o.bind(this)),e.on(_t.MEDIA_INFO,l.bind(this)),e.on(_t.METADATA_ARRIVED,u.bind(this)),e.on(_t.SCRIPTDATA_ARRIVED,h.bind(this)),e.on(_t.STATISTICS_INFO,c.bind(this)),e.on(_t.RECOMMEND_SEEKPOINT,f.bind(this));break;case"destroy":e&&(e.destroy(),e=null),t.postMessage({msg:"destroyed"});break;case"start":e.start();break;case"stop":e.stop();break;case"seek":e.seek(r.data.param);break;case"pause":e.pause();break;case"resume":e.resume();break;case"logging_config":{let t=r.data.param;V.applyConfig(t),!0===t.enableCallback?V.addLogListener(i):V.removeLogListener(i);break}}}))};var Tt=bt;class wt{constructor(t,e){if(this.TAG="Transmuxer",this._emitter=new a.a,e.enableWorker&&"undefined"!==typeof Worker)try{let n=i("d2be");this._worker=n(Tt),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[t,e]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},V.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:V.getConfig()})}catch(n){l.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new yt(t,e)}else this._controller=new yt(t,e);if(this._controller){let t=this._controller;t.on(_t.IO_ERROR,this._onIOError.bind(this)),t.on(_t.DEMUX_ERROR,this._onDemuxError.bind(this)),t.on(_t.INIT_SEGMENT,this._onInitSegment.bind(this)),t.on(_t.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),t.on(_t.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),t.on(_t.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),t.on(_t.MEDIA_INFO,this._onMediaInfo.bind(this)),t.on(_t.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),t.on(_t.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),t.on(_t.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),t.on(_t.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}destroy(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),V.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null}on(t,e){this._emitter.addListener(t,e)}off(t,e){this._emitter.removeListener(t,e)}hasWorker(){return null!=this._worker}open(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()}close(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()}seek(t){this._worker?this._worker.postMessage({cmd:"seek",param:t}):this._controller.seek(t)}pause(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()}resume(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()}_onInitSegment(t,e){Promise.resolve().then(()=>{this._emitter.emit(_t.INIT_SEGMENT,t,e)})}_onMediaSegment(t,e){Promise.resolve().then(()=>{this._emitter.emit(_t.MEDIA_SEGMENT,t,e)})}_onLoadingComplete(){Promise.resolve().then(()=>{this._emitter.emit(_t.LOADING_COMPLETE)})}_onRecoveredEarlyEof(){Promise.resolve().then(()=>{this._emitter.emit(_t.RECOVERED_EARLY_EOF)})}_onMediaInfo(t){Promise.resolve().then(()=>{this._emitter.emit(_t.MEDIA_INFO,t)})}_onMetaDataArrived(t){Promise.resolve().then(()=>{this._emitter.emit(_t.METADATA_ARRIVED,t)})}_onScriptDataArrived(t){Promise.resolve().then(()=>{this._emitter.emit(_t.SCRIPTDATA_ARRIVED,t)})}_onStatisticsInfo(t){Promise.resolve().then(()=>{this._emitter.emit(_t.STATISTICS_INFO,t)})}_onIOError(t,e){Promise.resolve().then(()=>{this._emitter.emit(_t.IO_ERROR,t,e)})}_onDemuxError(t,e){Promise.resolve().then(()=>{this._emitter.emit(_t.DEMUX_ERROR,t,e)})}_onRecommendSeekpoint(t){Promise.resolve().then(()=>{this._emitter.emit(_t.RECOMMEND_SEEKPOINT,t)})}_onLoggingConfigChanged(t){this._worker&&this._worker.postMessage({cmd:"logging_config",param:t})}_onWorkerMessage(t){let e=t.data,i=e.data;if("destroyed"===e.msg||this._workerDestroying)return this._workerDestroying=!1,this._worker.terminate(),void(this._worker=null);switch(e.msg){case _t.INIT_SEGMENT:case _t.MEDIA_SEGMENT:this._emitter.emit(e.msg,i.type,i.data);break;case _t.LOADING_COMPLETE:case _t.RECOVERED_EARLY_EOF:this._emitter.emit(e.msg);break;case _t.MEDIA_INFO:Object.setPrototypeOf(i,q.prototype),this._emitter.emit(e.msg,i);break;case _t.METADATA_ARRIVED:case _t.SCRIPTDATA_ARRIVED:case _t.STATISTICS_INFO:this._emitter.emit(e.msg,i);break;case _t.IO_ERROR:case _t.DEMUX_ERROR:this._emitter.emit(e.msg,i.type,i.info);break;case _t.RECOMMEND_SEEKPOINT:this._emitter.emit(e.msg,i);break;case"logcat_callback":l.emitter.emit("log",i.type,i.logcat);break;default:break}}}var St=wt;const Et={ERROR:"error",SOURCE_OPEN:"source_open",UPDATE_END:"update_end",BUFFER_FULL:"buffer_full"};var Ct=Et;class kt{constructor(t){this.TAG="MSEController",this._config=t,this._emitter=new a.a,this._config.isLive&&void 0==this._config.autoCleanupSourceBuffer&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new dt}destroy(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null}on(t,e){this._emitter.addListener(t,e)}off(t,e){this._emitter.removeListener(t,e)}attachMediaElement(t){if(this._mediaSource)throw new d("MediaSource has been attached to an HTMLMediaElement!");let e=this._mediaSource=new window.MediaSource;e.addEventListener("sourceopen",this.e.onSourceOpen),e.addEventListener("sourceended",this.e.onSourceEnded),e.addEventListener("sourceclose",this.e.onSourceClose),this._mediaElement=t,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),t.src=this._mediaSourceObjectURL}detachMediaElement(){if(this._mediaSource){let e=this._mediaSource;for(let i in this._sourceBuffers){let n=this._pendingSegments[i];n.splice(0,n.length),this._pendingSegments[i]=null,this._pendingRemoveRanges[i]=null,this._lastInitSegments[i]=null;let r=this._sourceBuffers[i];if(r){if("closed"!==e.readyState){try{e.removeSourceBuffer(r)}catch(t){l.e(this.TAG,t.message)}r.removeEventListener("error",this.e.onSourceBufferError),r.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[i]=null,this._sourceBuffers[i]=null}}if("open"===e.readyState)try{e.endOfStream()}catch(t){l.e(this.TAG,t.message)}e.removeEventListener("sourceopen",this.e.onSourceOpen),e.removeEventListener("sourceended",this.e.onSourceEnded),e.removeEventListener("sourceclose",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)}appendInitSegment(t,e){if(!this._mediaSource||"open"!==this._mediaSource.readyState)return this._pendingSourceBufferInit.push(t),void this._pendingSegments[t.type].push(t);let i=t,n=""+i.container;i.codec&&i.codec.length>0&&(n+=";codecs="+i.codec);let r=!1;if(l.v(this.TAG,"Received Initialization Segment, mimeType: "+n),this._lastInitSegments[i.type]=i,n!==this._mimeTypes[i.type]){if(this._mimeTypes[i.type])l.v(this.TAG,`Notice: ${i.type} mimeType changed, origin: ${this._mimeTypes[i.type]}, target: ${n}`);else{r=!0;try{let t=this._sourceBuffers[i.type]=this._mediaSource.addSourceBuffer(n);t.addEventListener("error",this.e.onSourceBufferError),t.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(s){return l.e(this.TAG,s.message),void this._emitter.emit(Ct.ERROR,{code:s.code,msg:s.message})}}this._mimeTypes[i.type]=n}e||this._pendingSegments[i.type].push(i),r||this._sourceBuffers[i.type]&&!this._sourceBuffers[i.type].updating&&this._doAppendSegments(),b.safari&&"audio/mpeg"===i.container&&i.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=i.mediaDuration/1e3,this._updateMediaSourceDuration())}appendMediaSegment(t){let e=t;this._pendingSegments[e.type].push(e),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();let i=this._sourceBuffers[e.type];!i||i.updating||this._hasPendingRemoveRanges()||this._doAppendSegments()}seek(t){for(let i in this._sourceBuffers){if(!this._sourceBuffers[i])continue;let t=this._sourceBuffers[i];if("open"===this._mediaSource.readyState)try{t.abort()}catch(e){l.e(this.TAG,e.message)}this._idrList.clear();let n=this._pendingSegments[i];if(n.splice(0,n.length),"closed"!==this._mediaSource.readyState){for(let e=0;e<t.buffered.length;e++){let n=t.buffered.start(e),r=t.buffered.end(e);this._pendingRemoveRanges[i].push({start:n,end:r})}if(t.updating||this._doRemoveRanges(),b.safari){let e=this._lastInitSegments[i];e&&(this._pendingSegments[i].push(e),t.updating||this._doAppendSegments())}}}}endOfStream(){let t=this._mediaSource,e=this._sourceBuffers;t&&"open"===t.readyState?e.video&&e.video.updating||e.audio&&e.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,t.endOfStream()):t&&"closed"===t.readyState&&this._hasPendingSegments()&&(this._hasPendingEos=!0)}getNearestKeyframe(t){return this._idrList.getLastSyncPointBeforeDts(t)}_needCleanupSourceBuffer(){if(!this._config.autoCleanupSourceBuffer)return!1;let t=this._mediaElement.currentTime;for(let e in this._sourceBuffers){let i=this._sourceBuffers[e];if(i){let e=i.buffered;if(e.length>=1&&t-e.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1}_doCleanupSourceBuffer(){let t=this._mediaElement.currentTime;for(let e in this._sourceBuffers){let i=this._sourceBuffers[e];if(i){let n=i.buffered,r=!1;for(let i=0;i<n.length;i++){let s=n.start(i),a=n.end(i);if(s<=t&&t<a+3){if(t-s>=this._config.autoCleanupMaxBackwardDuration){r=!0;let i=t-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[e].push({start:s,end:i})}}else a<t&&(r=!0,this._pendingRemoveRanges[e].push({start:s,end:a}))}r&&!i.updating&&this._doRemoveRanges()}}}_updateMediaSourceDuration(){let t=this._sourceBuffers;if(0===this._mediaElement.readyState||"open"!==this._mediaSource.readyState)return;if(t.video&&t.video.updating||t.audio&&t.audio.updating)return;let e=this._mediaSource.duration,i=this._pendingMediaDuration;i>0&&(isNaN(e)||i>e)&&(l.v(this.TAG,`Update MediaSource duration from ${e} to ${i}`),this._mediaSource.duration=i),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}_doRemoveRanges(){for(let t in this._pendingRemoveRanges){if(!this._sourceBuffers[t]||this._sourceBuffers[t].updating)continue;let e=this._sourceBuffers[t],i=this._pendingRemoveRanges[t];while(i.length&&!e.updating){let t=i.shift();e.remove(t.start,t.end)}}}_doAppendSegments(){let t=this._pendingSegments;for(let i in t)if(this._sourceBuffers[i]&&!this._sourceBuffers[i].updating&&t[i].length>0){let n=t[i].shift();if(n.timestampOffset){let t=this._sourceBuffers[i].timestampOffset,e=n.timestampOffset/1e3,r=Math.abs(t-e);r>.1&&(l.v(this.TAG,`Update MPEG audio timestampOffset from ${t} to ${e}`),this._sourceBuffers[i].timestampOffset=e),delete n.timestampOffset}if(!n.data||0===n.data.byteLength)continue;try{this._sourceBuffers[i].appendBuffer(n.data),this._isBufferFull=!1,"video"===i&&n.hasOwnProperty("info")&&this._idrList.appendArray(n.info.syncPoints)}catch(e){this._pendingSegments[i].unshift(n),22===e.code?(this._isBufferFull||this._emitter.emit(Ct.BUFFER_FULL),this._isBufferFull=!0):(l.e(this.TAG,e.message),this._emitter.emit(Ct.ERROR,{code:e.code,msg:e.message}))}}}_onSourceOpen(){if(l.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0){let t=this._pendingSourceBufferInit;while(t.length){let e=t.shift();this.appendInitSegment(e,!0)}}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(Ct.SOURCE_OPEN)}_onSourceEnded(){l.v(this.TAG,"MediaSource onSourceEnded")}_onSourceClose(){l.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&null!=this.e&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))}_hasPendingSegments(){let t=this._pendingSegments;return t.video.length>0||t.audio.length>0}_hasPendingRemoveRanges(){let t=this._pendingRemoveRanges;return t.video.length>0||t.audio.length>0}_onSourceBufferUpdateEnd(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(Ct.UPDATE_END)}_onSourceBufferError(t){l.e(this.TAG,"SourceBuffer Error: "+t)}}var xt=kt;const Mt={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},At={NETWORK_EXCEPTION:g.EXCEPTION,NETWORK_STATUS_CODE_INVALID:g.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:g.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:g.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:it.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:it.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:it.CODEC_UNSUPPORTED};class It{constructor(t,e){if(this.TAG="FlvPlayer",this._type="FlvPlayer",this._emitter=new a.a,this._config=N(),"object"===typeof e&&Object.assign(this._config,e),"flv"!==t.type.toLowerCase())throw new p("FlvPlayer requires an flv MediaDataSource input!");!0===t.isLive&&(this._config.isLive=!0),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=t,this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;let i=b.chrome&&(b.version.major<50||50===b.version.major&&b.version.build<2661);this._alwaysSeekKeyframe=!!(i||b.msedge||b.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1)}destroy(){null!=this._progressChecker&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null}on(t,e){t===F.MEDIA_INFO?null!=this._mediaInfo&&Promise.resolve().then(()=>{this._emitter.emit(F.MEDIA_INFO,this.mediaInfo)}):t===F.STATISTICS_INFO&&null!=this._statisticsInfo&&Promise.resolve().then(()=>{this._emitter.emit(F.STATISTICS_INFO,this.statisticsInfo)}),this._emitter.addListener(t,e)}off(t,e){this._emitter.removeListener(t,e)}attachMediaElement(t){if(this._mediaElement=t,t.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),t.addEventListener("seeking",this.e.onvSeeking),t.addEventListener("canplay",this.e.onvCanPlay),t.addEventListener("stalled",this.e.onvStalled),t.addEventListener("progress",this.e.onvProgress),this._msectl=new xt(this._config),this._msectl.on(Ct.UPDATE_END,this._onmseUpdateEnd.bind(this)),this._msectl.on(Ct.BUFFER_FULL,this._onmseBufferFull.bind(this)),this._msectl.on(Ct.SOURCE_OPEN,()=>{this._mseSourceOpened=!0,this._hasPendingLoad&&(this._hasPendingLoad=!1,this.load())}),this._msectl.on(Ct.ERROR,t=>{this._emitter.emit(F.ERROR,Mt.MEDIA_ERROR,At.MEDIA_MSE_ERROR,t)}),this._msectl.attachMediaElement(t),null!=this._pendingSeekTime)try{t.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(e){}}detachMediaElement(){this._mediaElement&&(this._msectl.detachMediaElement(),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener("seeking",this.e.onvSeeking),this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay),this._mediaElement.removeEventListener("stalled",this.e.onvStalled),this._mediaElement.removeEventListener("progress",this.e.onvProgress),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)}load(){if(!this._mediaElement)throw new d("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new d("FlvPlayer.load() has been called, please call unload() first!");this._hasPendingLoad||(this._config.deferLoadAfterSourceOpen&&!1===this._mseSourceOpened?this._hasPendingLoad=!0:(this._mediaElement.readyState>0&&(this._requestSetTime=!0,this._mediaElement.currentTime=0),this._transmuxer=new St(this._mediaDataSource,this._config),this._transmuxer.on(_t.INIT_SEGMENT,(t,e)=>{this._msectl.appendInitSegment(e)}),this._transmuxer.on(_t.MEDIA_SEGMENT,(t,e)=>{if(this._msectl.appendMediaSegment(e),this._config.lazyLoad&&!this._config.isLive){let t=this._mediaElement.currentTime;e.info.endDts>=1e3*(t+this._config.lazyLoadMaxDuration)&&null==this._progressChecker&&(l.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}}),this._transmuxer.on(_t.LOADING_COMPLETE,()=>{this._msectl.endOfStream(),this._emitter.emit(F.LOADING_COMPLETE)}),this._transmuxer.on(_t.RECOVERED_EARLY_EOF,()=>{this._emitter.emit(F.RECOVERED_EARLY_EOF)}),this._transmuxer.on(_t.IO_ERROR,(t,e)=>{this._emitter.emit(F.ERROR,Mt.NETWORK_ERROR,t,e)}),this._transmuxer.on(_t.DEMUX_ERROR,(t,e)=>{this._emitter.emit(F.ERROR,Mt.MEDIA_ERROR,t,{code:-1,msg:e})}),this._transmuxer.on(_t.MEDIA_INFO,t=>{this._mediaInfo=t,this._emitter.emit(F.MEDIA_INFO,Object.assign({},t))}),this._transmuxer.on(_t.METADATA_ARRIVED,t=>{this._emitter.emit(F.METADATA_ARRIVED,t)}),this._transmuxer.on(_t.SCRIPTDATA_ARRIVED,t=>{this._emitter.emit(F.SCRIPTDATA_ARRIVED,t)}),this._transmuxer.on(_t.STATISTICS_INFO,t=>{this._statisticsInfo=this._fillStatisticsInfo(t),this._emitter.emit(F.STATISTICS_INFO,Object.assign({},this._statisticsInfo))}),this._transmuxer.on(_t.RECOMMEND_SEEKPOINT,t=>{this._mediaElement&&!this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=t/1e3)}),this._transmuxer.open()))}unload(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)}play(){return this._mediaElement.play()}pause(){this._mediaElement.pause()}get type(){return this._type}get buffered(){return this._mediaElement.buffered}get duration(){return this._mediaElement.duration}get volume(){return this._mediaElement.volume}set volume(t){this._mediaElement.volume=t}get muted(){return this._mediaElement.muted}set muted(t){this._mediaElement.muted=t}get currentTime(){return this._mediaElement?this._mediaElement.currentTime:0}set currentTime(t){this._mediaElement?this._internalSeek(t):this._pendingSeekTime=t}get mediaInfo(){return Object.assign({},this._mediaInfo)}get statisticsInfo(){return null==this._statisticsInfo&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)}_fillStatisticsInfo(t){if(t.playerType=this._type,!(this._mediaElement instanceof HTMLVideoElement))return t;let e=!0,i=0,n=0;if(this._mediaElement.getVideoPlaybackQuality){let t=this._mediaElement.getVideoPlaybackQuality();i=t.totalVideoFrames,n=t.droppedVideoFrames}else void 0!=this._mediaElement.webkitDecodedFrameCount?(i=this._mediaElement.webkitDecodedFrameCount,n=this._mediaElement.webkitDroppedFrameCount):e=!1;return e&&(t.decodedFrames=i,t.droppedFrames=n),t}_onmseUpdateEnd(){if(!this._config.lazyLoad||this._config.isLive)return;let t=this._mediaElement.buffered,e=this._mediaElement.currentTime,i=0,n=0;for(let r=0;r<t.length;r++){let s=t.start(r),a=t.end(r);if(s<=e&&e<a){i=s,n=a;break}}n>=e+this._config.lazyLoadMaxDuration&&null==this._progressChecker&&(l.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}_onmseBufferFull(){l.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),null==this._progressChecker&&this._suspendTransmuxer()}_suspendTransmuxer(){this._transmuxer&&(this._transmuxer.pause(),null==this._progressChecker&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3)))}_checkProgressAndResume(){let t=this._mediaElement.currentTime,e=this._mediaElement.buffered,i=!1;for(let n=0;n<e.length;n++){let r=e.start(n),s=e.end(n);if(t>=r&&t<s){t>=s-this._config.lazyLoadRecoverDuration&&(i=!0);break}}i&&(window.clearInterval(this._progressChecker),this._progressChecker=null,i&&(l.v(this.TAG,"Continue loading from paused position"),this._transmuxer.resume()))}_isTimepointBuffered(t){let e=this._mediaElement.buffered;for(let i=0;i<e.length;i++){let n=e.start(i),r=e.end(i);if(t>=n&&t<r)return!0}return!1}_internalSeek(t){let e=this._isTimepointBuffered(t),i=!1,n=0;if(t<1&&this._mediaElement.buffered.length>0){let e=this._mediaElement.buffered.start(0);(e<1&&t<e||b.safari)&&(i=!0,n=b.safari?.1:e)}if(i)this._requestSetTime=!0,this._mediaElement.currentTime=n;else if(e){if(this._alwaysSeekKeyframe){let e=this._msectl.getNearestKeyframe(Math.floor(1e3*t));this._requestSetTime=!0,this._mediaElement.currentTime=null!=e?e.dts/1e3:t}else this._requestSetTime=!0,this._mediaElement.currentTime=t;null!=this._progressChecker&&this._checkProgressAndResume()}else null!=this._progressChecker&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._msectl.seek(t),this._transmuxer.seek(Math.floor(1e3*t)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=t)}_checkAndApplyUnbufferedSeekpoint(){if(this._seekpointRecord)if(this._seekpointRecord.recordTime<=this._now()-100){let t=this._mediaElement.currentTime;this._seekpointRecord=null,this._isTimepointBuffered(t)||(null!=this._progressChecker&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),this._msectl.seek(t),this._transmuxer.seek(Math.floor(1e3*t)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=t))}else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)}_checkAndResumeStuckPlayback(t){let e=this._mediaElement;if(t||!this._receivedCanPlay||e.readyState<2){let t=e.buffered;t.length>0&&e.currentTime<t.start(0)&&(l.w(this.TAG,`Playback seems stuck at ${e.currentTime}, seek to ${t.start(0)}`),this._requestSetTime=!0,this._mediaElement.currentTime=t.start(0),this._mediaElement.removeEventListener("progress",this.e.onvProgress))}else this._mediaElement.removeEventListener("progress",this.e.onvProgress)}_onvLoadedMetadata(t){null!=this._pendingSeekTime&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)}_onvSeeking(t){let e=this._mediaElement.currentTime,i=this._mediaElement.buffered;if(this._requestSetTime)this._requestSetTime=!1;else{if(e<1&&i.length>0){let t=i.start(0);if(t<1&&e<t||b.safari)return this._requestSetTime=!0,void(this._mediaElement.currentTime=b.safari?.1:t)}if(this._isTimepointBuffered(e)){if(this._alwaysSeekKeyframe){let t=this._msectl.getNearestKeyframe(Math.floor(1e3*e));null!=t&&(this._requestSetTime=!0,this._mediaElement.currentTime=t.dts/1e3)}null!=this._progressChecker&&this._checkProgressAndResume()}else this._seekpointRecord={seekPoint:e,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)}}_onvCanPlay(t){this._receivedCanPlay=!0,this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay)}_onvStalled(t){this._checkAndResumeStuckPlayback(!0)}_onvProgress(t){this._checkAndResumeStuckPlayback()}}var Ot=It;class Pt{constructor(t,e){if(this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new a.a,this._config=N(),"object"===typeof e&&Object.assign(this._config,e),"flv"===t.type.toLowerCase())throw new p("NativePlayer does't support flv MediaDataSource input!");if(t.hasOwnProperty("segments"))throw new p(`NativePlayer(${t.type}) doesn't support multipart playback!`);this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=t,this._mediaElement=null}destroy(){this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null}on(t,e){t===F.MEDIA_INFO?null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then(()=>{this._emitter.emit(F.MEDIA_INFO,this.mediaInfo)}):t===F.STATISTICS_INFO&&null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then(()=>{this._emitter.emit(F.STATISTICS_INFO,this.statisticsInfo)}),this._emitter.addListener(t,e)}off(t,e){this._emitter.removeListener(t,e)}attachMediaElement(t){if(this._mediaElement=t,t.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),null!=this._pendingSeekTime)try{t.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(e){}}detachMediaElement(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}load(){if(!this._mediaElement)throw new d("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)}unload(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}play(){return this._mediaElement.play()}pause(){this._mediaElement.pause()}get type(){return this._type}get buffered(){return this._mediaElement.buffered}get duration(){return this._mediaElement.duration}get volume(){return this._mediaElement.volume}set volume(t){this._mediaElement.volume=t}get muted(){return this._mediaElement.muted}set muted(t){this._mediaElement.muted=t}get currentTime(){return this._mediaElement?this._mediaElement.currentTime:0}set currentTime(t){this._mediaElement?this._mediaElement.currentTime=t:this._pendingSeekTime=t}get mediaInfo(){let t=this._mediaElement instanceof HTMLAudioElement?"audio/":"video/",e={mimeType:t+this._mediaDataSource.type};return this._mediaElement&&(e.duration=Math.floor(1e3*this._mediaElement.duration),this._mediaElement instanceof HTMLVideoElement&&(e.width=this._mediaElement.videoWidth,e.height=this._mediaElement.videoHeight)),e}get statisticsInfo(){let t={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return t;let e=!0,i=0,n=0;if(this._mediaElement.getVideoPlaybackQuality){let t=this._mediaElement.getVideoPlaybackQuality();i=t.totalVideoFrames,n=t.droppedVideoFrames}else void 0!=this._mediaElement.webkitDecodedFrameCount?(i=this._mediaElement.webkitDecodedFrameCount,n=this._mediaElement.webkitDroppedFrameCount):e=!1;return e&&(t.decodedFrames=i,t.droppedFrames=n),t}_onvLoadedMetadata(t){null!=this._pendingSeekTime&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(F.MEDIA_INFO,this.mediaInfo)}_reportStatisticsInfo(){this._emitter.emit(F.STATISTICS_INFO,this.statisticsInfo)}}var Lt=Pt;function Rt(t,e){let i=t;if(null==i||"object"!==typeof i)throw new p("MediaDataSource must be an javascript object!");if(!i.hasOwnProperty("type"))throw new p("MediaDataSource must has type field to indicate video file type!");switch(i.type){case"flv":return new Ot(i,e);default:return new Lt(i,e)}}function Dt(){return j.supportMSEH264Playback()}function Nt(){return j.getFeatureList()}r.install();let Bt={};Bt.createPlayer=Rt,Bt.isSupported=Dt,Bt.getFeatureList=Nt,Bt.BaseLoader=_,Bt.LoaderStatus=m,Bt.LoaderErrors=g,Bt.Events=F,Bt.ErrorTypes=Mt,Bt.ErrorDetails=At,Bt.FlvPlayer=Ot,Bt.NativePlayer=Lt,Bt.LoggingControl=V,Object.defineProperty(Bt,"version",{enumerable:!0,get:function(){return"__VERSION__"}});e["a"]=Bt},"1a81":function(t,e,i){"use strict";e.__esModule=!0;var n=i("96d3"),r=u(n),s=i("61b0"),a=u(s),o=i("c419"),l=u(o);function u(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function d(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p=function(t){function e(i,n,r){h(this,e);var s=c(this,t.call(this,i,n,r));return s.el_.setAttribute("aria-label","Captions Menu"),s}return d(e,t),e.prototype.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},e.prototype.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||(e.push(new l["default"](this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,e)},e}(r["default"]);p.prototype.kind_="captions",p.prototype.controlText_="Captions",a["default"].registerComponent("CaptionsButton",p),e["default"]=p},"1b2c":function(t,e,i){},"1b8d":function(t,e){function i(t){return t.replace(/\n\r?\s*/g,"")}t.exports=function(t){for(var e="",n=0;n<arguments.length;n++)e+=i(t[n])+(arguments[n+1]||"");return e}},"1c1b":function(t,e,i){"use strict";e.__esModule=!0;var n=i("61b0"),r=d(n),s=i("702d"),a=c(s),o=i("f545"),l=c(o),u=i("3a09"),h=c(u);function c(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function d(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function m(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var g=function(t){function e(i,n){p(this,e);var r=f(this,t.call(this,i,n));return r.focusedChild_=-1,r.on("keydown",r.handleKeyPress),r}return m(e,t),e.prototype.addItem=function(t){this.addChild(t),t.on("click",l.bind(this,(function(t){this.unlockShowing()})))},e.prototype.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=a.createEl(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var i=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return i.setAttribute("role","presentation"),i.appendChild(this.contentEl_),h.on(i,"click",(function(t){t.preventDefault(),t.stopImmediatePropagation()})),i},e.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepForward()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepBack())},e.prototype.stepForward=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_+1),this.focus(t)},e.prototype.stepBack=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_-1),this.focus(t)},e.prototype.focus=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this.children().slice(),i=e.length&&e[0].className&&/vjs-menu-title/.test(e[0].className);i&&e.shift(),e.length>0&&(t<0?t=0:t>=e.length&&(t=e.length-1),this.focusedChild_=t,e[t].el_.focus())},e}(r["default"]);r["default"].registerComponent("Menu",g),e["default"]=g},"1e32":function(t,e,i){"use strict";e.__esModule=!0;var n=i("e177"),r=h(n),s=i("61b0"),a=h(s),o=i("f545"),l=u(o);function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function h(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function p(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(i,n){c(this,e);var r=n.track,s=i.audioTracks();n.label=r.label||r.language||"Unknown",n.selected=r.enabled;var a=d(this,t.call(this,i,n));if(a.track=r,s){var o=l.bind(a,a.handleTracksChange);s.addEventListener("change",o),a.on("dispose",(function(){s.removeEventListener("change",o)}))}return a}return p(e,t),e.prototype.handleClick=function(e){var i=this.player_.audioTracks();if(t.prototype.handleClick.call(this,e),i)for(var n=0;n<i.length;n++){var r=i[n];r.enabled=r===this.track}},e.prototype.handleTracksChange=function(t){this.selected(this.track.enabled)},e}(r["default"]);a["default"].registerComponent("AudioTrackMenuItem",f),e["default"]=f},"1e3d":function(t,e,i){"use strict";e.__esModule=!0;var n=i("71b7"),r=h(n),s=i("61b0"),a=h(s),o=i("f545"),l=u(o);function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function h(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function p(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i("ff42");var f=function(t){function e(i,n){c(this,e);var r=d(this,t.call(this,i,n));return r.on(i,"volumechange",r.updateARIAAttributes),i.ready(l.bind(r,r.updateARIAAttributes)),r}return p(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":"volume level"})},e.prototype.handleMouseMove=function(t){this.checkMuted(),this.player_.volume(this.calculateDistance(t))},e.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},e.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},e.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},e.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},e.prototype.updateARIAAttributes=function(t){var e=(100*this.player_.volume()).toFixed(2);this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},e}(r["default"]);f.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},f.prototype.playerEvent="volumechange",a["default"].registerComponent("VolumeBar",f),e["default"]=f},"1fb5":function(t,e,i){"use strict";e.byteLength=h,e.toByteArray=d,e.fromByteArray=m;for(var n=[],r=[],s="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,l=a.length;o<l;++o)n[o]=a[o],r[a.charCodeAt(o)]=o;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");-1===i&&(i=e);var n=i===e?0:4-i%4;return[i,n]}function h(t){var e=u(t),i=e[0],n=e[1];return 3*(i+n)/4-n}function c(t,e,i){return 3*(e+i)/4-i}function d(t){var e,i,n=u(t),a=n[0],o=n[1],l=new s(c(t,a,o)),h=0,d=o>0?a-4:a;for(i=0;i<d;i+=4)e=r[t.charCodeAt(i)]<<18|r[t.charCodeAt(i+1)]<<12|r[t.charCodeAt(i+2)]<<6|r[t.charCodeAt(i+3)],l[h++]=e>>16&255,l[h++]=e>>8&255,l[h++]=255&e;return 2===o&&(e=r[t.charCodeAt(i)]<<2|r[t.charCodeAt(i+1)]>>4,l[h++]=255&e),1===o&&(e=r[t.charCodeAt(i)]<<10|r[t.charCodeAt(i+1)]<<4|r[t.charCodeAt(i+2)]>>2,l[h++]=e>>8&255,l[h++]=255&e),l}function p(t){return n[t>>18&63]+n[t>>12&63]+n[t>>6&63]+n[63&t]}function f(t,e,i){for(var n,r=[],s=e;s<i;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),r.push(p(n));return r.join("")}function m(t){for(var e,i=t.length,r=i%3,s=[],a=16383,o=0,l=i-r;o<l;o+=a)s.push(f(t,o,o+a>l?l:o+a));return 1===r?(e=t[i-1],s.push(n[e>>2]+n[e<<4&63]+"==")):2===r&&(e=(t[i-2]<<8)+t[i-1],s.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},2:function(t,e){},"214b":function(t,e,i){"use strict";e.__esModule=!0;var n=O(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),r=i("cf31"),s=I(r),a=i("61b0"),o=I(a),l=i("702d"),u=A(l),h=i("6aec"),c=A(h),d=i("f545"),p=A(d),f=i("320e"),m=I(f),g=i("1b8d"),_=I(g),v=i("4e2d"),y=A(v),b=i("9869"),T=I(b),w=i("a178"),S=I(w),E=i("cff3"),C=i("3afa"),k=I(C),x=i("d016"),M=I(x);function A(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function I(t){return t&&t.__esModule?t:{default:t}}function O(t,e){return t.raw=e,t}function P(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function R(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var D=function(t){function e(i,r){P(this,e);var s=L(this,t.call(this,i,r)),a=i.source,o=!1;if(a&&(s.el_.currentSrc!==a.src||i.tag&&3===i.tag.initNetworkState_)?s.setSource(a):s.handleLateInit_(s.el_),s.el_.hasChildNodes()){var l=s.el_.childNodes,u=l.length,h=[];while(u--){var d=l[u],f=d.nodeName.toLowerCase();"track"===f&&(s.featuresNativeTextTracks?(s.remoteTextTrackEls().addTrackElement_(d),s.remoteTextTracks().addTrack_(d.track),o||s.el_.hasAttribute("crossorigin")||!c.isCrossOrigin(d.src)||(o=!0)):h.push(d))}for(var g=0;g<h.length;g++)s.el_.removeChild(h[g])}var v=["audio","video"];return v.forEach((function(t){var e=s.el()[t+"Tracks"],i=s[t+"Tracks"](),n=(0,M["default"])(t);s["featuresNative"+n+"Tracks"]&&e&&e.addEventListener&&(s["handle"+n+"TrackChange_"]=function(t){i.trigger({type:"change",target:i,currentTarget:i,srcElement:i})},s["handle"+n+"TrackAdd_"]=function(t){return i.addTrack(t.track)},s["handle"+n+"TrackRemove_"]=function(t){return i.removeTrack(t.track)},e.addEventListener("change",s["handle"+n+"TrackChange_"]),e.addEventListener("addtrack",s["handle"+n+"TrackAdd_"]),e.addEventListener("removetrack",s["handle"+n+"TrackRemove_"]),s["removeOld"+n+"Tracks_"]=function(t){return s.removeOldTracks_(i,e)},s.on("loadstart",s["removeOld"+n+"Tracks_"]))})),s.featuresNativeTextTracks&&(o&&m["default"].warn((0,_["default"])(n)),s.handleTextTrackChange_=p.bind(s,s.handleTextTrackChange),s.handleTextTrackAdd_=p.bind(s,s.handleTextTrackAdd),s.handleTextTrackRemove_=p.bind(s,s.handleTextTrackRemove),s.proxyNativeTextTracks_()),s.restoreMetadataTracksInIOSNativePlayer_(),(y.TOUCH_ENABLED||y.IS_IPHONE||y.IS_NATIVE_ANDROID)&&!0===i.nativeControlsForTouch&&s.setControls(!0),s.proxyWebkitFullscreen_(),s.triggerReady(),s}return R(e,t),e.prototype.dispose=function(){var i=this;["audio","video","text"].forEach((function(t){var e=(0,M["default"])(t),n=i.el_[t+"Tracks"];n&&n.removeEventListener&&(n.removeEventListener("change",i["handle"+e+"TrackChange_"]),n.removeEventListener("addtrack",i["handle"+e+"TrackAdd_"]),n.removeEventListener("removetrack",i["handle"+e+"TrackRemove_"])),n&&i.off("loadstart",i["removeOld"+e+"Tracks_"])})),e.disposeMediaElement(this.el_),t.prototype.dispose.call(this)},e.prototype.restoreMetadataTracksInIOSNativePlayer_=function(){var t=this.textTracks(),e=void 0,i=function(){e=[];for(var i=0;i<t.length;i++){var n=t[i];"metadata"===n.kind&&e.push({track:n,storedMode:n.mode})}};i(),t.addEventListener("change",i);var n=function i(){for(var n=0;n<e.length;n++){var r=e[n];"disabled"===r.track.mode&&r.track.mode!==r.storedMode&&(r.track.mode=r.storedMode)}t.removeEventListener("change",i)};this.on("webkitbeginfullscreen",(function(){t.removeEventListener("change",i),t.removeEventListener("change",n),t.addEventListener("change",n)})),this.on("webkitendfullscreen",(function(){t.removeEventListener("change",i),t.addEventListener("change",i),t.removeEventListener("change",n)}))},e.prototype.createEl=function(){var t=this.options_.tag;if(!t||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(t){var i=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(i,t),e.disposeMediaElement(t),t=i}else{t=T["default"].createElement("video");var n=this.options_.tag&&u.getElAttributes(this.options_.tag),r=(0,k["default"])({},n);y.TOUCH_ENABLED&&!0===this.options_.nativeControlsForTouch||delete r.controls,u.setElAttributes(t,(0,E.assign)(r,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}"undefined"!==typeof this.options_.preload&&u.setAttribute(t,"preload",this.options_.preload);for(var s=["loop","muted","playsinline","autoplay"],a=s.length-1;a>=0;a--){var o=s[a],l=this.options_[o];"undefined"!==typeof l&&(l?u.setAttribute(t,o,o):u.removeAttribute(t,o),t[o]=l)}return t},e.prototype.handleLateInit_=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var e=!1,i=function(){e=!0};this.on("loadstart",i);var n=function(){e||this.trigger("loadstart")};return this.on("loadedmetadata",n),void this.ready((function(){this.off("loadstart",i),this.off("loadedmetadata",n),e||this.trigger("loadstart")}))}var r=["loadstart"];r.push("loadedmetadata"),t.readyState>=2&&r.push("loadeddata"),t.readyState>=3&&r.push("canplay"),t.readyState>=4&&r.push("canplaythrough"),this.ready((function(){r.forEach((function(t){this.trigger(t)}),this)}))}},e.prototype.proxyNativeTextTracks_=function(){var t=this.el().textTracks;if(t){for(var e=0;e<t.length;e++)this.textTracks().addTrack_(t[e]);t.addEventListener&&(t.addEventListener("change",this.handleTextTrackChange_),t.addEventListener("addtrack",this.handleTextTrackAdd_),t.addEventListener("removetrack",this.handleTextTrackRemove_)),this.on("loadstart",this.removeOldTextTracks_)}},e.prototype.handleTextTrackChange=function(t){var e=this.textTracks();this.textTracks().trigger({type:"change",target:e,currentTarget:e,srcElement:e})},e.prototype.handleTextTrackAdd=function(t){this.textTracks().addTrack_(t.track)},e.prototype.handleTextTrackRemove=function(t){this.textTracks().removeTrack_(t.track)},e.prototype.removeOldTracks_=function(t,e){var i=[];if(e){for(var n=0;n<t.length;n++){for(var r=t[n],s=!1,a=0;a<e.length;a++)if(e[a]===r){s=!0;break}s||i.push(r)}for(var o=0;o<i.length;o++){var l=i[o];t.removeTrack_(l)}}},e.prototype.removeOldTextTracks_=function(t){var e=this.textTracks(),i=this.el().textTracks;this.removeOldTracks_(e,i)},e.prototype.play=function(){var t=this.el_.play();void 0!==t&&"function"===typeof t.then&&t.then(null,(function(t){}))},e.prototype.setCurrentTime=function(t){try{this.el_.currentTime=t}catch(e){(0,m["default"])(e,"Video is not ready. (Video.js)")}},e.prototype.duration=function(){var t=this;if(this.el_.duration===1/0&&y.IS_ANDROID&&y.IS_CHROME&&0===this.el_.currentTime){var e=function e(){t.el_.currentTime>0&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN},e.prototype.width=function(){return this.el_.offsetWidth},e.prototype.height=function(){return this.el_.offsetHeight},e.prototype.proxyWebkitFullscreen_=function(){var t=this;if("webkitDisplayingFullscreen"in this.el_){var e=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},i=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",i),this.on("dispose",(function(){t.off("webkitbeginfullscreen",i),t.off("webkitendfullscreen",e)}))}},e.prototype.supportsFullScreen=function(){if("function"===typeof this.el_.webkitEnterFullScreen){var t=S["default"].navigator&&S["default"].navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},e.prototype.enterFullScreen=function(){var t=this.el_;t.paused&&t.networkState<=t.HAVE_METADATA?(this.el_.play(),this.setTimeout((function(){t.pause(),t.webkitEnterFullScreen()}),0)):t.webkitEnterFullScreen()},e.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},e.prototype.src=function(t){if(void 0===t)return this.el_.src;this.setSrc(t)},e.prototype.reset=function(){e.resetMediaElement(this.el_)},e.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},e.prototype.setControls=function(t){this.el_.controls=!!t},e.prototype.addTextTrack=function(e,i,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,i,n):t.prototype.addTextTrack.call(this,e,i,n)},e.prototype.createRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,e);var i=T["default"].createElement("track");return e.kind&&(i.kind=e.kind),e.label&&(i.label=e.label),(e.language||e.srclang)&&(i.srclang=e.language||e.srclang),e["default"]&&(i["default"]=e["default"]),e.id&&(i.id=e.id),e.src&&(i.src=e.src),i},e.prototype.addRemoteTextTrack=function(e,i){var n=t.prototype.addRemoteTextTrack.call(this,e,i);return this.featuresNativeTextTracks&&this.el().appendChild(n),n},e.prototype.removeRemoteTextTrack=function(e){if(t.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks){var i=this.$$("track"),n=i.length;while(n--)e!==i[n]&&e!==i[n].track||this.el().removeChild(i[n])}},e.prototype.getVideoPlaybackQuality=function(){if("function"===typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var t={};return"undefined"!==typeof this.el().webkitDroppedFrameCount&&"undefined"!==typeof this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),S["default"].performance&&"function"===typeof S["default"].performance.now?t.creationTime=S["default"].performance.now():S["default"].performance&&S["default"].performance.timing&&"number"===typeof S["default"].performance.timing.navigationStart&&(t.creationTime=S["default"].Date.now()-S["default"].performance.timing.navigationStart),t},e}(s["default"]);if(u.isReal()){D.TEST_VID=T["default"].createElement("video");var N=T["default"].createElement("track");N.kind="captions",N.srclang="en",N.label="English",D.TEST_VID.appendChild(N)}D.isSupported=function(){try{D.TEST_VID.volume=.5}catch(t){return!1}return!(!D.TEST_VID||!D.TEST_VID.canPlayType)},D.canControlVolume=function(){try{var t=D.TEST_VID.volume;return D.TEST_VID.volume=t/2+.1,t!==D.TEST_VID.volume}catch(e){return!1}},D.canControlPlaybackRate=function(){if(y.IS_ANDROID&&y.IS_CHROME&&y.CHROME_VERSION<58)return!1;try{var t=D.TEST_VID.playbackRate;return D.TEST_VID.playbackRate=t/2+.1,t!==D.TEST_VID.playbackRate}catch(e){return!1}},D.supportsNativeTextTracks=function(){return y.IS_ANY_SAFARI},D.supportsNativeVideoTracks=function(){return!(!D.TEST_VID||!D.TEST_VID.videoTracks)},D.supportsNativeAudioTracks=function(){return!(!D.TEST_VID||!D.TEST_VID.audioTracks)},D.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange"],D.prototype.featuresVolumeControl=D.canControlVolume(),D.prototype.featuresPlaybackRate=D.canControlPlaybackRate(),D.prototype.movingMediaElementInDOM=!y.IS_IOS,D.prototype.featuresFullscreenResize=!0,D.prototype.featuresProgressEvents=!0,D.prototype.featuresTimeupdateEvents=!0,D.prototype.featuresNativeTextTracks=D.supportsNativeTextTracks(),D.prototype.featuresNativeVideoTracks=D.supportsNativeVideoTracks(),D.prototype.featuresNativeAudioTracks=D.supportsNativeAudioTracks();var B=D.TEST_VID&&D.TEST_VID.constructor.prototype.canPlayType,j=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,U=/^video\/mp4/i;D.patchCanPlayType=function(){y.ANDROID_VERSION>=4&&!y.IS_FIREFOX?D.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&j.test(t)?"maybe":B.call(this,t)}:y.IS_OLD_ANDROID&&(D.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&U.test(t)?"maybe":B.call(this,t)})},D.unpatchCanPlayType=function(){var t=D.TEST_VID.constructor.prototype.canPlayType;return D.TEST_VID.constructor.prototype.canPlayType=B,t},D.patchCanPlayType(),D.disposeMediaElement=function(t){if(t){t.parentNode&&t.parentNode.removeChild(t);while(t.hasChildNodes())t.removeChild(t.firstChild);t.removeAttribute("src"),"function"===typeof t.load&&function(){try{t.load()}catch(e){}}()}},D.resetMediaElement=function(t){if(t){var e=t.querySelectorAll("source"),i=e.length;while(i--)t.removeChild(e[i]);t.removeAttribute("src"),"function"===typeof t.load&&function(){try{t.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(t){D.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(t){D.prototype["set"+(0,M["default"])(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach((function(t){D.prototype[t]=function(){return this.el_[t]}})),["volume","src","poster","preload","playbackRate"].forEach((function(t){D.prototype["set"+(0,M["default"])(t)]=function(e){this.el_[t]=e}})),["pause","load"].forEach((function(t){D.prototype[t]=function(){return this.el_[t]()}})),s["default"].withSourceHandlers(D),D.nativeSourceHandler={},D.nativeSourceHandler.canPlayType=function(t){try{return D.TEST_VID.canPlayType(t)}catch(e){return""}},D.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return D.nativeSourceHandler.canPlayType(t.type);if(t.src){var i=c.getFileExtension(t.src);return D.nativeSourceHandler.canPlayType("video/"+i)}return""},D.nativeSourceHandler.handleSource=function(t,e,i){e.setSrc(t.src)},D.nativeSourceHandler.dispose=function(){},D.registerSourceHandler(D.nativeSourceHandler),o["default"].registerComponent("Html5",D),s["default"].registerTech("Html5",D),e["default"]=D},"21b6":function(t,e,i){"use strict";e.__esModule=!0;var n=i("61b0"),r=h(n),s=i("f545"),a=u(s),o=i("b0f9"),l=h(o);function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function h(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function p(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(i,n){c(this,e);var r=d(this,t.call(this,i,n));return r.updateDataAttr(),r.on(i,"timeupdate",r.updateDataAttr),i.ready(a.bind(r,r.updateDataAttr)),r}return p(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-tooltip-progress-bar vjs-slider-bar",innerHTML:'<div class="vjs-time-tooltip"></div>\n        <span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"});return this.tooltip=e.querySelector(".vjs-time-tooltip"),e},e.prototype.updateDataAttr=function(t){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),i=(0,l["default"])(e,this.player_.duration());this.el_.setAttribute("data-current-time",i),this.tooltip.innerHTML=i},e}(r["default"]);r["default"].registerComponent("TooltipProgressBar",f),e["default"]=f},"21e3":function(t,e,i){"use strict";e.__esModule=!0;var n=i("61b0"),r=h(n),s=i("702d"),a=u(s),o=i("b0f9"),l=h(o);function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function h(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function p(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(i,n){c(this,e);var r=d(this,t.call(this,i,n));return r.on(i,"durationchange",r.updateContent),r.on(i,"timeupdate",r.updateContent),r.on(i,"loadedmetadata",r.updateContent),r}return p(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.contentEl_=a.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00"},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},e.prototype.updateContent=function(t){var e=this.player_.duration();if(e&&this.duration_!==e){this.duration_=e;var i=this.localize("Duration Time"),n=(0,l["default"])(e);this.contentEl_.innerHTML='<span class="vjs-control-text">'+i+"</span> "+n}},e}(r["default"]);r["default"].registerComponent("DurationDisplay",f),e["default"]=f},2585:function(t,e){var i={"":!0,up:!0};function n(t){if("string"!==typeof t)return!1;var e=i[t.toLowerCase()];return!!e&&t.toLowerCase()}function r(t){return"number"===typeof t&&t>=0&&t<=100}function s(){var t=100,e=3,i=0,s=100,a=0,o=100,l="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!r(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return e},set:function(t){if("number"!==typeof t)throw new TypeError("Lines must be set to a number.");e=t}},regionAnchorY:{enumerable:!0,get:function(){return s},set:function(t){if(!r(t))throw new Error("RegionAnchorX must be between 0 and 100.");s=t}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(t){if(!r(t))throw new Error("RegionAnchorY must be between 0 and 100.");i=t}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(t){if(!r(t))throw new Error("ViewportAnchorY must be between 0 and 100.");o=t}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(t){if(!r(t))throw new Error("ViewportAnchorX must be between 0 and 100.");a=t}},scroll:{enumerable:!0,get:function(){return l},set:function(t){var e=n(t);if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");l=e}}})}t.exports=s},"297c":function(t,e,i){"use strict";var n=i("2b0e"),r=(i("6ece"),i("0789")),s=i("a9ad"),a=i("fe6c"),o=i("a452"),l=i("7560"),u=i("80d2"),h=i("58df");const c=Object(h["a"])(s["a"],Object(a["b"])(["absolute","fixed","top","bottom"]),o["a"],l["a"]);var d=c.extend({name:"v-progress-linear",props:{active:{type:Boolean,default:!0},backgroundColor:{type:String,default:null},backgroundOpacity:{type:[Number,String],default:null},bufferValue:{type:[Number,String],default:100},color:{type:String,default:"primary"},height:{type:[Number,String],default:4},indeterminate:Boolean,query:Boolean,reverse:Boolean,rounded:Boolean,stream:Boolean,striped:Boolean,value:{type:[Number,String],default:0}},data(){return{internalLazyValue:this.value||0}},computed:{__cachedBackground(){return this.$createElement("div",this.setBackgroundColor(this.backgroundColor||this.color,{staticClass:"v-progress-linear__background",style:this.backgroundStyle}))},__cachedBar(){return this.$createElement(this.computedTransition,[this.__cachedBarType])},__cachedBarType(){return this.indeterminate?this.__cachedIndeterminate:this.__cachedDeterminate},__cachedBuffer(){return this.$createElement("div",{staticClass:"v-progress-linear__buffer",style:this.styles})},__cachedDeterminate(){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__determinate",style:{width:Object(u["g"])(this.normalizedValue,"%")}}))},__cachedIndeterminate(){return this.$createElement("div",{staticClass:"v-progress-linear__indeterminate",class:{"v-progress-linear__indeterminate--active":this.active}},[this.genProgressBar("long"),this.genProgressBar("short")])},__cachedStream(){return this.stream?this.$createElement("div",this.setTextColor(this.color,{staticClass:"v-progress-linear__stream",style:{width:Object(u["g"])(100-this.normalizedBuffer,"%")}})):null},backgroundStyle(){const t=null==this.backgroundOpacity?this.backgroundColor?1:.3:parseFloat(this.backgroundOpacity);return{opacity:t,[this.isReversed?"right":"left"]:Object(u["g"])(this.normalizedValue,"%"),width:Object(u["g"])(this.normalizedBuffer-this.normalizedValue,"%")}},classes(){return{"v-progress-linear--absolute":this.absolute,"v-progress-linear--fixed":this.fixed,"v-progress-linear--query":this.query,"v-progress-linear--reactive":this.reactive,"v-progress-linear--reverse":this.isReversed,"v-progress-linear--rounded":this.rounded,"v-progress-linear--striped":this.striped,...this.themeClasses}},computedTransition(){return this.indeterminate?r["c"]:r["d"]},isReversed(){return this.$vuetify.rtl!==this.reverse},normalizedBuffer(){return this.normalize(this.bufferValue)},normalizedValue(){return this.normalize(this.internalLazyValue)},reactive(){return Boolean(this.$listeners.change)},styles(){const t={};return this.active||(t.height=0),this.indeterminate||100===parseFloat(this.normalizedBuffer)||(t.width=Object(u["g"])(this.normalizedBuffer,"%")),t}},methods:{genContent(){const t=Object(u["p"])(this,"default",{value:this.internalLazyValue});return t?this.$createElement("div",{staticClass:"v-progress-linear__content"},t):null},genListeners(){const t=this.$listeners;return this.reactive&&(t.click=this.onClick),t},genProgressBar(t){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__indeterminate",class:{[t]:!0}}))},onClick(t){if(!this.reactive)return;const{width:e}=this.$el.getBoundingClientRect();this.internalValue=t.offsetX/e*100},normalize(t){return t<0?0:t>100?100:parseFloat(t)}},render(t){const e={staticClass:"v-progress-linear",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":this.normalizedBuffer,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:this.classes,style:{bottom:this.bottom?0:void 0,height:this.active?Object(u["g"])(this.height):0,top:this.top?0:void 0},on:this.genListeners()};return t("div",e,[this.__cachedStream,this.__cachedBackground,this.__cachedBuffer,this.__cachedBar,this.genContent()])}}),p=d;e["a"]=n["a"].extend().extend({name:"loadable",props:{loading:{type:[Boolean,String],default:!1},loaderHeight:{type:[Number,String],default:2}},methods:{genProgress(){return!1===this.loading?null:this.$slots.progress||this.$createElement(p,{props:{absolute:!0,color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,height:this.loaderHeight,indeterminate:!0}})}}})},"29df":function(t,e,i){"use strict";e.__esModule=!0;var n=i("dec4"),r=o(n),s=i("61b0"),a=o(s);function o(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function h(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(i,n){l(this,e);var r=u(this,t.call(this,i,n));return r.controlText(n&&n.controlText||r.localize("Close")),r}return h(e,t),e.prototype.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},e}(r["default"]);a["default"].registerComponent("CloseButton",c),e["default"]=c},"2b5d":function(t,e,i){"use strict";i("2bfd"),i("4ff9"),i("68dd"),i("8adc");var n=i("58df"),r=i("0789"),s=i("9d26"),a=i("a9ad"),o=i("4e82"),l=i("7560"),u=i("f2e7"),h=i("1c87"),c=i("af2b"),d=i("d9bd"),p=Object(n["a"])(a["a"],c["a"],h["a"],l["a"],Object(o["a"])("chipGroup"),Object(u["b"])("inputValue")).extend({name:"v-chip",props:{active:{type:Boolean,default:!0},activeClass:{type:String,default(){return this.chipGroup?this.chipGroup.activeClass:""}},close:Boolean,closeIcon:{type:String,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},disabled:Boolean,draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:Boolean,outlined:Boolean,pill:Boolean,tag:{type:String,default:"span"},textColor:String,value:null},data:()=>({proxyClass:"v-chip--active"}),computed:{classes(){return{"v-chip":!0,...h["a"].options.computed.classes.call(this),"v-chip--clickable":this.isClickable,"v-chip--disabled":this.disabled,"v-chip--draggable":this.draggable,"v-chip--label":this.label,"v-chip--link":this.isLink,"v-chip--no-color":!this.color,"v-chip--outlined":this.outlined,"v-chip--pill":this.pill,"v-chip--removable":this.hasClose,...this.themeClasses,...this.sizeableClasses,...this.groupClasses}},hasClose(){return Boolean(this.close)},isClickable(){return Boolean(h["a"].options.computed.isClickable.call(this)||this.chipGroup)}},created(){const t=[["outline","outlined"],["selected","input-value"],["value","active"],["@input","@active.sync"]];t.forEach(([t,e])=>{this.$attrs.hasOwnProperty(t)&&Object(d["a"])(t,e,this)})},methods:{click(t){this.$emit("click",t),this.chipGroup&&this.toggle()},genFilter(){const t=[];return this.isActive&&t.push(this.$createElement(s["a"],{staticClass:"v-chip__filter",props:{left:!0}},this.filterIcon)),this.$createElement(r["b"],t)},genClose(){return this.$createElement(s["a"],{staticClass:"v-chip__close",props:{right:!0,size:18},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:t=>{t.stopPropagation(),t.preventDefault(),this.$emit("click:close"),this.$emit("update:active",!1)}}},this.closeIcon)},genContent(){return this.$createElement("span",{staticClass:"v-chip__content"},[this.filter&&this.genFilter(),this.$slots.default,this.hasClose&&this.genClose()])}},render(t){const e=[this.genContent()];let{tag:i,data:n}=this.generateRouteLink();n.attrs={...n.attrs,draggable:this.draggable?"true":void 0,tabindex:this.chipGroup&&!this.disabled?0:n.attrs.tabindex},n.directives.push({name:"show",value:this.active}),n=this.setBackgroundColor(this.color,n);const r=this.textColor||this.outlined&&this.color;return t(i,this.setTextColor(r,n),e)}}),f=p,m=(i("ee6f"),l["a"].extend({name:"v-theme-provider",props:{root:Boolean},computed:{isDark(){return this.root?this.rootIsDark:l["a"].options.computed.isDark.call(this)}},render(){return this.$slots.default&&this.$slots.default.find(t=>!t.isComment&&" "!==t.text)}})),g=i("2b0e"),_=g["a"].extend().extend({name:"delayable",props:{openDelay:{type:[Number,String],default:0},closeDelay:{type:[Number,String],default:0}},data:()=>({openTimeout:void 0,closeTimeout:void 0}),methods:{clearDelay(){clearTimeout(this.openTimeout),clearTimeout(this.closeTimeout)},runDelay(t,e){this.clearDelay();const i=parseInt(this[t+"Delay"],10);this[t+"Timeout"]=setTimeout(e||(()=>{this.isActive={open:!0,close:!1}[t]}),i)}}}),v=i("80d2");const y=Object(n["a"])(_,u["a"]);var b=y.extend({name:"activatable",props:{activator:{default:null,validator:t=>["string","object"].includes(typeof t)},disabled:Boolean,internalActivator:Boolean,openOnHover:Boolean,openOnFocus:Boolean},data:()=>({activatorElement:null,activatorNode:[],events:["click","mouseenter","mouseleave","focus"],listeners:{}}),watch:{activator:"resetActivator",openOnFocus:"resetActivator",openOnHover:"resetActivator"},mounted(){const t=Object(v["q"])(this,"activator",!0);t&&["v-slot","normal"].includes(t)&&Object(d["b"])('The activator slot must be bound, try \'<template v-slot:activator="{ on }"><v-btn v-on="on">\'',this),this.addActivatorEvents()},beforeDestroy(){this.removeActivatorEvents()},methods:{addActivatorEvents(){if(!this.activator||this.disabled||!this.getActivator())return;this.listeners=this.genActivatorListeners();const t=Object.keys(this.listeners);for(const e of t)this.getActivator().addEventListener(e,this.listeners[e])},genActivator(){const t=Object(v["p"])(this,"activator",Object.assign(this.getValueProxy(),{on:this.genActivatorListeners(),attrs:this.genActivatorAttributes()}))||[];return this.activatorNode=t,t},genActivatorAttributes(){return{role:"button","aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genActivatorListeners(){if(this.disabled)return{};const t={};return this.openOnHover?(t.mouseenter=t=>{this.getActivator(t),this.runDelay("open")},t.mouseleave=t=>{this.getActivator(t),this.runDelay("close")}):t.click=t=>{const e=this.getActivator(t);e&&e.focus(),t.stopPropagation(),this.isActive=!this.isActive},this.openOnFocus&&(t.focus=t=>{this.getActivator(t),t.stopPropagation(),this.isActive=!this.isActive}),t},getActivator(t){if(this.activatorElement)return this.activatorElement;let e=null;if(this.activator){const t=this.internalActivator?this.$el:document;e="string"===typeof this.activator?t.querySelector(this.activator):this.activator.$el?this.activator.$el:this.activator}else if(1===this.activatorNode.length||this.activatorNode.length&&!t){const t=this.activatorNode[0].componentInstance;e=t&&t.$options.mixins&&t.$options.mixins.some(t=>t.options&&["activatable","menuable"].includes(t.options.name))?t.getActivator():this.activatorNode[0].elm}else t&&(e=t.currentTarget||t.target);return this.activatorElement=e,this.activatorElement},getContentSlot(){return Object(v["p"])(this,"default",this.getValueProxy(),!0)},getValueProxy(){const t=this;return{get value(){return t.isActive},set value(e){t.isActive=e}}},removeActivatorEvents(){if(!this.activator||!this.activatorElement)return;const t=Object.keys(this.listeners);for(const e of t)this.activatorElement.removeEventListener(e,this.listeners[e]);this.listeners={}},resetActivator(){this.removeActivatorEvents(),this.activatorElement=null,this.getActivator(),this.addActivatorEvents()}}}),T=i("b848"),w=i("9d65");function S(t){const e=typeof t;return"boolean"===e||"string"===e||t.nodeType===Node.ELEMENT_NODE}var E=Object(n["a"])(w["a"]).extend({name:"detachable",props:{attach:{default:!1,validator:S},contentClass:{type:String,default:""}},data:()=>({activatorNode:null,hasDetached:!1}),watch:{attach(){this.hasDetached=!1,this.initDetach()},hasContent(){this.$nextTick(this.initDetach)}},beforeMount(){this.$nextTick(()=>{if(this.activatorNode){const t=Array.isArray(this.activatorNode)?this.activatorNode:[this.activatorNode];t.forEach(t=>{if(!t.elm)return;if(!this.$el.parentNode)return;const e=this.$el===this.$el.parentNode.firstChild?this.$el:this.$el.nextSibling;this.$el.parentNode.insertBefore(t.elm,e)})}})},mounted(){this.hasContent&&this.initDetach()},deactivated(){this.isActive=!1},beforeDestroy(){try{if(this.$refs.content&&this.$refs.content.parentNode&&this.$refs.content.parentNode.removeChild(this.$refs.content),this.activatorNode){const t=Array.isArray(this.activatorNode)?this.activatorNode:[this.activatorNode];t.forEach(t=>{t.elm&&t.elm.parentNode&&t.elm.parentNode.removeChild(t.elm)})}}catch(t){console.log(t)}},methods:{getScopeIdAttrs(){const t=Object(v["n"])(this.$vnode,"context.$options._scopeId");return t&&{[t]:""}},initDetach(){if(this._isDestroyed||!this.$refs.content||this.hasDetached||""===this.attach||!0===this.attach||"attach"===this.attach)return;let t;t=!1===this.attach?document.querySelector("[data-app]"):"string"===typeof this.attach?document.querySelector(this.attach):this.attach,t?(t.appendChild(this.$refs.content),this.hasDetached=!0):Object(d["c"])("Unable to locate target "+(this.attach||"[data-app]"),this)}}}),C=i("fe6c"),k=g["a"].extend().extend({name:"stackable",data(){return{stackElement:null,stackExclude:null,stackMinZIndex:0,isActive:!1}},computed:{activeZIndex(){if("undefined"===typeof window)return 0;const t=this.stackElement||this.$refs.content,e=this.isActive?this.getMaxZIndex(this.stackExclude||[t])+2:Object(v["r"])(t);return null==e?e:parseInt(e)}},methods:{getMaxZIndex(t=[]){const e=this.$el,i=[this.stackMinZIndex,Object(v["r"])(e)],n=[...document.getElementsByClassName("v-menu__content--active"),...document.getElementsByClassName("v-dialog__content--active")];for(let r=0;r<n.length;r++)t.includes(n[r])||i.push(Object(v["r"])(n[r]));return Math.max(...i)}}});const x=Object(n["a"])(k,C["a"],b);var M=x.extend().extend({name:"menuable",props:{allowOverflow:Boolean,light:Boolean,dark:Boolean,maxWidth:{type:[Number,String],default:"auto"},minWidth:[Number,String],nudgeBottom:{type:[Number,String],default:0},nudgeLeft:{type:[Number,String],default:0},nudgeRight:{type:[Number,String],default:0},nudgeTop:{type:[Number,String],default:0},nudgeWidth:{type:[Number,String],default:0},offsetOverflow:Boolean,openOnClick:Boolean,positionX:{type:Number,default:null},positionY:{type:Number,default:null},zIndex:{type:[Number,String],default:null}},data:()=>({absoluteX:0,absoluteY:0,activatedBy:null,activatorFixed:!1,dimensions:{activator:{top:0,left:0,bottom:0,right:0,width:0,height:0,offsetTop:0,scrollHeight:0,offsetLeft:0},content:{top:0,left:0,bottom:0,right:0,width:0,height:0,offsetTop:0,scrollHeight:0}},hasJustFocused:!1,hasWindow:!1,inputActivator:!1,isContentActive:!1,pageWidth:0,pageYOffset:0,stackClass:"v-menu__content--active",stackMinZIndex:6}),computed:{computedLeft(){const t=this.dimensions.activator,e=this.dimensions.content,i=(!1!==this.attach?t.offsetLeft:t.left)||0,n=Math.max(t.width,e.width);let r=0;if(r+=this.left?i-(n-t.width):i,this.offsetX){const e=isNaN(Number(this.maxWidth))?t.width:Math.min(t.width,Number(this.maxWidth));r+=this.left?-e:t.width}return this.nudgeLeft&&(r-=parseInt(this.nudgeLeft)),this.nudgeRight&&(r+=parseInt(this.nudgeRight)),r},computedTop(){const t=this.dimensions.activator,e=this.dimensions.content;let i=0;return this.top&&(i+=t.height-e.height),!1!==this.attach?i+=t.offsetTop:i+=t.top+this.pageYOffset,this.offsetY&&(i+=this.top?-t.height:t.height),this.nudgeTop&&(i-=parseInt(this.nudgeTop)),this.nudgeBottom&&(i+=parseInt(this.nudgeBottom)),i},hasActivator(){return!!this.$slots.activator||!!this.$scopedSlots.activator||!!this.activator||!!this.inputActivator}},watch:{disabled(t){t&&this.callDeactivate()},isActive(t){this.disabled||(t?this.callActivate():this.callDeactivate())},positionX:"updateDimensions",positionY:"updateDimensions"},beforeMount(){this.hasWindow="undefined"!==typeof window},methods:{absolutePosition(){return{offsetTop:0,offsetLeft:0,scrollHeight:0,top:this.positionY||this.absoluteY,bottom:this.positionY||this.absoluteY,left:this.positionX||this.absoluteX,right:this.positionX||this.absoluteX,height:0,width:0}},activate(){},calcLeft(t){return Object(v["g"])(!1!==this.attach?this.computedLeft:this.calcXOverflow(this.computedLeft,t))},calcTop(){return Object(v["g"])(!1!==this.attach?this.computedTop:this.calcYOverflow(this.computedTop))},calcXOverflow(t,e){const i=t+e-this.pageWidth+12;return t=(!this.left||this.right)&&i>0?Math.max(t-i,0):Math.max(t,12),t+this.getOffsetLeft()},calcYOverflow(t){const e=this.getInnerHeight(),i=this.pageYOffset+e,n=this.dimensions.activator,r=this.dimensions.content.height,s=t+r,a=i<s;return a&&this.offsetOverflow&&n.top>r?t=this.pageYOffset+(n.top-r):a&&!this.allowOverflow?t=i-r-12:t<this.pageYOffset&&!this.allowOverflow&&(t=this.pageYOffset+12),t<12?12:t},callActivate(){this.hasWindow&&this.activate()},callDeactivate(){this.isContentActive=!1,this.deactivate()},checkForPageYOffset(){this.hasWindow&&(this.pageYOffset=this.activatorFixed?0:this.getOffsetTop())},checkActivatorFixed(){if(!1!==this.attach)return;let t=this.getActivator();while(t){if("fixed"===window.getComputedStyle(t).position)return void(this.activatorFixed=!0);t=t.offsetParent}this.activatorFixed=!1},deactivate(){},genActivatorListeners(){const t=b.options.methods.genActivatorListeners.call(this),e=t.click;return t.click=t=>{this.openOnClick&&e&&e(t),this.absoluteX=t.clientX,this.absoluteY=t.clientY},t},getInnerHeight(){return this.hasWindow?window.innerHeight||document.documentElement.clientHeight:0},getOffsetLeft(){return this.hasWindow?window.pageXOffset||document.documentElement.scrollLeft:0},getOffsetTop(){return this.hasWindow?window.pageYOffset||document.documentElement.scrollTop:0},getRoundedBoundedClientRect(t){const e=t.getBoundingClientRect();return{top:Math.round(e.top),left:Math.round(e.left),bottom:Math.round(e.bottom),right:Math.round(e.right),width:Math.round(e.width),height:Math.round(e.height)}},measure(t){if(!t||!this.hasWindow)return null;const e=this.getRoundedBoundedClientRect(t);if(!1!==this.attach){const i=window.getComputedStyle(t);e.left=parseInt(i.marginLeft),e.top=parseInt(i.marginTop)}return e},sneakPeek(t){requestAnimationFrame(()=>{const e=this.$refs.content;e&&"none"===e.style.display?(e.style.display="inline-block",t(),e.style.display="none"):t()})},startTransition(){return new Promise(t=>requestAnimationFrame(()=>{this.isContentActive=this.hasJustFocused=this.isActive,t()}))},updateDimensions(){this.hasWindow="undefined"!==typeof window,this.checkActivatorFixed(),this.checkForPageYOffset(),this.pageWidth=document.documentElement.clientWidth;const t={activator:{...this.dimensions.activator},content:{...this.dimensions.content}};if(!this.hasActivator||this.absolute)t.activator=this.absolutePosition();else{const e=this.getActivator();if(!e)return;t.activator=this.measure(e),t.activator.offsetLeft=e.offsetLeft,!1!==this.attach?t.activator.offsetTop=e.offsetTop:t.activator.offsetTop=0}this.sneakPeek(()=>{this.$refs.content&&(t.content=this.measure(this.$refs.content)),this.dimensions=t})}}}),A=g["a"].extend({name:"returnable",props:{returnValue:null},data:()=>({isActive:!1,originalValue:null}),watch:{isActive(t){t?this.originalValue=this.returnValue:this.$emit("update:return-value",this.originalValue)}},methods:{save(t){this.originalValue=t,setTimeout(()=>{this.isActive=!1})}}}),I=i("a236"),O=i("a293"),P=i("dc22");const L=Object(n["a"])(T["a"],_,E,M,A,I["a"],u["a"],l["a"]);var R=L.extend({name:"v-menu",directives:{ClickOutside:O["a"],Resize:P["a"]},provide(){return{isInMenu:!0,theme:this.theme}},props:{auto:Boolean,closeOnClick:{type:Boolean,default:!0},closeOnContentClick:{type:Boolean,default:!0},disabled:Boolean,disableKeys:Boolean,maxHeight:{type:[Number,String],default:"auto"},offsetX:Boolean,offsetY:Boolean,openOnClick:{type:Boolean,default:!0},openOnHover:Boolean,origin:{type:String,default:"top left"},transition:{type:[Boolean,String],default:"v-menu-transition"}},data(){return{calculatedTopAuto:0,defaultOffset:8,hasJustFocused:!1,listIndex:-1,resizeTimeout:0,selectedIndex:null,tiles:[]}},computed:{activeTile(){return this.tiles[this.listIndex]},calculatedLeft(){const t=Math.max(this.dimensions.content.width,parseFloat(this.calculatedMinWidth));return this.auto?Object(v["g"])(this.calcXOverflow(this.calcLeftAuto(),t))||"0":this.calcLeft(t)||"0"},calculatedMaxHeight(){const t=this.auto?"200px":Object(v["g"])(this.maxHeight);return t||"0"},calculatedMaxWidth(){return Object(v["g"])(this.maxWidth)||"0"},calculatedMinWidth(){if(this.minWidth)return Object(v["g"])(this.minWidth)||"0";const t=Math.min(this.dimensions.activator.width+Number(this.nudgeWidth)+(this.auto?16:0),Math.max(this.pageWidth-24,0)),e=isNaN(parseInt(this.calculatedMaxWidth))?t:parseInt(this.calculatedMaxWidth);return Object(v["g"])(Math.min(e,t))||"0"},calculatedTop(){const t=this.auto?Object(v["g"])(this.calcYOverflow(this.calculatedTopAuto)):this.calcTop();return t||"0"},hasClickableTiles(){return Boolean(this.tiles.find(t=>t.tabIndex>-1))},styles(){return{maxHeight:this.calculatedMaxHeight,minWidth:this.calculatedMinWidth,maxWidth:this.calculatedMaxWidth,top:this.calculatedTop,left:this.calculatedLeft,transformOrigin:this.origin,zIndex:this.zIndex||this.activeZIndex}}},watch:{isActive(t){t||(this.listIndex=-1)},isContentActive(t){this.hasJustFocused=t},listIndex(t,e){if(t in this.tiles){const e=this.tiles[t];e.classList.add("v-list-item--highlighted"),this.$refs.content.scrollTop=e.offsetTop-e.clientHeight}e in this.tiles&&this.tiles[e].classList.remove("v-list-item--highlighted")}},created(){this.$attrs.hasOwnProperty("full-width")&&Object(d["e"])("full-width",this)},mounted(){this.isActive&&this.callActivate()},methods:{activate(){this.updateDimensions(),requestAnimationFrame(()=>{this.startTransition().then(()=>{this.$refs.content&&(this.calculatedTopAuto=this.calcTopAuto(),this.auto&&(this.$refs.content.scrollTop=this.calcScrollPosition()))})})},calcScrollPosition(){const t=this.$refs.content,e=t.querySelector(".v-list-item--active"),i=t.scrollHeight-t.offsetHeight;return e?Math.min(i,Math.max(0,e.offsetTop-t.offsetHeight/2+e.offsetHeight/2)):t.scrollTop},calcLeftAuto(){return parseInt(this.dimensions.activator.left-2*this.defaultOffset)},calcTopAuto(){const t=this.$refs.content,e=t.querySelector(".v-list-item--active");if(e||(this.selectedIndex=null),this.offsetY||!e)return this.computedTop;this.selectedIndex=Array.from(this.tiles).indexOf(e);const i=e.offsetTop-this.calcScrollPosition(),n=t.querySelector(".v-list-item").offsetTop;return this.computedTop-i-n-1},changeListIndex(t){if(this.getTiles(),this.isActive&&this.hasClickableTiles)if(t.keyCode!==v["t"].tab){if(t.keyCode===v["t"].down)this.nextTile();else if(t.keyCode===v["t"].up)this.prevTile();else if(t.keyCode===v["t"].end)this.lastTile();else if(t.keyCode===v["t"].home)this.firstTile();else{if(t.keyCode!==v["t"].enter||-1===this.listIndex)return;this.tiles[this.listIndex].click()}t.preventDefault()}else this.isActive=!1},closeConditional(t){const e=t.target;return this.isActive&&!this._isDestroyed&&this.closeOnClick&&!this.$refs.content.contains(e)},genActivatorAttributes(){const t=b.options.methods.genActivatorAttributes.call(this);return this.activeTile&&this.activeTile.id?{...t,"aria-activedescendant":this.activeTile.id}:t},genActivatorListeners(){const t=M.options.methods.genActivatorListeners.call(this);return this.disableKeys||(t.keydown=this.onKeyDown),t},genTransition(){const t=this.genContent();return this.transition?this.$createElement("transition",{props:{name:this.transition}},[t]):t},genDirectives(){const t=[{name:"show",value:this.isContentActive}];return!this.openOnHover&&this.closeOnClick&&t.push({name:"click-outside",value:{handler:()=>{this.isActive=!1},closeConditional:this.closeConditional,include:()=>[this.$el,...this.getOpenDependentElements()]}}),t},genContent(){const t={attrs:{...this.getScopeIdAttrs(),role:"role"in this.$attrs?this.$attrs.role:"menu"},staticClass:"v-menu__content",class:{...this.rootThemeClasses,...this.roundedClasses,"v-menu__content--auto":this.auto,"v-menu__content--fixed":this.activatorFixed,menuable__content__active:this.isActive,[this.contentClass.trim()]:!0},style:this.styles,directives:this.genDirectives(),ref:"content",on:{click:t=>{const e=t.target;e.getAttribute("disabled")||this.closeOnContentClick&&(this.isActive=!1)},keydown:this.onKeyDown}};return this.$listeners.scroll&&(t.on=t.on||{},t.on.scroll=this.$listeners.scroll),!this.disabled&&this.openOnHover&&(t.on=t.on||{},t.on.mouseenter=this.mouseEnterHandler),this.openOnHover&&(t.on=t.on||{},t.on.mouseleave=this.mouseLeaveHandler),this.$createElement("div",t,this.getContentSlot())},getTiles(){this.$refs.content&&(this.tiles=Array.from(this.$refs.content.querySelectorAll(".v-list-item")))},mouseEnterHandler(){this.runDelay("open",()=>{this.hasJustFocused||(this.hasJustFocused=!0)})},mouseLeaveHandler(t){this.runDelay("close",()=>{this.$refs.content.contains(t.relatedTarget)||requestAnimationFrame(()=>{this.isActive=!1,this.callDeactivate()})})},nextTile(){const t=this.tiles[this.listIndex+1];if(!t){if(!this.tiles.length)return;return this.listIndex=-1,void this.nextTile()}this.listIndex++,-1===t.tabIndex&&this.nextTile()},prevTile(){const t=this.tiles[this.listIndex-1];if(!t){if(!this.tiles.length)return;return this.listIndex=this.tiles.length,void this.prevTile()}this.listIndex--,-1===t.tabIndex&&this.prevTile()},lastTile(){const t=this.tiles[this.tiles.length-1];t&&(this.listIndex=this.tiles.length-1,-1===t.tabIndex&&this.prevTile())},firstTile(){const t=this.tiles[0];t&&(this.listIndex=0,-1===t.tabIndex&&this.nextTile())},onKeyDown(t){if(t.keyCode===v["t"].esc){setTimeout(()=>{this.isActive=!1});const t=this.getActivator();this.$nextTick(()=>t&&t.focus())}else!this.isActive&&[v["t"].up,v["t"].down].includes(t.keyCode)&&(this.isActive=!0);this.$nextTick(()=>this.changeListIndex(t))},onResize(){this.isActive&&(this.$refs.content.offsetWidth,this.updateDimensions(),clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(this.updateDimensions,100))}},render(t){const e={staticClass:"v-menu",class:{"v-menu--attached":""===this.attach||!0===this.attach||"attach"===this.attach},directives:[{arg:"500",name:"resize",value:this.onResize}]};return t("div",e,[!this.activator&&this.genActivator(),this.showLazyContent(()=>[this.$createElement(m,{props:{root:!0,light:this.light,dark:this.dark}},[this.genTransition()])])])}}),D=R,N=(i("cf36"),i("5607")),B=i("132d"),j=i("d9f7"),U=g["a"].extend({name:"v-simple-checkbox",functional:!0,directives:{ripple:N["a"]},props:{...a["a"].options.props,...l["a"].options.props,disabled:Boolean,ripple:{type:Boolean,default:!0},value:Boolean,indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},onIcon:{type:String,default:"$checkboxOn"},offIcon:{type:String,default:"$checkboxOff"}},render(t,{props:e,data:i,listeners:n}){const r=[];let s=e.offIcon;if(e.indeterminate?s=e.indeterminateIcon:e.value&&(s=e.onIcon),r.push(t(B["a"],a["a"].options.methods.setTextColor(e.value&&e.color,{props:{disabled:e.disabled,dark:e.dark,light:e.light}}),s)),e.ripple&&!e.disabled){const i=t("div",a["a"].options.methods.setTextColor(e.color,{staticClass:"v-input--selection-controls__ripple",directives:[{name:"ripple",value:{center:!0}}]}));r.push(i)}return t("div",Object(j["a"])(i,{class:{"v-simple-checkbox":!0,"v-simple-checkbox--disabled":e.disabled},on:{click:t=>{t.stopPropagation(),i.on&&i.on.input&&!e.disabled&&Object(v["z"])(i.on.input).forEach(t=>t(!e.value))}}}),[t("div",{staticClass:"v-input--selection-controls__input"},r)])}}),F=(i("8ce9"),l["a"].extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render(t){let e;return this.$attrs.role&&"separator"!==this.$attrs.role||(e=this.vertical?"vertical":"horizontal"),t("hr",{class:{"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical,...this.themeClasses},attrs:{role:"separator","aria-orientation":e,...this.$attrs},on:this.$listeners})}})),z=F,V=(i("0bc6"),Object(n["a"])(l["a"]).extend({name:"v-subheader",props:{inset:Boolean},render(t){return t("div",{staticClass:"v-subheader",class:{"v-subheader--inset":this.inset,...this.themeClasses},attrs:this.$attrs,on:this.$listeners},this.$slots.default)}})),H=V,q=i("da13"),G=i("1800"),W=i("5d23"),$=i("8860"),K=Object(n["a"])(a["a"],l["a"]).extend({name:"v-select-list",directives:{ripple:N["a"]},props:{action:Boolean,dense:Boolean,hideSelected:Boolean,items:{type:Array,default:()=>[]},itemDisabled:{type:[String,Array,Function],default:"disabled"},itemText:{type:[String,Array,Function],default:"text"},itemValue:{type:[String,Array,Function],default:"value"},noDataText:String,noFilter:Boolean,searchInput:null,selectedItems:{type:Array,default:()=>[]}},computed:{parsedItems(){return this.selectedItems.map(t=>this.getValue(t))},tileActiveClass(){return Object.keys(this.setTextColor(this.color).class||{}).join(" ")},staticNoDataTile(){const t={attrs:{role:void 0},on:{mousedown:t=>t.preventDefault()}};return this.$createElement(q["a"],t,[this.genTileContent(this.noDataText)])}},methods:{genAction(t,e){return this.$createElement(G["a"],[this.$createElement(U,{props:{color:this.color,value:e,ripple:!1},on:{input:()=>this.$emit("select",t)}})])},genDivider(t){return this.$createElement(z,{props:t})},genFilteredText(t){if(t=t||"",!this.searchInput||this.noFilter)return Object(v["k"])(t);const{start:e,middle:i,end:n}=this.getMaskedCharacters(t);return`${Object(v["k"])(e)}${this.genHighlight(i)}${Object(v["k"])(n)}`},genHeader(t){return this.$createElement(H,{props:t},t.header)},genHighlight(t){return`<span class="v-list-item__mask">${Object(v["k"])(t)}</span>`},getMaskedCharacters(t){const e=(this.searchInput||"").toString().toLocaleLowerCase(),i=t.toLocaleLowerCase().indexOf(e);if(i<0)return{start:t,middle:"",end:""};const n=t.slice(0,i),r=t.slice(i,i+e.length),s=t.slice(i+e.length);return{start:n,middle:r,end:s}},genTile({item:t,index:e,disabled:i=null,value:n=!1}){n||(n=this.hasItem(t)),t===Object(t)&&(i=null!==i?i:this.getDisabled(t));const r={attrs:{"aria-selected":String(n),id:`list-item-${this._uid}-${e}`,role:"option"},on:{mousedown:t=>{t.preventDefault()},click:()=>i||this.$emit("select",t)},props:{activeClass:this.tileActiveClass,disabled:i,ripple:!0,inputValue:n}};if(!this.$scopedSlots.item)return this.$createElement(q["a"],r,[this.action&&!this.hideSelected&&this.items.length>0?this.genAction(t,n):null,this.genTileContent(t,e)]);const s=this,a=this.$scopedSlots.item({parent:s,item:t,attrs:{...r.attrs,...r.props},on:r.on});return this.needsTile(a)?this.$createElement(q["a"],r,a):a},genTileContent(t,e=0){const i=this.genFilteredText(this.getText(t));return this.$createElement(W["a"],[this.$createElement(W["b"],{domProps:{innerHTML:i}})])},hasItem(t){return this.parsedItems.indexOf(this.getValue(t))>-1},needsTile(t){return 1!==t.length||null==t[0].componentOptions||"v-list-item"!==t[0].componentOptions.Ctor.options.name},getDisabled(t){return Boolean(Object(v["o"])(t,this.itemDisabled,!1))},getText(t){return String(Object(v["o"])(t,this.itemText,t))},getValue(t){return Object(v["o"])(t,this.itemValue,this.getText(t))}},render(){const t=[],e=this.items.length;for(let i=0;i<e;i++){const e=this.items[i];this.hideSelected&&this.hasItem(e)||(null==e?t.push(this.genTile({item:e,index:i})):e.header?t.push(this.genHeader(e)):e.divider?t.push(this.genDivider(e)):t.push(this.genTile({item:e,index:i})))}return t.length||t.push(this.$slots["no-data"]||this.staticNoDataTile),this.$slots["prepend-item"]&&t.unshift(this.$slots["prepend-item"]),this.$slots["append-item"]&&t.push(this.$slots["append-item"]),this.$createElement($["a"],{staticClass:"v-select-list",class:this.themeClasses,attrs:{role:"listbox",tabindex:-1},props:{dense:this.dense}},t)}}),Z=(i("d191"),i("1b2c"),Object(n["a"])(l["a"]).extend({name:"v-label",functional:!0,props:{absolute:Boolean,color:{type:String,default:"primary"},disabled:Boolean,focused:Boolean,for:String,left:{type:[Number,String],default:0},right:{type:[Number,String],default:"auto"},value:Boolean},render(t,e){const{children:i,listeners:n,props:r}=e,s={staticClass:"v-label",class:{"v-label--active":r.value,"v-label--is-disabled":r.disabled,...Object(l["b"])(e)},attrs:{for:r.for,"aria-hidden":!r.for},on:n,style:{left:Object(v["g"])(r.left),right:Object(v["g"])(r.right),position:r.absolute?"absolute":"relative"},ref:"label"};return t("label",a["a"].options.methods.setTextColor(r.focused&&r.color,s),i)}})),X=Z,Y=(i("8ff2"),Object(n["a"])(a["a"],l["a"]).extend({name:"v-messages",props:{value:{type:Array,default:()=>[]}},methods:{genChildren(){return this.$createElement("transition-group",{staticClass:"v-messages__wrapper",attrs:{name:"message-transition",tag:"div"}},this.value.map(this.genMessage))},genMessage(t,e){return this.$createElement("div",{staticClass:"v-messages__message",key:e},Object(v["p"])(this,"default",{message:t,key:e})||[t])}},render(t){return t("div",this.setTextColor(this.color,{staticClass:"v-messages",class:this.themeClasses}),[this.genChildren()])}})),Q=Y,J=i("7e2b"),tt=i("3206");const et=Object(n["a"])(a["a"],Object(tt["a"])("form"),l["a"]);var it=et.extend({name:"validatable",props:{disabled:Boolean,error:Boolean,errorCount:{type:[Number,String],default:1},errorMessages:{type:[String,Array],default:()=>[]},messages:{type:[String,Array],default:()=>[]},readonly:Boolean,rules:{type:Array,default:()=>[]},success:Boolean,successMessages:{type:[String,Array],default:()=>[]},validateOnBlur:Boolean,value:{required:!1}},data(){return{errorBucket:[],hasColor:!1,hasFocused:!1,hasInput:!1,isFocused:!1,isResetting:!1,lazyValue:this.value,valid:!1}},computed:{computedColor(){if(!this.isDisabled)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},hasError(){return this.internalErrorMessages.length>0||this.errorBucket.length>0||this.error},hasSuccess(){return this.internalSuccessMessages.length>0||this.success},externalError(){return this.internalErrorMessages.length>0||this.error},hasMessages(){return this.validationTarget.length>0},hasState(){return!this.isDisabled&&(this.hasSuccess||this.shouldValidate&&this.hasError)},internalErrorMessages(){return this.genInternalMessages(this.errorMessages)},internalMessages(){return this.genInternalMessages(this.messages)},internalSuccessMessages(){return this.genInternalMessages(this.successMessages)},internalValue:{get(){return this.lazyValue},set(t){this.lazyValue=t,this.$emit("input",t)}},isDisabled(){return this.disabled||!!this.form&&this.form.disabled},isInteractive(){return!this.isDisabled&&!this.isReadonly},isReadonly(){return this.readonly||!!this.form&&this.form.readonly},shouldValidate(){return!!this.externalError||!this.isResetting&&(this.validateOnBlur?this.hasFocused&&!this.isFocused:this.hasInput||this.hasFocused)},validations(){return this.validationTarget.slice(0,Number(this.errorCount))},validationState(){if(!this.isDisabled)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":this.hasColor?this.computedColor:void 0},validationTarget(){return this.internalErrorMessages.length>0?this.internalErrorMessages:this.successMessages&&this.successMessages.length>0?this.internalSuccessMessages:this.messages&&this.messages.length>0?this.internalMessages:this.shouldValidate?this.errorBucket:[]}},watch:{rules:{handler(t,e){Object(v["j"])(t,e)||this.validate()},deep:!0},internalValue(){this.hasInput=!0,this.validateOnBlur||this.$nextTick(this.validate)},isFocused(t){t||this.isDisabled||(this.hasFocused=!0,this.validateOnBlur&&this.$nextTick(this.validate))},isResetting(){setTimeout(()=>{this.hasInput=!1,this.hasFocused=!1,this.isResetting=!1,this.validate()},0)},hasError(t){this.shouldValidate&&this.$emit("update:error",t)},value(t){this.lazyValue=t}},beforeMount(){this.validate()},created(){this.form&&this.form.register(this)},beforeDestroy(){this.form&&this.form.unregister(this)},methods:{genInternalMessages(t){return t?Array.isArray(t)?t:[t]:[]},reset(){this.isResetting=!0,this.internalValue=Array.isArray(this.internalValue)?[]:null},resetValidation(){this.isResetting=!0},validate(t=!1,e){const i=[];e=e||this.internalValue,t&&(this.hasInput=this.hasFocused=!0);for(let n=0;n<this.rules.length;n++){const t=this.rules[n],r="function"===typeof t?t(e):t;!1===r||"string"===typeof r?i.push(r||""):"boolean"!==typeof r&&Object(d["b"])(`Rules should return a string or boolean, received '${typeof r}' instead`,this)}return this.errorBucket=i,this.valid=0===i.length,this.valid}}});const nt=Object(n["a"])(J["a"],it);var rt=nt.extend().extend({name:"v-input",inheritAttrs:!1,props:{appendIcon:String,backgroundColor:{type:String,default:""},dense:Boolean,height:[Number,String],hideDetails:[Boolean,String],hint:String,id:String,label:String,loading:Boolean,persistentHint:Boolean,prependIcon:String,value:null},data(){return{lazyValue:this.value,hasMouseDown:!1}},computed:{classes(){return{"v-input--has-state":this.hasState,"v-input--hide-details":!this.showDetails,"v-input--is-label-active":this.isLabelActive,"v-input--is-dirty":this.isDirty,"v-input--is-disabled":this.isDisabled,"v-input--is-focused":this.isFocused,"v-input--is-loading":!1!==this.loading&&null!=this.loading,"v-input--is-readonly":this.isReadonly,"v-input--dense":this.dense,...this.themeClasses}},computedId(){return this.id||"input-"+this._uid},hasDetails(){return this.messagesToDisplay.length>0},hasHint(){return!this.hasMessages&&!!this.hint&&(this.persistentHint||this.isFocused)},hasLabel(){return!(!this.$slots.label&&!this.label)},internalValue:{get(){return this.lazyValue},set(t){this.lazyValue=t,this.$emit(this.$_modelEvent,t)}},isDirty(){return!!this.lazyValue},isLabelActive(){return this.isDirty},messagesToDisplay(){return this.hasHint?[this.hint]:this.hasMessages?this.validations.map(t=>{if("string"===typeof t)return t;const e=t(this.internalValue);return"string"===typeof e?e:""}).filter(t=>""!==t):[]},showDetails(){return!1===this.hideDetails||"auto"===this.hideDetails&&this.hasDetails}},watch:{value(t){this.lazyValue=t}},beforeCreate(){this.$_modelEvent=this.$options.model&&this.$options.model.event||"input"},methods:{genContent(){return[this.genPrependSlot(),this.genControl(),this.genAppendSlot()]},genControl(){return this.$createElement("div",{staticClass:"v-input__control"},[this.genInputSlot(),this.genMessages()])},genDefaultSlot(){return[this.genLabel(),this.$slots.default]},genIcon(t,e,i={}){const n=this[t+"Icon"],r="click:"+Object(v["s"])(t),a=!(!this.listeners$[r]&&!e),o=Object(j["a"])({attrs:{"aria-label":a?Object(v["s"])(t).split("-")[0]+" icon":void 0,color:this.validationState,dark:this.dark,disabled:this.isDisabled,light:this.light},on:a?{click:t=>{t.preventDefault(),t.stopPropagation(),this.$emit(r,t),e&&e(t)},mouseup:t=>{t.preventDefault(),t.stopPropagation()}}:void 0},i);return this.$createElement("div",{staticClass:"v-input__icon",class:t?"v-input__icon--"+Object(v["s"])(t):void 0},[this.$createElement(s["a"],o,n)])},genInputSlot(){return this.$createElement("div",this.setBackgroundColor(this.backgroundColor,{staticClass:"v-input__slot",style:{height:Object(v["g"])(this.height)},on:{click:this.onClick,mousedown:this.onMouseDown,mouseup:this.onMouseUp},ref:"input-slot"}),[this.genDefaultSlot()])},genLabel(){return this.hasLabel?this.$createElement(X,{props:{color:this.validationState,dark:this.dark,disabled:this.isDisabled,focused:this.hasState,for:this.computedId,light:this.light}},this.$slots.label||this.label):null},genMessages(){return this.showDetails?this.$createElement(Q,{props:{color:this.hasHint?"":this.validationState,dark:this.dark,light:this.light,value:this.messagesToDisplay},attrs:{role:this.hasMessages?"alert":null},scopedSlots:{default:t=>Object(v["p"])(this,"message",t)}}):null},genSlot(t,e,i){if(!i.length)return null;const n=`${t}-${e}`;return this.$createElement("div",{staticClass:"v-input__"+n,ref:n},i)},genPrependSlot(){const t=[];return this.$slots.prepend?t.push(this.$slots.prepend):this.prependIcon&&t.push(this.genIcon("prepend")),this.genSlot("prepend","outer",t)},genAppendSlot(){const t=[];return this.$slots.append?t.push(this.$slots.append):this.appendIcon&&t.push(this.genIcon("append")),this.genSlot("append","outer",t)},onClick(t){this.$emit("click",t)},onMouseDown(t){this.hasMouseDown=!0,this.$emit("mousedown",t)},onMouseUp(t){this.hasMouseDown=!1,this.$emit("mouseup",t)}},render(t){return t("div",this.setTextColor(this.validationState,{staticClass:"v-input",class:this.classes}),this.genContent())}}),st=rt,at=(i("e9b1"),Object(n["a"])(l["a"]).extend({name:"v-counter",functional:!0,props:{value:{type:[Number,String],default:""},max:[Number,String]},render(t,e){const{props:i}=e,n=parseInt(i.max,10),r=parseInt(i.value,10),s=n?`${r} / ${n}`:String(i.value),a=n&&r>n;return t("div",{staticClass:"v-counter",class:{"error--text":a,...Object(l["b"])(e)}},s)}})),ot=at,lt=i("90a2");function ut(t){return"undefined"!==typeof window&&"IntersectionObserver"in window?g["a"].extend({name:"intersectable",mounted(){lt["a"].inserted(this.$el,{name:"intersect",value:this.onObserve})},destroyed(){lt["a"].unbind(this.$el)},methods:{onObserve(e,i,n){if(n)for(let r=0,s=t.onVisible.length;r<s;r++){const e=this[t.onVisible[r]];"function"!==typeof e?Object(d["c"])(t.onVisible[r]+" method is not available on the instance but referenced in intersectable mixin options"):e()}}}}):g["a"].extend({name:"intersectable"})}var ht=i("297c");function ct(t){if("function"!==typeof t.getRootNode){while(t.parentNode)t=t.parentNode;return t!==document?null:document}const e=t.getRootNode();return e!==document&&e.getRootNode({composed:!0})!==document?null:e}const dt=Object(n["a"])(st,ut({onVisible:["onResize","tryAutofocus"]}),ht["a"]),pt=["color","file","time","date","datetime-local","week","month"];var ft=dt.extend().extend({name:"v-text-field",directives:{resize:P["a"],ripple:N["a"]},inheritAttrs:!1,props:{appendOuterIcon:String,autofocus:Boolean,clearable:Boolean,clearIcon:{type:String,default:"$clear"},counter:[Boolean,Number,String],counterValue:Function,filled:Boolean,flat:Boolean,fullWidth:Boolean,label:String,outlined:Boolean,placeholder:String,prefix:String,prependInnerIcon:String,reverse:Boolean,rounded:Boolean,shaped:Boolean,singleLine:Boolean,solo:Boolean,soloInverted:Boolean,suffix:String,type:{type:String,default:"text"}},data:()=>({badInput:!1,labelWidth:0,prefixWidth:0,prependWidth:0,initialValue:null,isBooted:!1,isClearing:!1}),computed:{classes(){return{...st.options.computed.classes.call(this),"v-text-field":!0,"v-text-field--full-width":this.fullWidth,"v-text-field--prefix":this.prefix,"v-text-field--single-line":this.isSingle,"v-text-field--solo":this.isSolo,"v-text-field--solo-inverted":this.soloInverted,"v-text-field--solo-flat":this.flat,"v-text-field--filled":this.filled,"v-text-field--is-booted":this.isBooted,"v-text-field--enclosed":this.isEnclosed,"v-text-field--reverse":this.reverse,"v-text-field--outlined":this.outlined,"v-text-field--placeholder":this.placeholder,"v-text-field--rounded":this.rounded,"v-text-field--shaped":this.shaped}},computedColor(){const t=it.options.computed.computedColor.call(this);return this.soloInverted&&this.isFocused?this.color||"primary":t},computedCounterValue(){return"function"===typeof this.counterValue?this.counterValue(this.internalValue):[...(this.internalValue||"").toString()].length},hasCounter(){return!1!==this.counter&&null!=this.counter},hasDetails(){return st.options.computed.hasDetails.call(this)||this.hasCounter},internalValue:{get(){return this.lazyValue},set(t){this.lazyValue=t,this.$emit("input",this.lazyValue)}},isDirty(){var t;return(null==(t=this.lazyValue)?void 0:t.toString().length)>0||this.badInput},isEnclosed(){return this.filled||this.isSolo||this.outlined},isLabelActive(){return this.isDirty||pt.includes(this.type)},isSingle(){return this.isSolo||this.singleLine||this.fullWidth||this.filled&&!this.hasLabel},isSolo(){return this.solo||this.soloInverted},labelPosition(){let t=this.prefix&&!this.labelValue?this.prefixWidth:0;return this.labelValue&&this.prependWidth&&(t-=this.prependWidth),this.$vuetify.rtl===this.reverse?{left:t,right:"auto"}:{left:"auto",right:t}},showLabel(){return this.hasLabel&&!(this.isSingle&&this.labelValue)},labelValue(){return this.isFocused||this.isLabelActive}},watch:{outlined:"setLabelWidth",label(){this.$nextTick(this.setLabelWidth)},prefix(){this.$nextTick(this.setPrefixWidth)},isFocused:"updateValue",value(t){this.lazyValue=t}},created(){this.$attrs.hasOwnProperty("box")&&Object(d["a"])("box","filled",this),this.$attrs.hasOwnProperty("browser-autocomplete")&&Object(d["a"])("browser-autocomplete","autocomplete",this),this.shaped&&!(this.filled||this.outlined||this.isSolo)&&Object(d["c"])("shaped should be used with either filled or outlined",this)},mounted(){this.$watch(()=>this.labelValue,this.setLabelWidth),this.autofocus&&this.tryAutofocus(),requestAnimationFrame(()=>this.isBooted=!0)},methods:{focus(){this.onFocus()},blur(t){window.requestAnimationFrame(()=>{this.$refs.input&&this.$refs.input.blur()})},clearableCallback(){this.$refs.input&&this.$refs.input.focus(),this.$nextTick(()=>this.internalValue=null)},genAppendSlot(){const t=[];return this.$slots["append-outer"]?t.push(this.$slots["append-outer"]):this.appendOuterIcon&&t.push(this.genIcon("appendOuter")),this.genSlot("append","outer",t)},genPrependInnerSlot(){const t=[];return this.$slots["prepend-inner"]?t.push(this.$slots["prepend-inner"]):this.prependInnerIcon&&t.push(this.genIcon("prependInner")),this.genSlot("prepend","inner",t)},genIconSlot(){const t=[];return this.$slots.append?t.push(this.$slots.append):this.appendIcon&&t.push(this.genIcon("append")),this.genSlot("append","inner",t)},genInputSlot(){const t=st.options.methods.genInputSlot.call(this),e=this.genPrependInnerSlot();return e&&(t.children=t.children||[],t.children.unshift(e)),t},genClearIcon(){if(!this.clearable)return null;const t=this.isDirty?void 0:{attrs:{disabled:!0}};return this.genSlot("append","inner",[this.genIcon("clear",this.clearableCallback,t)])},genCounter(){var t;if(!this.hasCounter)return null;const e=!0===this.counter?this.attrs$.maxlength:this.counter,i={dark:this.dark,light:this.light,max:e,value:this.computedCounterValue};return null!=(t=null==this.$scopedSlots.counter?void 0:this.$scopedSlots.counter({props:i}))?t:this.$createElement(ot,{props:i})},genControl(){return st.options.methods.genControl.call(this)},genDefaultSlot(){return[this.genFieldset(),this.genTextFieldSlot(),this.genClearIcon(),this.genIconSlot(),this.genProgress()]},genFieldset(){return this.outlined?this.$createElement("fieldset",{attrs:{"aria-hidden":!0}},[this.genLegend()]):null},genLabel(){if(!this.showLabel)return null;const t={props:{absolute:!0,color:this.validationState,dark:this.dark,disabled:this.isDisabled,focused:!this.isSingle&&(this.isFocused||!!this.validationState),for:this.computedId,left:this.labelPosition.left,light:this.light,right:this.labelPosition.right,value:this.labelValue}};return this.$createElement(X,t,this.$slots.label||this.label)},genLegend(){const t=this.singleLine||!this.labelValue&&!this.isDirty?0:this.labelWidth,e=this.$createElement("span",{domProps:{innerHTML:"&#8203;"}});return this.$createElement("legend",{style:{width:this.isSingle?void 0:Object(v["g"])(t)}},[e])},genInput(){const t=Object.assign({},this.listeners$);return delete t.change,this.$createElement("input",{style:{},domProps:{value:"number"===this.type&&Object.is(this.lazyValue,-0)?"-0":this.lazyValue},attrs:{...this.attrs$,autofocus:this.autofocus,disabled:this.isDisabled,id:this.computedId,placeholder:this.isFocused||!this.hasLabel?this.placeholder:void 0,readonly:this.isReadonly,type:this.type},on:Object.assign(t,{blur:this.onBlur,input:this.onInput,focus:this.onFocus,keydown:this.onKeyDown}),ref:"input",directives:[{name:"resize",modifiers:{quiet:!0},value:this.onResize}]})},genMessages(){if(!this.showDetails)return null;const t=st.options.methods.genMessages.call(this),e=this.genCounter();return this.$createElement("div",{staticClass:"v-text-field__details"},[t,e])},genTextFieldSlot(){return this.$createElement("div",{staticClass:"v-text-field__slot"},[this.genLabel(),this.prefix?this.genAffix("prefix"):null,this.genInput(),this.suffix?this.genAffix("suffix"):null])},genAffix(t){return this.$createElement("div",{class:"v-text-field__"+t,ref:t},this[t])},onBlur(t){this.isFocused=!1,t&&this.$nextTick(()=>this.$emit("blur",t))},onClick(){this.isFocused||this.isDisabled||!this.$refs.input||this.$refs.input.focus()},onFocus(t){if(!this.$refs.input)return;const e=ct(this.$el);return e?e.activeElement!==this.$refs.input?this.$refs.input.focus():void(this.isFocused||(this.isFocused=!0,t&&this.$emit("focus",t))):void 0},onInput(t){const e=t.target;this.internalValue=e.value,this.badInput=e.validity&&e.validity.badInput},onKeyDown(t){t.keyCode===v["t"].enter&&this.$emit("change",this.internalValue),this.$emit("keydown",t)},onMouseDown(t){t.target!==this.$refs.input&&(t.preventDefault(),t.stopPropagation()),st.options.methods.onMouseDown.call(this,t)},onMouseUp(t){this.hasMouseDown&&this.focus(),st.options.methods.onMouseUp.call(this,t)},setLabelWidth(){this.outlined&&(this.labelWidth=this.$refs.label?Math.min(.75*this.$refs.label.scrollWidth+6,this.$el.offsetWidth-24):0)},setPrefixWidth(){this.$refs.prefix&&(this.prefixWidth=this.$refs.prefix.offsetWidth)},setPrependWidth(){this.outlined&&this.$refs["prepend-inner"]&&(this.prependWidth=this.$refs["prepend-inner"].offsetWidth)},tryAutofocus(){if(!this.autofocus||"undefined"===typeof document||!this.$refs.input)return!1;const t=ct(this.$el);return!(!t||t.activeElement===this.$refs.input)&&(this.$refs.input.focus(),!0)},updateValue(t){this.hasColor=t,t?this.initialValue=this.lazyValue:this.initialValue!==this.lazyValue&&this.$emit("change",this.lazyValue)},onResize(){this.setLabelWidth(),this.setPrefixWidth(),this.setPrependWidth()}}}),mt=g["a"].extend({name:"comparable",props:{valueComparator:{type:Function,default:v["j"]}}}),gt=g["a"].extend({name:"filterable",props:{noDataText:{type:String,default:"$vuetify.noDataText"}}});const _t={closeOnClick:!1,closeOnContentClick:!1,disableKeys:!0,openOnClick:!1,maxHeight:304},vt=Object(n["a"])(ft,mt,T["a"],gt);var yt=vt.extend().extend({name:"v-select",directives:{ClickOutside:O["a"]},props:{appendIcon:{type:String,default:"$dropdown"},attach:{type:null,default:!1},cacheItems:Boolean,chips:Boolean,clearable:Boolean,deletableChips:Boolean,disableLookup:Boolean,eager:Boolean,hideSelected:Boolean,items:{type:Array,default:()=>[]},itemColor:{type:String,default:"primary"},itemDisabled:{type:[String,Array,Function],default:"disabled"},itemText:{type:[String,Array,Function],default:"text"},itemValue:{type:[String,Array,Function],default:"value"},menuProps:{type:[String,Array,Object],default:()=>_t},multiple:Boolean,openOnClear:Boolean,returnObject:Boolean,smallChips:Boolean},data(){return{cachedItems:this.cacheItems?this.items:[],menuIsBooted:!1,isMenuActive:!1,lastItem:20,lazyValue:void 0!==this.value?this.value:this.multiple?[]:void 0,selectedIndex:-1,selectedItems:[],keyboardLookupPrefix:"",keyboardLookupLastTime:0}},computed:{allItems(){return this.filterDuplicates(this.cachedItems.concat(this.items))},classes(){return{...ft.options.computed.classes.call(this),"v-select":!0,"v-select--chips":this.hasChips,"v-select--chips--small":this.smallChips,"v-select--is-menu-active":this.isMenuActive,"v-select--is-multi":this.multiple}},computedItems(){return this.allItems},computedOwns(){return"list-"+this._uid},computedCounterValue(){const t=this.multiple?this.selectedItems:(this.getText(this.selectedItems[0])||"").toString();return"function"===typeof this.counterValue?this.counterValue(t):t.length},directives(){return this.isFocused?[{name:"click-outside",value:{handler:this.blur,closeConditional:this.closeConditional,include:()=>this.getOpenDependentElements()}}]:void 0},dynamicHeight(){return"auto"},hasChips(){return this.chips||this.smallChips},hasSlot(){return Boolean(this.hasChips||this.$scopedSlots.selection)},isDirty(){return this.selectedItems.length>0},listData(){const t=this.$vnode&&this.$vnode.context.$options._scopeId,e=t?{[t]:!0}:{};return{attrs:{...e,id:this.computedOwns},props:{action:this.multiple,color:this.itemColor,dense:this.dense,hideSelected:this.hideSelected,items:this.virtualizedItems,itemDisabled:this.itemDisabled,itemText:this.itemText,itemValue:this.itemValue,noDataText:this.$vuetify.lang.t(this.noDataText),selectedItems:this.selectedItems},on:{select:this.selectItem},scopedSlots:{item:this.$scopedSlots.item}}},staticList(){return(this.$slots["no-data"]||this.$slots["prepend-item"]||this.$slots["append-item"])&&Object(d["b"])("assert: staticList should not be called if slots are used"),this.$createElement(K,this.listData)},virtualizedItems(){return this.$_menuProps.auto?this.computedItems:this.computedItems.slice(0,this.lastItem)},menuCanShow:()=>!0,$_menuProps(){let t="string"===typeof this.menuProps?this.menuProps.split(","):this.menuProps;return Array.isArray(t)&&(t=t.reduce((t,e)=>(t[e.trim()]=!0,t),{})),{..._t,eager:this.eager,value:this.menuCanShow&&this.isMenuActive,nudgeBottom:t.offsetY?1:0,...t}}},watch:{internalValue(t){this.initialValue=t,this.setSelectedItems()},isMenuActive(t){window.setTimeout(()=>this.onMenuActiveChange(t))},items:{immediate:!0,handler(t){this.cacheItems&&this.$nextTick(()=>{this.cachedItems=this.filterDuplicates(this.cachedItems.concat(t))}),this.setSelectedItems()}}},methods:{blur(t){ft.options.methods.blur.call(this,t),this.isMenuActive=!1,this.isFocused=!1,this.selectedIndex=-1,this.setMenuIndex(-1)},activateMenu(){this.isInteractive&&!this.isMenuActive&&(this.isMenuActive=!0)},clearableCallback(){this.setValue(this.multiple?[]:null),this.setMenuIndex(-1),this.$nextTick(()=>this.$refs.input&&this.$refs.input.focus()),this.openOnClear&&(this.isMenuActive=!0)},closeConditional(t){return!this.isMenuActive||!this._isDestroyed&&(!this.getContent()||!this.getContent().contains(t.target))&&this.$el&&!this.$el.contains(t.target)&&t.target!==this.$el},filterDuplicates(t){const e=new Map;for(let i=0;i<t.length;++i){const n=t[i];if(n.header||n.divider){e.set(n,n);continue}const r=this.getValue(n);!e.has(r)&&e.set(r,n)}return Array.from(e.values())},findExistingIndex(t){const e=this.getValue(t);return(this.internalValue||[]).findIndex(t=>this.valueComparator(this.getValue(t),e))},getContent(){return this.$refs.menu&&this.$refs.menu.$refs.content},genChipSelection(t,e){const i=this.isDisabled||this.getDisabled(t),n=!i&&this.isInteractive;return this.$createElement(f,{staticClass:"v-chip--select",attrs:{tabindex:-1},props:{close:this.deletableChips&&n,disabled:i,inputValue:e===this.selectedIndex,small:this.smallChips},on:{click:t=>{n&&(t.stopPropagation(),this.selectedIndex=e)},"click:close":()=>this.onChipInput(t)},key:JSON.stringify(this.getValue(t))},this.getText(t))},genCommaSelection(t,e,i){const n=e===this.selectedIndex&&this.computedColor,r=this.isDisabled||this.getDisabled(t);return this.$createElement("div",this.setTextColor(n,{staticClass:"v-select__selection v-select__selection--comma",class:{"v-select__selection--disabled":r},key:JSON.stringify(this.getValue(t))}),`${this.getText(t)}${i?"":", "}`)},genDefaultSlot(){const t=this.genSelections(),e=this.genInput();return Array.isArray(t)?t.push(e):(t.children=t.children||[],t.children.push(e)),[this.genFieldset(),this.$createElement("div",{staticClass:"v-select__slot",directives:this.directives},[this.genLabel(),this.prefix?this.genAffix("prefix"):null,t,this.suffix?this.genAffix("suffix"):null,this.genClearIcon(),this.genIconSlot(),this.genHiddenInput()]),this.genMenu(),this.genProgress()]},genIcon(t,e,i){const n=st.options.methods.genIcon.call(this,t,e,i);return"append"===t&&(n.children[0].data=Object(j["a"])(n.children[0].data,{attrs:{tabindex:n.children[0].componentOptions.listeners&&"-1","aria-hidden":"true","aria-label":void 0}})),n},genInput(){const t=ft.options.methods.genInput.call(this);return delete t.data.attrs.name,t.data=Object(j["a"])(t.data,{domProps:{value:null},attrs:{readonly:!0,type:"text","aria-readonly":String(this.isReadonly),"aria-activedescendant":Object(v["n"])(this.$refs.menu,"activeTile.id"),autocomplete:Object(v["n"])(t.data,"attrs.autocomplete","off"),placeholder:this.isDirty||!this.isFocused&&this.hasLabel?void 0:this.placeholder},on:{keypress:this.onKeyPress}}),t},genHiddenInput(){return this.$createElement("input",{domProps:{value:this.lazyValue},attrs:{type:"hidden",name:this.attrs$.name}})},genInputSlot(){const t=ft.options.methods.genInputSlot.call(this);return t.data.attrs={...t.data.attrs,role:"button","aria-haspopup":"listbox","aria-expanded":String(this.isMenuActive),"aria-owns":this.computedOwns},t},genList(){return this.$slots["no-data"]||this.$slots["prepend-item"]||this.$slots["append-item"]?this.genListWithSlot():this.staticList},genListWithSlot(){const t=["prepend-item","no-data","append-item"].filter(t=>this.$slots[t]).map(t=>this.$createElement("template",{slot:t},this.$slots[t]));return this.$createElement(K,{...this.listData},t)},genMenu(){const t=this.$_menuProps;return t.activator=this.$refs["input-slot"],""===this.attach||!0===this.attach||"attach"===this.attach?t.attach=this.$el:t.attach=this.attach,this.$createElement(D,{attrs:{role:void 0},props:t,on:{input:t=>{this.isMenuActive=t,this.isFocused=t},scroll:this.onScroll},ref:"menu"},[this.genList()])},genSelections(){let t=this.selectedItems.length;const e=new Array(t);let i;i=this.$scopedSlots.selection?this.genSlotSelection:this.hasChips?this.genChipSelection:this.genCommaSelection;while(t--)e[t]=i(this.selectedItems[t],t,t===e.length-1);return this.$createElement("div",{staticClass:"v-select__selections"},e)},genSlotSelection(t,e){return this.$scopedSlots.selection({attrs:{class:"v-chip--select"},parent:this,item:t,index:e,select:t=>{t.stopPropagation(),this.selectedIndex=e},selected:e===this.selectedIndex,disabled:!this.isInteractive})},getMenuIndex(){return this.$refs.menu?this.$refs.menu.listIndex:-1},getDisabled(t){return Object(v["o"])(t,this.itemDisabled,!1)},getText(t){return Object(v["o"])(t,this.itemText,t)},getValue(t){return Object(v["o"])(t,this.itemValue,this.getText(t))},onBlur(t){t&&this.$emit("blur",t)},onChipInput(t){this.multiple?this.selectItem(t):this.setValue(null),0===this.selectedItems.length?this.isMenuActive=!0:this.isMenuActive=!1,this.selectedIndex=-1},onClick(t){this.isInteractive&&(this.isAppendInner(t.target)||(this.isMenuActive=!0),this.isFocused||(this.isFocused=!0,this.$emit("focus")),this.$emit("click",t))},onEscDown(t){t.preventDefault(),this.isMenuActive&&(t.stopPropagation(),this.isMenuActive=!1)},onKeyPress(t){if(this.multiple||!this.isInteractive||this.disableLookup)return;const e=1e3,i=performance.now();i-this.keyboardLookupLastTime>e&&(this.keyboardLookupPrefix=""),this.keyboardLookupPrefix+=t.key.toLowerCase(),this.keyboardLookupLastTime=i;const n=this.allItems.findIndex(t=>{const e=(this.getText(t)||"").toString();return e.toLowerCase().startsWith(this.keyboardLookupPrefix)}),r=this.allItems[n];-1!==n&&(this.lastItem=Math.max(this.lastItem,n+5),this.setValue(this.returnObject?r:this.getValue(r)),this.$nextTick(()=>this.$refs.menu.getTiles()),setTimeout(()=>this.setMenuIndex(n)))},onKeyDown(t){if(this.isReadonly&&t.keyCode!==v["t"].tab)return;const e=t.keyCode,i=this.$refs.menu;return[v["t"].enter,v["t"].space].includes(e)&&this.activateMenu(),this.$emit("keydown",t),i?(this.isMenuActive&&e!==v["t"].tab&&this.$nextTick(()=>{i.changeListIndex(t),this.$emit("update:list-index",i.listIndex)}),!this.isMenuActive&&[v["t"].up,v["t"].down,v["t"].home,v["t"].end].includes(e)?this.onUpDown(t):e===v["t"].esc?this.onEscDown(t):e===v["t"].tab?this.onTabDown(t):e===v["t"].space?this.onSpaceDown(t):void 0):void 0},onMenuActiveChange(t){if(this.multiple&&!t||this.getMenuIndex()>-1)return;const e=this.$refs.menu;if(e&&this.isDirty)for(let i=0;i<e.tiles.length;i++)if("true"===e.tiles[i].getAttribute("aria-selected")){this.setMenuIndex(i);break}},onMouseUp(t){this.hasMouseDown&&3!==t.which&&this.isInteractive&&this.isAppendInner(t.target)&&this.$nextTick(()=>this.isMenuActive=!this.isMenuActive),ft.options.methods.onMouseUp.call(this,t)},onScroll(){if(this.isMenuActive){if(this.lastItem>this.computedItems.length)return;const t=this.getContent().scrollHeight-(this.getContent().scrollTop+this.getContent().clientHeight)<200;t&&(this.lastItem+=20)}else requestAnimationFrame(()=>this.getContent().scrollTop=0)},onSpaceDown(t){t.preventDefault()},onTabDown(t){const e=this.$refs.menu;if(!e)return;const i=e.activeTile;!this.multiple&&i&&this.isMenuActive?(t.preventDefault(),t.stopPropagation(),i.click()):this.blur(t)},onUpDown(t){const e=this.$refs.menu;if(!e)return;if(t.preventDefault(),this.multiple)return this.activateMenu();const i=t.keyCode;e.isBooted=!0,window.requestAnimationFrame(()=>{if(e.getTiles(),!e.hasClickableTiles)return this.activateMenu();switch(i){case v["t"].up:e.prevTile();break;case v["t"].down:e.nextTile();break;case v["t"].home:e.firstTile();break;case v["t"].end:e.lastTile();break}this.selectItem(this.allItems[this.getMenuIndex()])})},selectItem(t){if(this.multiple){const e=(this.internalValue||[]).slice(),i=this.findExistingIndex(t);if(-1!==i?e.splice(i,1):e.push(t),this.setValue(e.map(t=>this.returnObject?t:this.getValue(t))),this.$nextTick(()=>{this.$refs.menu&&this.$refs.menu.updateDimensions()}),!this.multiple)return;const n=this.getMenuIndex();if(this.setMenuIndex(-1),this.hideSelected)return;this.$nextTick(()=>this.setMenuIndex(n))}else this.setValue(this.returnObject?t:this.getValue(t)),this.isMenuActive=!1},setMenuIndex(t){this.$refs.menu&&(this.$refs.menu.listIndex=t)},setSelectedItems(){const t=[],e=this.multiple&&Array.isArray(this.internalValue)?this.internalValue:[this.internalValue];for(const i of e){const e=this.allItems.findIndex(t=>this.valueComparator(this.getValue(t),this.getValue(i)));e>-1&&t.push(this.allItems[e])}this.selectedItems=t},setValue(t){const e=this.internalValue;this.internalValue=t,t!==e&&this.$emit("change",t)},isAppendInner(t){const e=this.$refs["append-inner"];return e&&(e===t||e.contains(t))}}});const bt={..._t,offsetY:!0,offsetOverflow:!0,transition:!1};var Tt=yt.extend({name:"v-autocomplete",props:{allowOverflow:{type:Boolean,default:!0},autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:(t,e,i)=>i.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1},hideNoData:Boolean,menuProps:{type:yt.options.props.menuProps.type,default:()=>bt},noFilter:Boolean,searchInput:{type:String}},data(){return{lazySearch:this.searchInput}},computed:{classes(){return{...yt.options.computed.classes.call(this),"v-autocomplete":!0,"v-autocomplete--is-selecting-index":this.selectedIndex>-1}},computedItems(){return this.filteredItems},selectedValues(){return this.selectedItems.map(t=>this.getValue(t))},hasDisplayedItems(){return this.hideSelected?this.filteredItems.some(t=>!this.hasItem(t)):this.filteredItems.length>0},currentRange(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems(){return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter(t=>{const e=Object(v["o"])(t,this.itemText),i=null!=e?String(e):"";return this.filter(t,String(this.internalSearch),i)})},internalSearch:{get(){return this.lazySearch},set(t){this.lazySearch=t,this.$emit("update:search-input",t)}},isAnyValueAllowed(){return!1},isDirty(){return this.searchIsDirty||this.selectedItems.length>0},isSearching(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps(){const t=yt.options.computed.$_menuProps.call(this);return t.contentClass=("v-autocomplete__content "+(t.contentClass||"")).trim(),{...bt,...t}},searchIsDirty(){return null!=this.internalSearch&&""!==this.internalSearch},selectedItem(){return this.multiple?null:this.selectedItems.find(t=>this.valueComparator(this.getValue(t),this.getValue(this.internalValue)))},listData(){const t=yt.options.computed.listData.call(this);return t.props={...t.props,items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch},t}},watch:{filteredItems:"onFilteredItemsChanged",internalValue:"setSearch",isFocused(t){t?(document.addEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.blur(),this.updateSelf())},isMenuActive(t){!t&&this.hasSlot&&(this.lazySearch=null)},items(t,e){e&&e.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!t.length||this.activateMenu()},searchInput(t){this.lazySearch=t},internalSearch:"onInternalSearchChanged",itemText:"updateSelf"},created(){this.setSearch()},destroyed(){document.removeEventListener("copy",this.onCopy)},methods:{onFilteredItemsChanged(t,e){t!==e&&(this.setMenuIndex(-1),this.$nextTick(()=>{this.internalSearch&&(1===t.length||this.autoSelectFirst)&&(this.$refs.menu.getTiles(),this.setMenuIndex(0))}))},onInternalSearchChanged(){this.updateMenuDimensions()},updateMenuDimensions(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex(t){this.searchIsDirty||(this.multiple&&t===v["t"].left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&t===v["t"].right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:t!==v["t"].backspace&&t!==v["t"].delete||this.deleteCurrentItem())},deleteCurrentItem(){const t=this.selectedIndex,e=this.selectedItems[t];if(!this.isInteractive||this.getDisabled(e))return;const i=this.selectedItems.length-1;if(-1===this.selectedIndex&&0!==i)return void(this.selectedIndex=i);const n=this.selectedItems.length,r=t!==n-1?t:t-1,s=this.selectedItems[r];s?this.selectItem(e):this.setValue(this.multiple?[]:null),this.selectedIndex=r},clearableCallback(){this.internalSearch=null,yt.options.methods.clearableCallback.call(this)},genInput(){const t=ft.options.methods.genInput.call(this);return t.data=Object(j["a"])(t.data,{attrs:{"aria-activedescendant":Object(v["n"])(this.$refs.menu,"activeTile.id"),autocomplete:Object(v["n"])(t.data,"attrs.autocomplete","off")},domProps:{value:this.internalSearch}}),t},genInputSlot(){const t=yt.options.methods.genInputSlot.call(this);return t.data.attrs.role="combobox",t},genSelections(){return this.hasSlot||this.multiple?yt.options.methods.genSelections.call(this):[]},onClick(t){this.isInteractive&&(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(t.target)||this.activateMenu())},onInput(t){if(this.selectedIndex>-1||!t.target)return;const e=t.target,i=e.value;e.value&&this.activateMenu(),this.internalSearch=i,this.badInput=e.validity&&e.validity.badInput},onKeyDown(t){const e=t.keyCode;!t.ctrlKey&&[v["t"].home,v["t"].end].includes(e)||yt.options.methods.onKeyDown.call(this,t),this.changeSelectedIndex(e)},onSpaceDown(t){},onTabDown(t){yt.options.methods.onTabDown.call(this,t),this.updateSelf()},onUpDown(t){t.preventDefault(),this.activateMenu()},selectItem(t){yt.options.methods.selectItem.call(this,t),this.setSearch()},setSelectedItems(){yt.options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch(){this.$nextTick(()=>{this.multiple&&this.internalSearch&&this.isMenuActive||(this.internalSearch=!this.selectedItems.length||this.multiple||this.hasSlot?null:this.getText(this.selectedItem))})},updateSelf(){(this.searchIsDirty||this.internalValue)&&(this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem(t){return this.selectedValues.indexOf(this.getValue(t))>-1},onCopy(t){var e,i;if(-1===this.selectedIndex)return;const n=this.selectedItems[this.selectedIndex],r=this.getText(n);null==(e=t.clipboardData)||e.setData("text/plain",r),null==(i=t.clipboardData)||i.setData("text/vnd.vuetify.autocomplete.item+plain",r),t.preventDefault()}}});e["a"]=Tt.extend({name:"v-combobox",props:{delimiters:{type:Array,default:()=>[]},returnObject:{type:Boolean,default:!0}},data:()=>({editingIndex:-1}),computed:{computedCounterValue(){return this.multiple?this.selectedItems.length:(this.internalSearch||"").toString().length},hasSlot(){return yt.options.computed.hasSlot.call(this)||this.multiple},isAnyValueAllowed(){return!0},menuCanShow(){return!!this.isFocused&&(this.hasDisplayedItems||!!this.$slots["no-data"]&&!this.hideNoData)},searchIsDirty(){return null!=this.internalSearch}},methods:{onInternalSearchChanged(t){if(t&&this.multiple&&this.delimiters.length){const e=this.delimiters.find(e=>t.endsWith(e));null!=e&&(this.internalSearch=t.slice(0,t.length-e.length),this.updateTags())}this.updateMenuDimensions()},genInput(){const t=Tt.options.methods.genInput.call(this);return delete t.data.attrs.name,t.data.on.paste=this.onPaste,t},genChipSelection(t,e){const i=yt.options.methods.genChipSelection.call(this,t,e);return this.multiple&&(i.componentOptions.listeners={...i.componentOptions.listeners,dblclick:()=>{this.editingIndex=e,this.internalSearch=this.getText(t),this.selectedIndex=-1}}),i},onChipInput(t){yt.options.methods.onChipInput.call(this,t),this.editingIndex=-1},onEnterDown(t){t.preventDefault(),this.getMenuIndex()>-1||this.$nextTick(this.updateSelf)},onFilteredItemsChanged(t,e){this.autoSelectFirst&&Tt.options.methods.onFilteredItemsChanged.call(this,t,e)},onKeyDown(t){const e=t.keyCode;!t.ctrlKey&&[v["t"].home,v["t"].end].includes(e)||yt.options.methods.onKeyDown.call(this,t),this.multiple&&e===v["t"].left&&0===this.$refs.input.selectionStart?this.updateSelf():e===v["t"].enter&&this.onEnterDown(t),this.changeSelectedIndex(e)},onTabDown(t){if(this.multiple&&this.internalSearch&&-1===this.getMenuIndex())return t.preventDefault(),t.stopPropagation(),this.updateTags();Tt.options.methods.onTabDown.call(this,t)},selectItem(t){this.editingIndex>-1?this.updateEditing():(Tt.options.methods.selectItem.call(this,t),this.internalSearch&&this.multiple&&this.getText(t).toLocaleLowerCase().includes(this.internalSearch.toLocaleLowerCase())&&(this.internalSearch=null))},setSelectedItems(){null==this.internalValue||""===this.internalValue?this.selectedItems=[]:this.selectedItems=this.multiple?this.internalValue:[this.internalValue]},setValue(t){var e;yt.options.methods.setValue.call(this,null!=(e=t)?e:this.internalSearch)},updateEditing(){const t=this.internalValue.slice();t[this.editingIndex]=this.internalSearch,this.setValue(t),this.editingIndex=-1},updateCombobox(){if(!this.searchIsDirty)return;this.internalSearch!==this.getText(this.internalValue)&&this.setValue();const t=Boolean(this.$scopedSlots.selection)||this.hasChips;t&&(this.internalSearch=null)},updateSelf(){this.multiple?this.updateTags():this.updateCombobox()},updateTags(){const t=this.getMenuIndex();if(t<0&&!this.searchIsDirty||!this.internalSearch)return;if(this.editingIndex>-1)return this.updateEditing();const e=this.selectedItems.indexOf(this.internalSearch);if(e>-1){const t=this.internalValue.slice();t.splice(e,1),this.setValue(t)}if(t>-1)return this.internalSearch=null;this.selectItem(this.internalSearch),this.internalSearch=null},onPaste(t){var e;if(!this.multiple||this.searchIsDirty)return;const i=null==(e=t.clipboardData)?void 0:e.getData("text/vnd.vuetify.autocomplete.item+plain");i&&-1===this.findExistingIndex(i)&&(t.preventDefault(),yt.options.methods.selectItem.call(this,i))}}})},"2b8c":function(t,e,i){var n=i("be09"),r=t.exports={WebVTT:i("d02c"),VTTCue:i("b03c"),VTTRegion:i("f97d")};n.vttjs=r,n.WebVTT=r.WebVTT;var s=r.VTTCue,a=r.VTTRegion,o=n.VTTCue,l=n.VTTRegion;r.shim=function(){n.VTTCue=s,n.VTTRegion=a},r.restore=function(){n.VTTCue=o,n.VTTRegion=l},n.VTTCue||r.shim()},"2bfd":function(t,e,i){},3:function(t,e){},"320e":function(t,e,i){"use strict";e.__esModule=!0,e.logByType=void 0;var n=i("a178"),r=o(n),s=i("4e2d"),a=i("cff3");function o(t){return t&&t.__esModule?t:{default:t}}var l=void 0,u=e.logByType=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!!s.IE_VERSION&&s.IE_VERSION<11;"log"!==t&&e.unshift(t.toUpperCase()+":"),l.history.push(e),e.unshift("VIDEOJS:");var n=r["default"].console&&r["default"].console[t];n&&(i&&(e=e.map((function(t){if((0,a.isObject)(t)||Array.isArray(t))try{return JSON.stringify(t)}catch(e){return String(t)}return String(t)})).join(" ")),n.apply?n[Array.isArray(e)?"apply":"call"](r["default"].console,e):n(e))};l=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];u("log",e)},l.history=[],l.error=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return u("error",e)},l.warn=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return u("warn",e)},e["default"]=l},3408:function(t,e,i){},3479:function(t,e,i){"use strict";e.__esModule=!0;var n=i("61b0"),r=u(n),s=i("cf31"),a=u(s),o=i("d016"),l=u(o);function u(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function d(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p=function(t){function e(i,n,s){h(this,e);var o=c(this,t.call(this,i,n,s));if(n.playerOptions.sources&&0!==n.playerOptions.sources.length)i.src(n.playerOptions.sources);else for(var u=0,d=n.playerOptions.techOrder;u<d.length;u++){var p=(0,l["default"])(d[u]),f=a["default"].getTech(p);if(p||(f=r["default"].getComponent(p)),f&&f.isSupported()){i.loadTech_(p);break}}return o}return d(e,t),e}(r["default"]);r["default"].registerComponent("MediaLoader",p),e["default"]=p},"34c3":function(t,e,i){"use strict";var n=i("2b0e");e["a"]=n["a"].extend({name:"v-list-item-icon",functional:!0,render(t,{data:e,children:i}){return e.staticClass=("v-list-item__icon "+(e.staticClass||"")).trim(),t("div",e,i)}})},"36c6":function(t,e){var i,n,r,s,a,o,l,u=9e4;i=function(t){return t*u},n=function(t,e){return t*e},r=function(t){return t/u},s=function(t,e){return t/e},a=function(t,e){return i(s(t,e))},o=function(t,e){return n(r(t),e)},l=function(t,e,i){return r(i?t:t-e)},t.exports={ONE_SECOND_IN_TS:u,secondsToVideoTs:i,secondsToAudioTs:n,videoTsToSeconds:r,audioTsToSeconds:s,audioTsToVideoTs:a,videoTsToAudioTs:o,metadataTsToSeconds:l}},3770:function(t,e,i){"use strict";e.__esModule=!0;e.VideoTrackKind={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},e.AudioTrackKind={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},e.TextTrackKind={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},e.TextTrackMode={disabled:"disabled",hidden:"hidden",showing:"showing"}},3852:function(t,e,i){"use strict";e.__esModule=!0;var n=i("3e51"),r=o(n),s=i("61b0"),a=o(s);function o(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function h(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(i,n){l(this,e),n.track={player:i,kind:n.kind,label:n.kind+" off",default:!1,mode:"disabled"},n.selectable=!0;var r=u(this,t.call(this,i,n));return r.selected(!0),r}return h(e,t),e.prototype.handleTracksChange=function(t){for(var e=this.player().textTracks(),i=!0,n=0,r=e.length;n<r;n++){var s=e[n];if(s.kind===this.track.kind&&"showing"===s.mode){i=!1;break}}this.selected(i)},e}(r["default"]);a["default"].registerComponent("OffTextTrackMenuItem",c),e["default"]=c},"3a09":function(t,e,i){"use strict";e.__esModule=!0,e.fixEvent=_,e.on=b,e.off=T,e.trigger=w,e.one=S;var n=i("702d"),r=f(n),s=i("d8e3"),a=f(s),o=i("320e"),l=p(o),u=i("a178"),h=p(u),c=i("9869"),d=p(c);function p(t){return t&&t.__esModule?t:{default:t}}function f(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function m(t,e){var i=r.getElData(t);0===i.handlers[e].length&&(delete i.handlers[e],t.removeEventListener?t.removeEventListener(e,i.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),0===Object.getOwnPropertyNames(i).length&&r.removeElData(t)}function g(t,e,i,n){i.forEach((function(i){t(e,i,n)}))}function _(t){function e(){return!0}function i(){return!1}if(!t||!t.isPropagationStopped){var n=t||h["default"].event;for(var r in t={},n)"layerX"!==r&&"layerY"!==r&&"keyLocation"!==r&&"webkitMovementX"!==r&&"webkitMovementY"!==r&&("returnValue"===r&&n.preventDefault||(t[r]=n[r]));if(t.target||(t.target=t.srcElement||d["default"]),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){n.preventDefault&&n.preventDefault(),t.returnValue=!1,n.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),t.cancelBubble=!0,n.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=i,t.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=i,null!==t.clientX&&void 0!==t.clientX){var s=d["default"].documentElement,a=d["default"].body;t.pageX=t.clientX+(s&&s.scrollLeft||a&&a.scrollLeft||0)-(s&&s.clientLeft||a&&a.clientLeft||0),t.pageY=t.clientY+(s&&s.scrollTop||a&&a.scrollTop||0)-(s&&s.clientTop||a&&a.clientTop||0)}t.which=t.charCode||t.keyCode,null!==t.button&&void 0!==t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t}var v=!1;(function(){try{var t=Object.defineProperty({},"passive",{get:function(){v=!0}});h["default"].addEventListener("test",null,t)}catch(e){}})();var y=["touchstart","touchmove"];function b(t,e,i){if(Array.isArray(e))return g(b,t,e,i);var n=r.getElData(t);if(n.handlers||(n.handlers={}),n.handlers[e]||(n.handlers[e]=[]),i.guid||(i.guid=a.newGUID()),n.handlers[e].push(i),n.dispatcher||(n.disabled=!1,n.dispatcher=function(e,i){if(!n.disabled){e=_(e);var r=n.handlers[e.type];if(r)for(var s=r.slice(0),a=0,o=s.length;a<o;a++){if(e.isImmediatePropagationStopped())break;try{s[a].call(t,e,i)}catch(u){l["default"].error(u)}}}}),1===n.handlers[e].length)if(t.addEventListener){var s=!1;v&&y.indexOf(e)>-1&&(s={passive:!0}),t.addEventListener(e,n.dispatcher,s)}else t.attachEvent&&t.attachEvent("on"+e,n.dispatcher)}function T(t,e,i){if(r.hasElData(t)){var n=r.getElData(t);if(n.handlers){if(Array.isArray(e))return g(T,t,e,i);var s=function(e){n.handlers[e]=[],m(t,e)};if(e){var a=n.handlers[e];if(a)if(i){if(i.guid)for(var o=0;o<a.length;o++)a[o].guid===i.guid&&a.splice(o--,1);m(t,e)}else s(e)}else for(var l in n.handlers)s(l)}}}function w(t,e,i){var n=r.hasElData(t)?r.getElData(t):{},s=t.parentNode||t.ownerDocument;if("string"===typeof e&&(e={type:e,target:t}),e=_(e),n.dispatcher&&n.dispatcher.call(t,e,i),s&&!e.isPropagationStopped()&&!0===e.bubbles)w.call(null,s,e,i);else if(!s&&!e.defaultPrevented){var a=r.getElData(e.target);e.target[e.type]&&(a.disabled=!0,"function"===typeof e.target[e.type]&&e.target[e.type](),a.disabled=!1)}return!e.defaultPrevented}function S(t,e,i){if(Array.isArray(e))return g(S,t,e,i);var n=function n(){T(t,e,n),i.apply(this,arguments)};n.guid=i.guid=i.guid||a.newGUID(),b(t,e,n)}},"3ad0":function(t,e,i){},"3afa":function(t,e,i){"use strict";e.__esModule=!0,e["default"]=r;var n=i("cff3");function r(){for(var t={},e=arguments.length,i=Array(e),s=0;s<e;s++)i[s]=arguments[s];return i.forEach((function(e){e&&(0,n.each)(e,(function(e,i){(0,n.isPlain)(e)?((0,n.isPlain)(t[i])||(t[i]={}),t[i]=r(t[i],e)):t[i]=e}))})),t}},"3c96":function(t,e){function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}t.exports=i,t.exports["default"]=t.exports,t.exports.__esModule=!0},"3d42":function(t,e,i){"use strict";var n=i("e11e"),r=i.n(n);i("a79f"),i("9b40");r.a.CRS.Baidu=function(t,e){let i=t?"+proj=merc +a=6378206 +b=6356584.314245179 +lat_ts=0.0 +lon_0=0.0 +x_0=710 +y_0=910 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs":"+proj=merc +a=6378206 +b=6356584.314245179 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs";const n=new r.a.Proj.CRS("EPSG:900913",i,{resolutions:function(){let t=[];const e=18;for(let i=0;i<=e;i++)t[i]=Math.pow(2,e-i);return t}(),origin:[0,0],bounds:r.a.bounds([20037508.342789244,0],[0,20037508.342789244])});return e&&(n.zoom=function(t){let e,i,n;const r=i=this._scales.length-1;for(let o=r;o>=0;o--){if(this._scales[o]<t)break;i=o}if(i===r)return i;if(e=this._scales[i],t===e)return i;if(void 0===e)return-1/0;const s=i-1,a=this._scales[s];return void 0===a?1/0:(n=e-a,(t-a)/n+i)}),n},r.a.DivIconOption=function(t,e){const i="bgStyle_"+t,n="ftStyle_"+t;let r="";if(e.ftContentOrClass){const t=a(e.ftContentOrClass);o(".".concat(n,"::before"),"content:".concat(t.content,";font:",t.font,";border-radius: 50%;",e.ftBeforeStyle));const i=document.createElement("div");if(i.className=n,i.style.textAlign="center",i.style.position="absolute",i.style.left="0",i.style.top="5px",i.style.width="100%",e.ftText){const t=document.createElement("div");t.style="margin-top:-5px;",t.innerText=e.ftText,i.appendChild(t)}r=i.outerHTML,i.remove()}const s=a(e.bgContentOrClass);o(".".concat(i,"::before"),"content:".concat(s.content,";font:",s.font,";",e.bgBeforeStyle));const l=a(i);e.bgStyle&&o("."+i,e.bgStyle);const u=parseInt(l.fontSize);return{html:r,className:i,iconAnchor:[u/2,u],iconSize:{x:u,y:u},size:u,color:l.color,bgContentOrClass:e.bgContentOrClass,ftContentOrClass:e.ftContentOrClass}};let s=null;function a(t){s||(s=document.createElement("div"),document.documentElement.childNodes[0].appendChild(s)),s.className=t;const e=window.getComputedStyle(s,"before");let i={content:"none"===e.content?'"'+(t||"")+'"':e.content,font:e.font,fontSize:e.fontSize,color:e.color};return s.removeAttribute("class"),i}function o(t,e){let i=0;for(i=0;i<document.styleSheets.length;i++)if("STYLE"===document.styleSheets[i].ownerNode.nodeName)break;for(let n=0;n<document.styleSheets[i].cssRules.length;n++)document.styleSheets[i].cssRules[n].selectorText===t&&document.styleSheets[i].deleteRule(n);document.styleSheets[i].addRule(t,e)}const l=[{name:"预置0:粗边框字体背景,白粗字前景",bgContentOrClass:"mdi mdi-map-marker",bgBeforeStyle:"font-size:50px;color:#00c421;-webkit-text-stroke:0.05em #FFF",ftContentOrClass:"例",ftBeforeStyle:"background:#00c421;font-size:18px;font-weight:bold;color:white;"},{name:"预置1:粗边框字体背景,无前景",bgContentOrClass:"mdi mdi-map-marker",bgBeforeStyle:"font-size:50px;color:#00c421;-webkit-text-stroke:0.05em #FFF"},{name:"预置2:无边框字体背景,黑大字前景",bgContentOrClass:"mdi mdi-map-marker",bgBeforeStyle:"font-size:50px;color:#00c421;-webkit-text-stroke:0.00em #FFF",ftContentOrClass:"例",ftBeforeStyle:"background:#00c421;font-size:25px;color:black;"},{name:"预置样式3:细边框字体背景,黑大字前景",bgContentOrClass:"mdi mdi-map-marker",bgBeforeStyle:"font-size:50px;color:#00c421;-webkit-text-stroke:0.02em #FFF",ftContentOrClass:"例",ftBeforeStyle:"background:#00c421;font-size:25px;color:black;"},{name:"预置4:无边框字体背景,白粗字体前景",bgContentOrClass:"mdi mdi-map-marker",bgBeforeStyle:"font-size:50px;color:#00c421;-webkit-text-stroke:0.00em #FFF",ftContentOrClass:"例",ftBeforeStyle:"background:#00c421;font-size:18px;font-weight:bold;color:white;"},{name:"预置5:颜色背景,黑字前景",bgBeforeStyle:"font-size:45px;color:#00c421;",bgStyle:"border-radius:50%;background:radial-gradient(#00c421 55%, #FFFFFFff 60%, #00c421 70%)",ftContentOrClass:"mdi mdi-webcam",ftBeforeStyle:"font-size:17px;",ftText:"##"},{name:"预置6:颜色背景,白粗字前景",bgBeforeStyle:"font-size:45px;color:#00c421;",bgStyle:"border-radius:50%;background:radial-gradient(#00c421 55%, #FFFFFFff 60%, #00c421 70%)",ftContentOrClass:"例",ftBeforeStyle:"font-size:17px;font-weight:bold;color:white;",ftText:"##"}];r.a.DivIconPresetOption=function(t,e){let i={};return Object.assign(i,l[t]),i.Name=t=>(i.name=t,i),i.BgContentOrClass=t=>(i.bgContentOrClass=t,i),i.BgBeforeColor=t=>(i.bgStyle&&(i.bgStyle=i.bgStyle.replaceAll("#00c421",t)),i.bgBeforeStyle&&(i.bgBeforeStyle=i.bgBeforeStyle.replaceAll("#00c421",t)),i.ftBeforeStyle&&(i.ftBeforeStyle=i.ftBeforeStyle.replaceAll("#00c421",t)),i),i.BgBorderColor=t=>(i.bgBeforeStyle&&(i.bgBeforeStyle=i.bgBeforeStyle.replaceAll("#FFF",t)),i),i.BgFontSize=t=>(i.bgBeforeStyle&&(i.bgBeforeStyle=i.bgBeforeStyle.replaceAll("50px",t).replaceAll("45px",t)),i),i.FtContentOrClass=t=>(i.ftContentOrClass=t,i),i.FtBeforeColor=t=>(i.ftBeforeStyle&&(i.ftBeforeStyle=i.ftBeforeStyle.replaceAll("white",t).replaceAll("black",t)),i),i.FtFontSize=t=>(i.ftBeforeStyle&&(i.ftBeforeStyle=i.ftBeforeStyle.replaceAll("17px",t).replaceAll("18px",t).replaceAll("25px",t)),i),i.FtText=t=>(i.ftText=t,i),e?i.Name(e):i},e["a"]=r.a},"3e51":function(t,e,i){"use strict";e.__esModule=!0;var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=i("e177"),s=m(r),a=i("61b0"),o=m(a),l=i("f545"),u=f(l),h=i("a178"),c=m(h),d=i("9869"),p=m(d);function f(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function m(t){return t&&t.__esModule?t:{default:t}}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function v(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var y=function(t){function e(i,r){g(this,e);var s=r.track,a=i.textTracks();r.label=s.label||s.language||"Unknown",r.selected=s["default"]||"showing"===s.mode;var o=_(this,t.call(this,i,r));if(o.track=s,a){var l=u.bind(o,o.handleTracksChange);i.on(["loadstart","texttrackchange"],l),a.addEventListener("change",l),o.on("dispose",(function(){a.removeEventListener("change",l)}))}if(a&&void 0===a.onchange){var h=void 0;o.on(["tap","click"],(function(){if("object"!==n(c["default"].Event))try{h=new c["default"].Event("change")}catch(t){}h||(h=p["default"].createEvent("Event"),h.initEvent("change",!0,!0)),a.dispatchEvent(h)}))}return o}return v(e,t),e.prototype.handleClick=function(e){var i=this.track.kind,n=this.player_.textTracks();if(t.prototype.handleClick.call(this,e),n)for(var r=0;r<n.length;r++){var s=n[r];s.kind===i&&(s===this.track?"showing"!==s.mode&&(s.mode="showing"):"disabled"!==s.mode&&(s.mode="disabled"))}},e.prototype.handleTracksChange=function(t){this.selected("showing"===this.track.mode)},e}(s["default"]);o["default"].registerComponent("TextTrackMenuItem",y),e["default"]=y},4080:function(t,e,i){"use strict";e.__esModule=!0;var n=i("ea17"),r=o(n),s=i("61b0"),a=o(s);function o(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function h(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(){return l(this,e),u(this,t.apply(this,arguments))}return h(e,t),e.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML="&nbsp;",e},e}(r["default"]);a["default"].registerComponent("CustomControlSpacer",c),e["default"]=c},"4a4b":function(t,e){function i(e,n){return t.exports=i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},t.exports["default"]=t.exports,t.exports.__esModule=!0,i(e,n)}t.exports=i,t.exports["default"]=t.exports,t.exports.__esModule=!0},"4e2d":function(t,e,i){"use strict";e.__esModule=!0,e.BACKGROUND_SIZE_SUPPORTED=e.TOUCH_ENABLED=e.IS_ANY_SAFARI=e.IS_SAFARI=e.IE_VERSION=e.IS_IE8=e.CHROME_VERSION=e.IS_CHROME=e.IS_EDGE=e.IS_FIREFOX=e.IS_NATIVE_ANDROID=e.IS_OLD_ANDROID=e.ANDROID_VERSION=e.IS_ANDROID=e.IOS_VERSION=e.IS_IOS=e.IS_IPOD=e.IS_IPHONE=e.IS_IPAD=void 0;var n=i("702d"),r=l(n),s=i("a178"),a=o(s);function o(t){return t&&t.__esModule?t:{default:t}}function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}var u=a["default"].navigator&&a["default"].navigator.userAgent||"",h=/AppleWebKit\/([\d.]+)/i.exec(u),c=h?parseFloat(h.pop()):null,d=e.IS_IPAD=/iPad/i.test(u),p=e.IS_IPHONE=/iPhone/i.test(u)&&!d,f=e.IS_IPOD=/iPod/i.test(u),m=e.IS_IOS=p||d||f,g=(e.IOS_VERSION=function(){var t=u.match(/OS (\d+)_/i);return t&&t[1]?t[1]:null}(),e.IS_ANDROID=/Android/i.test(u)),_=e.ANDROID_VERSION=function(){var t=u.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),i=t[2]&&parseFloat(t[2]);return e&&i?parseFloat(t[1]+"."+t[2]):e||null}(),v=(e.IS_OLD_ANDROID=g&&/webkit/i.test(u)&&_<2.3,e.IS_NATIVE_ANDROID=g&&_<5&&c<537,e.IS_FIREFOX=/Firefox/i.test(u),e.IS_EDGE=/Edge/i.test(u)),y=e.IS_CHROME=!v&&/Chrome/i.test(u),b=(e.CHROME_VERSION=function(){var t=u.match(/Chrome\/(\d+)/);return t&&t[1]?parseFloat(t[1]):null}(),e.IS_IE8=/MSIE\s8\.0/.test(u),e.IE_VERSION=function(){var t=/MSIE\s(\d+)\.\d/.exec(u),e=t&&parseFloat(t[1]);return!e&&/Trident\/7.0/i.test(u)&&/rv:11.0/.test(u)&&(e=11),e}(),e.IS_SAFARI=/Safari/i.test(u)&&!y&&!g&&!v);e.IS_ANY_SAFARI=b||m,e.TOUCH_ENABLED=r.isReal()&&("ontouchstart"in a["default"]||a["default"].DocumentTouch&&a["default"].document instanceof a["default"].DocumentTouch),e.BACKGROUND_SIZE_SUPPORTED=r.isReal()&&"backgroundSize"in a["default"].document.createElement("video").style},"4e82":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("3206");function r(t,e,i){return Object(n["a"])(t,e,i).extend({name:"groupable",props:{activeClass:{type:String,default(){if(this[t])return this[t].activeClass}},disabled:Boolean},data(){return{isActive:!1}},computed:{groupClasses(){return this.activeClass?{[this.activeClass]:this.isActive}:{}}},created(){this[t]&&this[t].register(this)},beforeDestroy(){this[t]&&this[t].unregister(this)},methods:{toggle(){this.$emit("change")}}})}r("itemGroup")},"4ed8":function(t,e,i){"use strict";e.__esModule=!0,e.bufferedPercent=r;var n=i("7a67");function r(t,e){var i=0,r=void 0,s=void 0;if(!e)return 0;t&&t.length||(t=(0,n.createTimeRange)(0,0));for(var a=0;a<t.length;a++)r=t.start(a),s=t.end(a),s>e&&(s=e),i+=s-r;return i/e}},"4ff9":function(t,e,i){},5179:function(t,e,i){"use strict";e.__esModule=!0;var n=i("61b0"),r=f(n),s=i("702d"),a=p(s),o=i("f545"),l=p(o),u=i("b0f9"),h=f(u),c=i("8854"),d=f(c);function p(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function f(t){return t&&t.__esModule?t:{default:t}}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function _(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v=function(t){function e(i,n){m(this,e);var r=g(this,t.call(this,i,n));return n.playerOptions&&n.playerOptions.controlBar&&n.playerOptions.controlBar.progressControl&&n.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=n.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&(r.tooltip=a.createEl("div",{className:"vjs-time-tooltip"}),r.el().appendChild(r.tooltip),r.addClass("vjs-keep-tooltips-inside")),r.update(0,0),i.on("ready",(function(){r.on(i.controlBar.progressControl.el(),"mousemove",l.throttle(l.bind(r,r.handleMouseMove),25))})),r}return _(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},e.prototype.handleMouseMove=function(t){var e=this.player_.duration(),i=this.calculateDistance(t)*e,n=t.pageX-a.findElPosition(this.el().parentNode).left;this.update(i,n)},e.prototype.update=function(t,e){var i=(0,h["default"])(t,this.player_.duration());if(this.el().style.left=e+"px",this.el().setAttribute("data-current-time",i),this.keepTooltipsInside){var n=this.clampPosition_(e),r=e-n+1,s=parseFloat((0,d["default"])(this.tooltip,"width")),a=s/2;this.tooltip.innerHTML=i,this.tooltip.style.right="-"+(a-r)+"px"}},e.prototype.calculateDistance=function(t){return a.getPointerPosition(this.el().parentNode,t).x},e.prototype.clampPosition_=function(t){if(!this.keepTooltipsInside)return t;var e=parseFloat((0,d["default"])(this.player().el(),"width")),i=parseFloat((0,d["default"])(this.tooltip,"width")),n=i/2,r=t;return t<n?r=Math.ceil(n):t>e-n&&(r=Math.floor(e-n)),r},e}(r["default"]);r["default"].registerComponent("MouseTimeDisplay",v),e["default"]=v},"52b4":function(t,e,i){"use strict";e.__esModule=!0;var n=i("702d"),r=h(n),s=i("f545"),a=h(s),o=i("61b0"),l=u(o);function u(t){return t&&t.__esModule?t:{default:t}}function h(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function p(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f="vjs-modal-dialog",m=27,g=function(t){function e(i,n){c(this,e);var s=d(this,t.call(this,i,n));return s.opened_=s.hasBeenOpened_=s.hasBeenFilled_=!1,s.closeable(!s.options_.uncloseable),s.content(s.options_.content),s.contentEl_=r.createEl("div",{className:f+"-content"},{role:"document"}),s.descEl_=r.createEl("p",{className:f+"-description vjs-offscreen",id:s.el().getAttribute("aria-describedby")}),r.textContent(s.descEl_,s.description()),s.el_.appendChild(s.descEl_),s.el_.appendChild(s.contentEl_),s}return p(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},e.prototype.buildCSSClass=function(){return f+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},e.prototype.handleKeyPress=function(t){t.which===m&&this.closeable()&&this.close()},e.prototype.label=function(){return this.options_.label||this.localize("Modal Window")},e.prototype.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},e.prototype.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",a.bind(this,this.handleKeyPress)),t.controls(!1),this.show(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}return this},e.prototype.opened=function(t){return"boolean"===typeof t&&this[t?"open":"close"](),this.opened_},e.prototype.close=function(){if(this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",a.bind(this,this.handleKeyPress)),t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.options_.temporary&&this.dispose()}return this},e.prototype.closeable=function(t){if("boolean"===typeof t){var e=this.closeable_=!!t,i=this.getChild("closeButton");if(e&&!i){var n=this.contentEl_;this.contentEl_=this.el_,i=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=n,this.on(i,"close",this.close)}!e&&i&&(this.off(i,"close",this.close),this.removeChild(i),i.dispose())}return this.closeable_},e.prototype.fill=function(){return this.fillWith(this.content())},e.prototype.fillWith=function(t){var e=this.contentEl(),i=e.parentNode,n=e.nextSibling;return this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,i.removeChild(e),this.empty(),r.insertContent(e,t),this.trigger("modalfill"),n?i.insertBefore(e,n):i.appendChild(e),this},e.prototype.empty=function(){return this.trigger("beforemodalempty"),r.emptyEl(this.contentEl()),this.trigger("modalempty"),this},e.prototype.content=function(t){return"undefined"!==typeof t&&(this.content_=t),this.content_},e}(l["default"]);g.prototype.options_={pauseOnOpen:!0,temporary:!0},l["default"].registerComponent("ModalDialog",g),e["default"]=g},"53a8":function(t,e){t.exports=n;var i=Object.prototype.hasOwnProperty;function n(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var r in n)i.call(n,r)&&(t[r]=n[r])}return t}},"55b5":function(t,e,i){var n=i("4a4b");function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,n(t,e)}t.exports=r,t.exports["default"]=t.exports,t.exports.__esModule=!0},"56b0":function(t,e,i){"use strict";i("db42");var n=i("9d26"),r=i("da13"),s=i("34c3"),a=i("7e2b"),o=i("9d65"),l=i("a9ad"),u=i("f2e7"),h=i("3206"),c=i("5607"),d=i("0789"),p=i("58df"),f=i("80d2");const m=Object(p["a"])(a["a"],o["a"],l["a"],Object(h["a"])("list"),u["a"]);e["a"]=m.extend().extend({name:"v-list-group",directives:{ripple:c["a"]},props:{activeClass:{type:String,default:""},appendIcon:{type:String,default:"$expand"},color:{type:String,default:"primary"},disabled:Boolean,group:String,noAction:Boolean,prependIcon:String,ripple:{type:[Boolean,Object],default:!0},subGroup:Boolean},computed:{classes(){return{"v-list-group--active":this.isActive,"v-list-group--disabled":this.disabled,"v-list-group--no-action":this.noAction,"v-list-group--sub-group":this.subGroup}}},watch:{isActive(t){!this.subGroup&&t&&this.list&&this.list.listClick(this._uid)},$route:"onRouteChange"},created(){this.list&&this.list.register(this),this.group&&this.$route&&null==this.value&&(this.isActive=this.matchRoute(this.$route.path))},beforeDestroy(){this.list&&this.list.unregister(this)},methods:{click(t){this.disabled||(this.isBooted=!0,this.$emit("click",t),this.$nextTick(()=>this.isActive=!this.isActive))},genIcon(t){return this.$createElement(n["a"],t)},genAppendIcon(){const t=!this.subGroup&&this.appendIcon;return t||this.$slots.appendIcon?this.$createElement(s["a"],{staticClass:"v-list-group__header__append-icon"},[this.$slots.appendIcon||this.genIcon(t)]):null},genHeader(){return this.$createElement(r["a"],{staticClass:"v-list-group__header",attrs:{"aria-expanded":String(this.isActive),role:"button"},class:{[this.activeClass]:this.isActive},props:{inputValue:this.isActive},directives:[{name:"ripple",value:this.ripple}],on:{...this.listeners$,click:this.click}},[this.genPrependIcon(),this.$slots.activator,this.genAppendIcon()])},genItems(){return this.showLazyContent(()=>[this.$createElement("div",{staticClass:"v-list-group__items",directives:[{name:"show",value:this.isActive}]},Object(f["p"])(this))])},genPrependIcon(){const t=this.subGroup&&null==this.prependIcon?"$subgroup":this.prependIcon;return t||this.$slots.prependIcon?this.$createElement(s["a"],{staticClass:"v-list-group__header__prepend-icon"},[this.$slots.prependIcon||this.genIcon(t)]):null},onRouteChange(t){if(!this.group)return;const e=this.matchRoute(t.path);e&&this.isActive!==e&&this.list&&this.list.listClick(this._uid),this.isActive=e},toggle(t){const e=this._uid===t;e&&(this.isBooted=!0),this.$nextTick(()=>this.isActive=e)},matchRoute(t){return null!==t.match(this.group)}},render(t){return t("div",this.setTextColor(this.isActive&&this.color,{staticClass:"v-list-group",class:this.classes}),[this.genHeader(),t(d["a"],this.genItems())])}})},"58d3":function(t,e,i){"use strict";e.__esModule=!0;var n=i("61b0"),r=h(n),s=i("f545"),a=u(s),o=i("a178"),l=h(o);function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function h(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function p(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f="#222",m="#ccc",g={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function _(t,e){return"rgba("+parseInt(t[1]+t[1],16)+","+parseInt(t[2]+t[2],16)+","+parseInt(t[3]+t[3],16)+","+e+")"}function v(t,e,i){try{t.style[e]=i}catch(n){return}}var y=function(t){function e(i,n,r){c(this,e);var s=d(this,t.call(this,i,n,r));return i.on("loadstart",a.bind(s,s.toggleDisplay)),i.on("texttrackchange",a.bind(s,s.updateDisplay)),i.ready(a.bind(s,(function(){if(i.tech_&&i.tech_.featuresNativeTextTracks)this.hide();else{i.on("fullscreenchange",a.bind(this,this.updateDisplay));for(var t=this.options_.playerOptions.tracks||[],e=0;e<t.length;e++)this.player_.addRemoteTextTrack(t[e],!0);var n={captions:1,subtitles:1},r=this.player_.textTracks(),s=void 0,o=void 0;if(r){for(var l=0;l<r.length;l++){var u=r[l];u["default"]&&("descriptions"!==u.kind||s?u.kind in n&&!o&&(o=u):s=u)}o?o.mode="showing":s&&(s.mode="showing")}}}))),s}return p(e,t),e.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},e.prototype.clearDisplay=function(){"function"===typeof l["default"].WebVTT&&l["default"].WebVTT.processCues(l["default"],[],this.el_)},e.prototype.updateDisplay=function(){var t=this.player_.textTracks();if(this.clearDisplay(),t){var e=null,i=null,n=t.length;while(n--){var r=t[n];"showing"===r.mode&&("descriptions"===r.kind?e=r:i=r)}i?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(i)):e&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(e))}},e.prototype.updateForTrack=function(t){if("function"===typeof l["default"].WebVTT&&t.activeCues){for(var e=this.player_.textTrackSettings.getValues(),i=[],n=0;n<t.activeCues.length;n++)i.push(t.activeCues[n]);l["default"].WebVTT.processCues(l["default"],i,this.el_);var r=i.length;while(r--){var s=i[r];if(s){var a=s.displayState;if(e.color&&(a.firstChild.style.color=e.color),e.textOpacity&&v(a.firstChild,"color",_(e.color||"#fff",e.textOpacity)),e.backgroundColor&&(a.firstChild.style.backgroundColor=e.backgroundColor),e.backgroundOpacity&&v(a.firstChild,"backgroundColor",_(e.backgroundColor||"#000",e.backgroundOpacity)),e.windowColor&&(e.windowOpacity?v(a,"backgroundColor",_(e.windowColor,e.windowOpacity)):a.style.backgroundColor=e.windowColor),e.edgeStyle&&("dropshadow"===e.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px "+f+", 2px 2px 4px "+f+", 2px 2px 5px "+f:"raised"===e.edgeStyle?a.firstChild.style.textShadow="1px 1px "+f+", 2px 2px "+f+", 3px 3px "+f:"depressed"===e.edgeStyle?a.firstChild.style.textShadow="1px 1px "+m+", 0 1px "+m+", -1px -1px "+f+", 0 -1px "+f:"uniform"===e.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px "+f+", 0 0 4px "+f+", 0 0 4px "+f+", 0 0 4px "+f)),e.fontPercent&&1!==e.fontPercent){var o=l["default"].parseFloat(a.style.fontSize);a.style.fontSize=o*e.fontPercent+"px",a.style.height="auto",a.style.top="auto",a.style.bottom="2px"}e.fontFamily&&"default"!==e.fontFamily&&("small-caps"===e.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=g[e.fontFamily])}}}},e}(r["default"]);r["default"].registerComponent("TextTrackDisplay",y),e["default"]=y},"5d23":function(t,e,i){"use strict";i.d(e,"a",(function(){return y})),i.d(e,"b",(function(){return b}));var n=i("80d2"),r=i("8860"),s=i("56b0"),a=i("da13"),o=(i("899c"),i("604c")),l=i("a9ad"),u=i("58df"),h=Object(u["a"])(o["a"],l["a"]).extend({name:"v-list-item-group",provide(){return{isInGroup:!0,listItemGroup:this}},computed:{classes(){return{...o["a"].options.computed.classes.call(this),"v-list-item-group":!0}}},methods:{genData(){return this.setTextColor(this.color,{...o["a"].options.methods.genData.call(this),attrs:{role:"listbox"}})}}}),c=i("1800"),d=(i("3408"),i("24b2")),p=i("a236"),f=Object(u["a"])(l["a"],d["a"],p["a"]).extend({name:"v-avatar",props:{left:Boolean,right:Boolean,size:{type:[Number,String],default:48}},computed:{classes(){return{"v-avatar--left":this.left,"v-avatar--right":this.right,...this.roundedClasses}},styles(){return{height:Object(n["g"])(this.size),minWidth:Object(n["g"])(this.size),width:Object(n["g"])(this.size),...this.measurableStyles}}},render(t){const e={staticClass:"v-avatar",class:this.classes,style:this.styles,on:this.$listeners};return t("div",this.setBackgroundColor(this.color,e),this.$slots.default)}}),m=f,g=m.extend({name:"v-list-item-avatar",props:{horizontal:Boolean,size:{type:[Number,String],default:40}},computed:{classes(){return{"v-list-item__avatar--horizontal":this.horizontal,...m.options.computed.classes.call(this),"v-avatar--tile":this.tile||this.horizontal}}},render(t){const e=m.options.render.call(this,t);return e.data=e.data||{},e.data.staticClass+=" v-list-item__avatar",e}}),_=i("34c3");const v=Object(n["i"])("v-list-item__action-text","span"),y=Object(n["i"])("v-list-item__content","div"),b=Object(n["i"])("v-list-item__title","div"),T=Object(n["i"])("v-list-item__subtitle","div");r["a"],s["a"],a["a"],c["a"],_["a"]},"5ea1":function(t,e,i){"use strict";e.__esModule=!0;var n=i("90a6"),r=s(n);function s(t){return t&&t.__esModule?t:{default:t}}var a=function(t,e){r["default"].prototype[t]=e};e["default"]=a},"604c":function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));i("166a");var n=i("a452"),r=i("7560"),s=i("58df"),a=i("d9bd");const o=Object(s["a"])(n["a"],r["a"]).extend({name:"base-item-group",props:{activeClass:{type:String,default:"v-item--active"},mandatory:Boolean,max:{type:[Number,String],default:null},multiple:Boolean,tag:{type:String,default:"div"}},data(){return{internalLazyValue:void 0!==this.value?this.value:this.multiple?[]:void 0,items:[]}},computed:{classes(){return{"v-item-group":!0,...this.themeClasses}},selectedIndex(){return this.selectedItem&&this.items.indexOf(this.selectedItem)||-1},selectedItem(){if(!this.multiple)return this.selectedItems[0]},selectedItems(){return this.items.filter((t,e)=>this.toggleMethod(this.getValue(t,e)))},selectedValues(){return null==this.internalValue?[]:Array.isArray(this.internalValue)?this.internalValue:[this.internalValue]},toggleMethod(){if(!this.multiple)return t=>this.internalValue===t;const t=this.internalValue;return Array.isArray(t)?e=>t.includes(e):()=>!1}},watch:{internalValue:"updateItemsState",items:"updateItemsState"},created(){this.multiple&&!Array.isArray(this.internalValue)&&Object(a["c"])("Model must be bound to an array if the multiple property is true.",this)},methods:{genData(){return{class:this.classes}},getValue(t,e){return null==t.value||""===t.value?e:t.value},onClick(t){this.updateInternalValue(this.getValue(t,this.items.indexOf(t)))},register(t){const e=this.items.push(t)-1;t.$on("change",()=>this.onClick(t)),this.mandatory&&!this.selectedValues.length&&this.updateMandatory(),this.updateItem(t,e)},unregister(t){if(this._isDestroyed)return;const e=this.items.indexOf(t),i=this.getValue(t,e);this.items.splice(e,1);const n=this.selectedValues.indexOf(i);if(!(n<0)){if(!this.mandatory)return this.updateInternalValue(i);this.multiple&&Array.isArray(this.internalValue)?this.internalValue=this.internalValue.filter(t=>t!==i):this.internalValue=void 0,this.selectedItems.length||this.updateMandatory(!0)}},updateItem(t,e){const i=this.getValue(t,e);t.isActive=this.toggleMethod(i)},updateItemsState(){this.$nextTick(()=>{if(this.mandatory&&!this.selectedItems.length)return this.updateMandatory();this.items.forEach(this.updateItem)})},updateInternalValue(t){this.multiple?this.updateMultiple(t):this.updateSingle(t)},updateMandatory(t){if(!this.items.length)return;const e=this.items.slice();t&&e.reverse();const i=e.find(t=>!t.disabled);if(!i)return;const n=this.items.indexOf(i);this.updateInternalValue(this.getValue(i,n))},updateMultiple(t){const e=Array.isArray(this.internalValue)?this.internalValue:[],i=e.slice(),n=i.findIndex(e=>e===t);this.mandatory&&n>-1&&i.length-1<1||null!=this.max&&n<0&&i.length+1>this.max||(n>-1?i.splice(n,1):i.push(t),this.internalValue=i)},updateSingle(t){const e=t===this.internalValue;this.mandatory&&e||(this.internalValue=e?void 0:t)}},render(t){return t(this.tag,this.genData(),this.$slots.default)}});o.extend({name:"v-item-group",provide(){return{itemGroup:this}}})},"615b":function(t,e,i){},"61b0":function(t,e,i){"use strict";e.__esModule=!0;var n=i("a178"),r=b(n),s=i("702d"),a=y(s),o=i("f545"),l=y(o),u=i("d8e3"),h=y(u),c=i("3a09"),d=y(c),p=i("320e"),f=b(p),m=i("d016"),g=b(m),_=i("3afa"),v=b(_);function y(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function b(t){return t&&t.__esModule?t:{default:t}}function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var w=function(){function t(e,i,n){if(T(this,t),!e&&this.play?this.player_=e=this:this.player_=e,this.options_=(0,v["default"])({},this.options_),i=this.options_=(0,v["default"])(this.options_,i),this.id_=i.id||i.el&&i.el.id,!this.id_){var r=e&&e.id&&e.id()||"no_player";this.id_=r+"_component_"+h.newGUID()}this.name_=i.name||null,i.el?this.el_=i.el:!1!==i.createEl&&(this.el_=this.createEl()),this.children_=[],this.childIndex_={},this.childNameIndex_={},!1!==i.initChildren&&this.initChildren(),this.ready(n),!1!==i.reportTouchActivity&&this.enableTouchActivity()}return t.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.off(),this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),a.removeElData(this.el_),this.el_=null},t.prototype.player=function(){return this.player_},t.prototype.options=function(t){return f["default"].warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),t?(this.options_=(0,v["default"])(this.options_,t),this.options_):this.options_},t.prototype.el=function(){return this.el_},t.prototype.createEl=function(t,e,i){return a.createEl(t,e,i)},t.prototype.localize=function(t){var e=this.player_.language&&this.player_.language(),i=this.player_.languages&&this.player_.languages();if(!e||!i)return t;var n=i[e];if(n&&n[t])return n[t];var r=e.split("-")[0],s=i[r];return s&&s[t]?s[t]:t},t.prototype.contentEl=function(){return this.contentEl_||this.el_},t.prototype.id=function(){return this.id_},t.prototype.name=function(){return this.name_},t.prototype.children=function(){return this.children_},t.prototype.getChildById=function(t){return this.childIndex_[t]},t.prototype.getChild=function(t){if(t)return t=(0,g["default"])(t),this.childNameIndex_[t]},t.prototype.addChild=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.children_.length,r=void 0,s=void 0;if("string"===typeof e){s=(0,g["default"])(e),i||(i={}),!0===i&&(f["default"].warn("Initializing a child component with `true` is deprecated.Children should be defined in an array when possible, but if necessary use an object instead of `true`."),i={});var a=i.componentClass||s;i.name=s;var o=t.getComponent(a);if(!o)throw new Error("Component "+a+" does not exist");if("function"!==typeof o)return null;r=new o(this.player_||this,i)}else r=e;if(this.children_.splice(n,0,r),"function"===typeof r.id&&(this.childIndex_[r.id()]=r),s=s||r.name&&(0,g["default"])(r.name()),s&&(this.childNameIndex_[s]=r),"function"===typeof r.el&&r.el()){var l=this.contentEl().children,u=l[n]||null;this.contentEl().insertBefore(r.el(),u)}return r},t.prototype.removeChild=function(t){if("string"===typeof t&&(t=this.getChild(t)),t&&this.children_){for(var e=!1,i=this.children_.length-1;i>=0;i--)if(this.children_[i]===t){e=!0,this.children_.splice(i,1);break}if(e){this.childIndex_[t.id()]=null,this.childNameIndex_[t.name()]=null;var n=t.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},t.prototype.initChildren=function(){var e=this,i=this.options_.children;if(i){var n=this.options_,r=function(t){var i=t.name,r=t.opts;if(void 0!==n[i]&&(r=n[i]),!1!==r){!0===r&&(r={}),r.playerOptions=e.options_.playerOptions;var s=e.addChild(i,r);s&&(e[i]=s)}},s=void 0,a=t.getComponent("Tech");s=Array.isArray(i)?i:Object.keys(i),s.concat(Object.keys(this.options_).filter((function(t){return!s.some((function(e){return"string"===typeof e?t===e:t===e.name}))}))).map((function(t){var n=void 0,r=void 0;return"string"===typeof t?(n=t,r=i[n]||e.options_[n]||{}):(n=t.name,r=t),{name:n,opts:r}})).filter((function(e){var i=t.getComponent(e.opts.componentClass||(0,g["default"])(e.name));return i&&!a.isTech(i)})).forEach(r)}},t.prototype.buildCSSClass=function(){return""},t.prototype.on=function(t,e,i){var n=this;if("string"===typeof t||Array.isArray(t))d.on(this.el_,t,l.bind(this,e));else{var r=t,s=e,a=l.bind(this,i),o=function(){return n.off(r,s,a)};o.guid=a.guid,this.on("dispose",o);var u=function(){return n.off("dispose",o)};u.guid=a.guid,t.nodeName?(d.on(r,s,a),d.on(r,"dispose",u)):"function"===typeof t.on&&(r.on(s,a),r.on("dispose",u))}return this},t.prototype.off=function(t,e,i){if(!t||"string"===typeof t||Array.isArray(t))d.off(this.el_,t,e);else{var n=t,r=e,s=l.bind(this,i);this.off("dispose",s),t.nodeName?(d.off(n,r,s),d.off(n,"dispose",s)):(n.off(r,s),n.off("dispose",s))}return this},t.prototype.one=function(t,e,i){var n=this,r=arguments;if("string"===typeof t||Array.isArray(t))d.one(this.el_,t,l.bind(this,e));else{var s=t,a=e,o=l.bind(this,i),u=function t(){n.off(s,a,t),o.apply(null,r)};u.guid=o.guid,this.on(s,a,u)}return this},t.prototype.trigger=function(t,e){return d.trigger(this.el_,t,e),this},t.prototype.ready=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&(this.isReady_?e?t.call(this):this.setTimeout(t,1):(this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(t))),this},t.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout((function(){var t=this.readyQueue_;this.readyQueue_=[],t&&t.length>0&&t.forEach((function(t){t.call(this)}),this),this.trigger("ready")}),1)},t.prototype.$=function(t,e){return a.$(t,e||this.contentEl())},t.prototype.$$=function(t,e){return a.$$(t,e||this.contentEl())},t.prototype.hasClass=function(t){return a.hasElClass(this.el_,t)},t.prototype.addClass=function(t){return a.addElClass(this.el_,t),this},t.prototype.removeClass=function(t){return a.removeElClass(this.el_,t),this},t.prototype.toggleClass=function(t,e){return a.toggleElClass(this.el_,t,e),this},t.prototype.show=function(){return this.removeClass("vjs-hidden"),this},t.prototype.hide=function(){return this.addClass("vjs-hidden"),this},t.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},t.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},t.prototype.getAttribute=function(t){return a.getAttribute(this.el_,t)},t.prototype.setAttribute=function(t,e){return a.setAttribute(this.el_,t,e),this},t.prototype.removeAttribute=function(t){return a.removeAttribute(this.el_,t),this},t.prototype.width=function(t,e){return this.dimension("width",t,e)},t.prototype.height=function(t,e){return this.dimension("height",t,e)},t.prototype.dimensions=function(t,e){return this.width(t,!0).height(e)},t.prototype.dimension=function(t,e,i){if(void 0!==e)return null!==e&&e===e||(e=0),-1!==(""+e).indexOf("%")||-1!==(""+e).indexOf("px")?this.el_.style[t]=e:this.el_.style[t]="auto"===e?"":e+"px",i||this.trigger("resize"),this;if(!this.el_)return 0;var n=this.el_.style[t],r=n.indexOf("px");return-1!==r?parseInt(n.slice(0,r),10):parseInt(this.el_["offset"+(0,g["default"])(t)],10)},t.prototype.currentDimension=function(t){var e=0;if("width"!==t&&"height"!==t)throw new Error("currentDimension only accepts width or height value");if("function"===typeof r["default"].getComputedStyle){var i=r["default"].getComputedStyle(this.el_);e=i.getPropertyValue(t)||i[t]}if(e=parseFloat(e),0===e){var n="offset"+(0,g["default"])(t);e=this.el_[n]}return e},t.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.prototype.currentWidth=function(){return this.currentDimension("width")},t.prototype.currentHeight=function(){return this.currentDimension("height")},t.prototype.focus=function(){this.el_.focus()},t.prototype.blur=function(){this.el_.blur()},t.prototype.emitTapEvents=function(){var t=0,e=null,i=10,n=200,r=void 0;this.on("touchstart",(function(i){1===i.touches.length&&(e={pageX:i.touches[0].pageX,pageY:i.touches[0].pageY},t=(new Date).getTime(),r=!0)})),this.on("touchmove",(function(t){if(t.touches.length>1)r=!1;else if(e){var n=t.touches[0].pageX-e.pageX,s=t.touches[0].pageY-e.pageY,a=Math.sqrt(n*n+s*s);a>i&&(r=!1)}}));var s=function(){r=!1};this.on("touchleave",s),this.on("touchcancel",s),this.on("touchend",(function(i){if(e=null,!0===r){var s=(new Date).getTime()-t;s<n&&(i.preventDefault(),this.trigger("tap"))}}))},t.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t=l.bind(this.player(),this.player().reportUserActivity),e=void 0;this.on("touchstart",(function(){t(),this.clearInterval(e),e=this.setInterval(t,250)}));var i=function(i){t(),this.clearInterval(e)};this.on("touchmove",t),this.on("touchend",i),this.on("touchcancel",i)}},t.prototype.setTimeout=function(t,e){t=l.bind(this,t);var i=r["default"].setTimeout(t,e),n=function(){this.clearTimeout(i)};return n.guid="vjs-timeout-"+i,this.on("dispose",n),i},t.prototype.clearTimeout=function(t){r["default"].clearTimeout(t);var e=function(){};return e.guid="vjs-timeout-"+t,this.off("dispose",e),t},t.prototype.setInterval=function(t,e){t=l.bind(this,t);var i=r["default"].setInterval(t,e),n=function(){this.clearInterval(i)};return n.guid="vjs-interval-"+i,this.on("dispose",n),i},t.prototype.clearInterval=function(t){r["default"].clearInterval(t);var e=function(){};return e.guid="vjs-interval-"+t,this.off("dispose",e),t},t.registerComponent=function(e,i){if(e){if(e=(0,g["default"])(e),t.components_||(t.components_={}),"Player"===e&&t.components_[e]){var n=t.components_[e];if(n.players&&Object.keys(n.players).length>0&&Object.keys(n.players).map((function(t){return n.players[t]})).every(Boolean))throw new Error("Can not register Player component after player has been created")}return t.components_[e]=i,i}},t.getComponent=function(e){if(e)return e=(0,g["default"])(e),t.components_&&t.components_[e]?t.components_[e]:r["default"]&&r["default"].videojs&&r["default"].videojs[e]?(f["default"].warn("The "+e+" component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)"),r["default"].videojs[e]):void 0},t.extend=function(e){e=e||{},f["default"].warn("Component.extend({}) has been deprecated,  use videojs.extend(Component, {}) instead");var i=e.init||e.init||this.prototype.init||this.prototype.init||function(){},n=function(){i.apply(this,arguments)};for(var r in n.prototype=Object.create(this.prototype),n.prototype.constructor=n,n.extend=t.extend,e)e.hasOwnProperty(r)&&(n.prototype[r]=e[r]);return n},t}();w.registerComponent("Component",w),e["default"]=w},"61d2":function(t,e,i){},"61db":function(t,e,i){"use strict";e.__esModule=!0;var n=i("dec4"),r=o(n),s=i("61b0"),a=o(s);function o(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function h(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(i,n){l(this,e);var r=u(this,t.call(this,i,n));return r.on(i,"fullscreenchange",r.handleFullscreenChange),r}return h(e,t),e.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},e.prototype.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},e.prototype.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(r["default"]);c.prototype.controlText_="Fullscreen",a["default"].registerComponent("FullscreenToggle",c),e["default"]=c},6444:function(t,e){var i=function(t){return t.replace(/^\s+|\s+$/g,"")},n=function(t){return"[object Array]"===Object.prototype.toString.call(t)};t.exports=function(t){if(!t)return{};for(var e={},r=i(t).split("\n"),s=0;s<r.length;s++){var a=r[s],o=a.indexOf(":"),l=i(a.slice(0,o)).toLowerCase(),u=i(a.slice(o+1));"undefined"===typeof e[l]?e[l]=u:n(e[l])?e[l].push(u):e[l]=[e[l],u]}return e}},6556:function(t,e,i){"use strict";e.__esModule=!0;var n=i("e177"),r=o(n),s=i("61b0"),a=o(s);function o(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function h(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(i,n){l(this,e);var r=n.rate,s=parseFloat(r,10);n.label=r,n.selected=1===s,n.selectable=!0;var a=u(this,t.call(this,i,n));return a.label=r,a.rate=s,a.on(i,"ratechange",a.update),a}return h(e,t),e.prototype.handleClick=function(e){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},e.prototype.update=function(t){this.selected(this.player().playbackRate()===this.rate)},e}(r["default"]);c.prototype.contentElType="button",a["default"].registerComponent("PlaybackRateMenuItem",c),e["default"]=c},"66ef":function(t,e,i){"use strict";e.__esModule=!0;var n=i("71b7"),r=f(n),s=i("61b0"),a=f(s),o=i("f545"),l=p(o),u=i("b0f9"),h=f(u),c=i("8854"),d=f(c);function p(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function f(t){return t&&t.__esModule?t:{default:t}}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function _(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i("d706"),i("0f69"),i("21b6");var v=function(t){function e(i,n){m(this,e);var r=g(this,t.call(this,i,n));return r.on(i,"timeupdate",r.updateProgress),r.on(i,"ended",r.updateProgress),i.ready(l.bind(r,r.updateProgress)),n.playerOptions&&n.playerOptions.controlBar&&n.playerOptions.controlBar.progressControl&&n.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=n.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&(r.tooltipProgressBar=r.addChild("TooltipProgressBar")),r}return _(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":"progress bar"})},e.prototype.updateProgress=function(t){if(this.updateAriaAttributes(this.el_),this.keepTooltipsInside){this.updateAriaAttributes(this.tooltipProgressBar.el_),this.tooltipProgressBar.el_.style.width=this.bar.el_.style.width;var e=parseFloat((0,d["default"])(this.player().el(),"width")),i=parseFloat((0,d["default"])(this.tooltipProgressBar.tooltip,"width")),n=this.tooltipProgressBar.el().style;n.maxWidth=Math.floor(e-i/2)+"px",n.minWidth=Math.ceil(i/2)+"px",n.right="-"+i/2+"px"}},e.prototype.updateAriaAttributes=function(t){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();t.setAttribute("aria-valuenow",(100*this.getPercent()).toFixed(2)),t.setAttribute("aria-valuetext",(0,h["default"])(e,this.player_.duration()))},e.prototype.getPercent=function(){var t=this.player_.currentTime()/this.player_.duration();return t>=1?1:t},e.prototype.handleMouseDown=function(e){this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,e)},e.prototype.handleMouseMove=function(t){var e=this.calculateDistance(t)*this.player_.duration();e===this.player_.duration()&&(e-=.1),this.player_.currentTime(e)},e.prototype.handleMouseUp=function(e){t.prototype.handleMouseUp.call(this,e),this.player_.scrubbing(!1),this.videoWasPlaying&&this.player_.play()},e.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},e.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},e}(r["default"]);v.prototype.options_={children:["loadProgressBar","mouseTimeDisplay","playProgressBar"],barName:"playProgressBar"},v.prototype.playerEvent="timeupdate",a["default"].registerComponent("SeekBar",v),e["default"]=v},"68dd":function(t,e,i){},"6a64":function(t,e,i){"use strict";e.__esModule=!0;var n=i("3a09"),r=s(n);function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}var a=function(){};a.prototype.allowedEvents_={},a.prototype.on=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},r.on(this,t,e),this.addEventListener=i},a.prototype.addEventListener=a.prototype.on,a.prototype.off=function(t,e){r.off(this,t,e)},a.prototype.removeEventListener=a.prototype.off,a.prototype.one=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},r.one(this,t,e),this.addEventListener=i},a.prototype.trigger=function(t){var e=t.type||t;"string"===typeof t&&(t={type:e}),t=r.fixEvent(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),r.trigger(this,t)},a.prototype.dispatchEvent=a.prototype.trigger,e["default"]=a},"6aec":function(t,e,i){"use strict";e.__esModule=!0,e.isCrossOrigin=e.getFileExtension=e.getAbsoluteURL=e.parseUrl=void 0;var n=i("9869"),r=o(n),s=i("a178"),a=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var l=e.parseUrl=function(t){var e=["protocol","hostname","port","pathname","search","hash","host"],i=r["default"].createElement("a");i.href=t;var n=""===i.host&&"file:"!==i.protocol,s=void 0;n&&(s=r["default"].createElement("div"),s.innerHTML='<a href="'+t+'"></a>',i=s.firstChild,s.setAttribute("style","display:none; position:absolute;"),r["default"].body.appendChild(s));for(var a={},o=0;o<e.length;o++)a[e[o]]=i[e[o]];return"http:"===a.protocol&&(a.host=a.host.replace(/:80$/,"")),"https:"===a.protocol&&(a.host=a.host.replace(/:443$/,"")),n&&r["default"].body.removeChild(s),a};e.getAbsoluteURL=function(t){if(!t.match(/^https?:\/\//)){var e=r["default"].createElement("div");e.innerHTML='<a href="'+t+'">x</a>',t=e.firstChild.href}return t},e.getFileExtension=function(t){if("string"===typeof t){var e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i,i=e.exec(t);if(i)return i.pop().toLowerCase()}return""},e.isCrossOrigin=function(t){var e=a["default"].location,i=l(t),n=":"===i.protocol?e.protocol:i.protocol,r=n+i.host!==e.protocol+e.host;return r}},"6c5b":function(t,e,i){"use strict";e.__esModule=!0;var n=i("af98"),r=g(n),s=i("61b0"),a=g(s),o=i("1c1b"),l=g(o),u=i("702d"),h=m(u),c=i("f545"),d=m(c),p=i("d016"),f=g(p);function m(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function g(t){return t&&t.__esModule?t:{default:t}}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function y(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var b=function(t){function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_(this,e);var r=v(this,t.call(this,i,n));return r.update(),r.enabled_=!0,r.el_.setAttribute("aria-haspopup","true"),r.el_.setAttribute("role","menuitem"),r.on("keydown",r.handleSubmenuKeyPress),r}return y(e,t),e.prototype.update=function(){var t=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},e.prototype.createMenu=function(){var t=new l["default"](this.player_);if(this.hideThreshold_=0,this.options_.title){var e=h.createEl("li",{className:"vjs-menu-title",innerHTML:(0,f["default"])(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,t.children_.unshift(e),h.insertElFirst(e,t.contentEl())}if(this.items=this.createItems(),this.items)for(var i=0;i<this.items.length;i++)t.addItem(this.items[i]);return t},e.prototype.createItems=function(){},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},e.prototype.buildCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(t){this.one(this.menu.contentEl(),"mouseleave",d.bind(this,(function(t){this.unpressButton(),this.el_.blur()}))),this.buttonPressed_?this.unpressButton():this.pressButton()},e.prototype.handleKeyPress=function(e){27===e.which||9===e.which?(this.buttonPressed_&&this.unpressButton(),9!==e.which&&e.preventDefault()):38===e.which||40===e.which?this.buttonPressed_||(this.pressButton(),e.preventDefault()):t.prototype.handleKeyPress.call(this,e)},e.prototype.handleSubmenuKeyPress=function(t){27!==t.which&&9!==t.which||(this.buttonPressed_&&this.unpressButton(),9!==t.which&&t.preventDefault())},e.prototype.pressButton=function(){this.enabled_&&(this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute("aria-expanded","true"),this.menu.focus())},e.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.el_.focus())},e.prototype.disable=function(){return this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.enabled_=!1,t.prototype.disable.call(this)},e.prototype.enable=function(){return this.enabled_=!0,t.prototype.enable.call(this)},e}(r["default"]);a["default"].registerComponent("MenuButton",b),e["default"]=b},"6cc5":function(t,e,i){},"6ece":function(t,e,i){},"6f8f":function(t,e){function i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}t.exports=i,t.exports["default"]=t.exports,t.exports.__esModule=!0},"702d":function(t,e,i){"use strict";e.__esModule=!0,e.$$=e.$=void 0;var n=_(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);e.isReal=T,e.isEl=w,e.getEl=E,e.createEl=C,e.textContent=k,e.insertElFirst=x,e.getElData=I,e.hasElData=O,e.removeElData=P,e.hasElClass=L,e.addElClass=R,e.removeElClass=D,e.toggleElClass=N,e.setElAttributes=B,e.getElAttributes=j,e.getAttribute=U,e.setAttribute=F,e.removeAttribute=z,e.blockTextSelection=V,e.unblockTextSelection=H,e.findElPosition=q,e.getPointerPosition=G,e.isTextNode=W,e.emptyEl=$,e.normalizeContent=K,e.appendContent=Z,e.insertContent=X;var r=i("9869"),s=g(r),a=i("a178"),o=g(a),l=i("d8e3"),u=m(l),h=i("320e"),c=g(h),d=i("1b8d"),p=g(d),f=i("cff3");function m(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function g(t){return t&&t.__esModule?t:{default:t}}function _(t,e){return t.raw=e,t}function v(t){return"string"===typeof t&&/\S/.test(t)}function y(t){if(/\s/.test(t))throw new Error("class has illegal whitespace characters")}function b(t){return new RegExp("(^|\\s)"+t+"($|\\s)")}function T(){return s["default"]===o["default"].document&&"undefined"!==typeof s["default"].createElement}function w(t){return(0,f.isObject)(t)&&1===t.nodeType}function S(t){return function(e,i){if(!v(e))return s["default"][t](null);v(i)&&(i=s["default"].querySelector(i));var n=w(i)?i:s["default"];return n[t]&&n[t](e)}}function E(t){return 0===t.indexOf("#")&&(t=t.slice(1)),s["default"].getElementById(t)}function C(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],a=s["default"].createElement(t);return Object.getOwnPropertyNames(e).forEach((function(t){var i=e[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(c["default"].warn((0,p["default"])(n,t,i)),a.setAttribute(t,i)):"textContent"===t?k(a,i):a[t]=i})),Object.getOwnPropertyNames(i).forEach((function(t){a.setAttribute(t,i[t])})),r&&Z(a,r),a}function k(t,e){return"undefined"===typeof t.textContent?t.innerText=e:t.textContent=e,t}function x(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}var M={},A="vdata"+(new Date).getTime();function I(t){var e=t[A];return e||(e=t[A]=u.newGUID()),M[e]||(M[e]={}),M[e]}function O(t){var e=t[A];return!!e&&!!Object.getOwnPropertyNames(M[e]).length}function P(t){var e=t[A];if(e){delete M[e];try{delete t[A]}catch(i){t.removeAttribute?t.removeAttribute(A):t[A]=null}}}function L(t,e){return y(e),t.classList?t.classList.contains(e):b(e).test(t.className)}function R(t,e){return t.classList?t.classList.add(e):L(t,e)||(t.className=(t.className+" "+e).trim()),t}function D(t,e){return t.classList?t.classList.remove(e):(y(e),t.className=t.className.split(/\s+/).filter((function(t){return t!==e})).join(" ")),t}function N(t,e,i){var n=L(t,e);if("function"===typeof i&&(i=i(t,e)),"boolean"!==typeof i&&(i=!n),i!==n)return i?R(t,e):D(t,e),t}function B(t,e){Object.getOwnPropertyNames(e).forEach((function(i){var n=e[i];null===n||"undefined"===typeof n||!1===n?t.removeAttribute(i):t.setAttribute(i,!0===n?"":n)}))}function j(t){var e={},i=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&t.attributes.length>0)for(var n=t.attributes,r=n.length-1;r>=0;r--){var s=n[r].name,a=n[r].value;"boolean"!==typeof t[s]&&-1===i.indexOf(","+s+",")||(a=null!==a),e[s]=a}return e}function U(t,e){return t.getAttribute(e)}function F(t,e,i){t.setAttribute(e,i)}function z(t,e){t.removeAttribute(e)}function V(){s["default"].body.focus(),s["default"].onselectstart=function(){return!1}}function H(){s["default"].onselectstart=function(){return!0}}function q(t){var e=void 0;if(t.getBoundingClientRect&&t.parentNode&&(e=t.getBoundingClientRect()),!e)return{left:0,top:0};var i=s["default"].documentElement,n=s["default"].body,r=i.clientLeft||n.clientLeft||0,a=o["default"].pageXOffset||n.scrollLeft,l=e.left+a-r,u=i.clientTop||n.clientTop||0,h=o["default"].pageYOffset||n.scrollTop,c=e.top+h-u;return{left:Math.round(l),top:Math.round(c)}}function G(t,e){var i={},n=q(t),r=t.offsetWidth,s=t.offsetHeight,a=n.top,o=n.left,l=e.pageY,u=e.pageX;return e.changedTouches&&(u=e.changedTouches[0].pageX,l=e.changedTouches[0].pageY),i.y=Math.max(0,Math.min(1,(a-l+s)/s)),i.x=Math.max(0,Math.min(1,(u-o)/r)),i}function W(t){return(0,f.isObject)(t)&&3===t.nodeType}function $(t){while(t.firstChild)t.removeChild(t.firstChild);return t}function K(t){return"function"===typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map((function(t){return"function"===typeof t&&(t=t()),w(t)||W(t)?t:"string"===typeof t&&/\S/.test(t)?s["default"].createTextNode(t):void 0})).filter((function(t){return t}))}function Z(t,e){return K(e).forEach((function(e){return t.appendChild(e)})),t}function X(t,e){return Z($(t),e)}e.$=S("querySelector"),e.$$=S("querySelectorAll")},7159:function(t,e,i){"use strict";e.__esModule=!0;var n=i("af98"),r=f(n),s=i("61b0"),a=f(s),o=i("f545"),l=p(o),u=i("702d"),h=p(u),c=i("4e2d"),d=p(c);function p(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function f(t){return t&&t.__esModule?t:{default:t}}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function _(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v=function(t){function e(i,n){m(this,e);var r=g(this,t.call(this,i,n));return r.update(),i.on("posterchange",l.bind(r,r.update)),r}return _(e,t),e.prototype.dispose=function(){this.player().off("posterchange",this.update),t.prototype.dispose.call(this)},e.prototype.createEl=function(){var t=h.createEl("div",{className:"vjs-poster",tabIndex:-1});return d.BACKGROUND_SIZE_SUPPORTED||(this.fallbackImg_=h.createEl("img"),t.appendChild(this.fallbackImg_)),t},e.prototype.update=function(t){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},e.prototype.setSrc=function(t){if(this.fallbackImg_)this.fallbackImg_.src=t;else{var e="";t&&(e='url("'+t+'")'),this.el_.style.backgroundImage=e}},e.prototype.handleClick=function(t){this.player_.controls()&&(this.player_.paused()?this.player_.play():this.player_.pause())},e}(r["default"]);a["default"].registerComponent("PosterImage",v),e["default"]=v},"71b7":function(t,e,i){"use strict";e.__esModule=!0;var n=i("61b0"),r=u(n),s=i("702d"),a=l(s),o=i("cff3");function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function u(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function d(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p=function(t){function e(i,n){h(this,e);var r=c(this,t.call(this,i,n));return r.bar=r.getChild(r.options_.barName),r.vertical(!!r.options_.vertical),r.on("mousedown",r.handleMouseDown),r.on("touchstart",r.handleMouseDown),r.on("focus",r.handleFocus),r.on("blur",r.handleBlur),r.on("click",r.handleClick),r.on(i,"controlsvisible",r.update),r.on(i,r.playerEvent,r.update),r}return d(e,t),e.prototype.createEl=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i.className=i.className+" vjs-slider",i=(0,o.assign)({tabIndex:0},i),n=(0,o.assign)({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},n),t.prototype.createEl.call(this,e,i,n)},e.prototype.handleMouseDown=function(t){var e=this.bar.el_.ownerDocument;t.preventDefault(),a.blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(e,"mousemove",this.handleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchmove",this.handleMouseMove),this.on(e,"touchend",this.handleMouseUp),this.handleMouseMove(t)},e.prototype.handleMouseMove=function(t){},e.prototype.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;a.unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},e.prototype.update=function(){if(this.el_){var t=this.getPercent(),e=this.bar;if(e){("number"!==typeof t||t!==t||t<0||t===1/0)&&(t=0);var i=(100*t).toFixed(2)+"%";this.vertical()?e.el().style.height=i:e.el().style.width=i}}},e.prototype.calculateDistance=function(t){var e=a.getPointerPosition(this.el_,t);return this.vertical()?e.y:e.x},e.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},e.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepBack()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepForward())},e.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},e.prototype.handleClick=function(t){t.stopImmediatePropagation(),t.preventDefault()},e.prototype.vertical=function(t){return void 0===t?this.vertical_||!1:(this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal"),this)},e}(r["default"]);r["default"].registerComponent("Slider",p),e["default"]=p},7630:function(t,e,i){"use strict";e.__esModule=!0;var n=i("96d3"),r=o(n),s=i("61b0"),a=o(s);function o(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function h(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(i,n,r){l(this,e);var s=u(this,t.call(this,i,n,r));return s.el_.setAttribute("aria-label","Subtitles Menu"),s}return h(e,t),e.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},e}(r["default"]);c.prototype.kind_="subtitles",c.prototype.controlText_="Subtitles",a["default"].registerComponent("SubtitlesButton",c),e["default"]=c},7664:function(t,e,i){"use strict";e.__esModule=!0;var n=i("4e2d"),r=l(n),s=i("9869"),a=o(s);function o(t){return t&&t.__esModule?t:{default:t}}function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];u(this,t);var i=this;if(r.IS_IE8)for(var n in i=a["default"].createElement("custom"),t.prototype)"constructor"!==n&&(i[n]=t.prototype[n]);i.trackElements_=[],Object.defineProperty(i,"length",{get:function(){return this.trackElements_.length}});for(var s=0,o=e.length;s<o;s++)i.addTrackElement_(e[s]);if(r.IS_IE8)return i}return t.prototype.addTrackElement_=function(t){var e=this.trackElements_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.trackElements_[e]}}),-1===this.trackElements_.indexOf(t)&&this.trackElements_.push(t)},t.prototype.getTrackElementByTrack_=function(t){for(var e=void 0,i=0,n=this.trackElements_.length;i<n;i++)if(t===this.trackElements_[i].track){e=this.trackElements_[i];break}return e},t.prototype.removeTrackElement_=function(t){for(var e=0,i=this.trackElements_.length;e<i;e++)if(t===this.trackElements_[e]){this.trackElements_.splice(e,1);break}},t}();e["default"]=h},7934:function(t,e,i){"use strict";e.__esModule=!0;var n=i("61b0"),r=s(n);function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i("66ef"),i("5179");var u=function(t){function e(){return a(this,e),o(this,t.apply(this,arguments))}return l(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},e}(r["default"]);u.prototype.options_={children:["seekBar"]},r["default"].registerComponent("ProgressControl",u),e["default"]=u},"7a67":function(t,e,i){"use strict";e.__esModule=!0,e.createTimeRange=void 0,e.createTimeRanges=u;var n=i("320e"),r=s(n);function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,i){if(e<0||e>i)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is greater than or equal to the maximum bound ("+i+").")}function o(t,e,i,n){return void 0===n&&(r["default"].warn("DEPRECATED: Function '"+t+"' on 'TimeRanges' called without an index argument."),n=0),a(t,n,i.length-1),i[n][e]}function l(t){return void 0===t||0===t.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:t.length,start:o.bind(null,"start",0,t),end:o.bind(null,"end",1,t)}}function u(t,e){return Array.isArray(t)?l(t):void 0===t||void 0===e?l():l([[t,e]])}e.createTimeRange=u},"7d84":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0},s=i("a34f"),a=o(s);function o(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function h(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=a.default.getTech("Html5"),d=a.default.mergeOptions||a.default.util.mergeOptions,p={mediaDataSource:{},config:{}},f=function(t){function e(t,i){return l(this,e),t=d(p,t),u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return h(e,t),n(e,[{key:"setSrc",value:function(t){this.flvPlayer&&(this.flvPlayer.detachMediaElement(),this.flvPlayer.destroy());var e=this.options_.mediaDataSource,i=this.options_.config;e.type=void 0===e.type?"flv":e.type,e.url=t,this.flvPlayer=window.flvjs.createPlayer(e,i),this.flvPlayer.attachMediaElement(this.el_),this.flvPlayer.load()}},{key:"dispose",value:function(){this.flvPlayer&&(this.flvPlayer.detachMediaElement(),this.flvPlayer.destroy()),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"dispose",this).call(this)}}]),e}(c);f.isSupported=function(){return window.flvjs&&window.flvjs.isSupported()},f.formats={"video/flv":"FLV","video/x-flv":"FLV"},f.canPlayType=function(t){return f.isSupported()&&t in f.formats?"maybe":""},f.canPlaySource=function(t,e){return f.canPlayType(t.type)},f.VERSION="__VERSION__",a.default.registerTech("Flvjs",f),e.default=f},"7e70":function(t,e,i){"use strict";e.__esModule=!0;var n=i("61b0"),r=d(n),s=i("702d"),a=c(s),o=i("f545"),l=c(o),u=i("3a09"),h=c(u);function c(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function d(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function m(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var g=function(t){function e(){return p(this,e),f(this,t.apply(this,arguments))}return m(e,t),e.prototype.addItem=function(t){this.addChild(t),t.on("click",l.bind(this,(function(){this.unlockShowing()})))},e.prototype.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=a.createEl(e,{className:"vjs-menu-content"});var i=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return i.appendChild(this.contentEl_),h.on(i,"click",(function(t){t.preventDefault(),t.stopImmediatePropagation()})),i},e}(r["default"]);r["default"].registerComponent("Popup",g),e["default"]=g},8043:function(t,e,i){"use strict";e.__esModule=!0;var n=i("4e2d"),r=l(n),s=i("9869"),a=o(s);function o(t){return t&&t.__esModule?t:{default:t}}function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var h=function(){function t(e){u(this,t);var i=this;if(r.IS_IE8)for(var n in i=a["default"].createElement("custom"),t.prototype)"constructor"!==n&&(i[n]=t.prototype[n]);if(t.prototype.setCues_.call(i,e),Object.defineProperty(i,"length",{get:function(){return this.length_}}),r.IS_IE8)return i}return t.prototype.setCues_=function(t){var e=this.length||0,i=0,n=t.length;this.cues_=t,this.length_=t.length;var r=function(t){""+t in this||Object.defineProperty(this,""+t,{get:function(){return this.cues_[t]}})};if(e<n)for(i=e;i<n;i++)r.call(this,i)},t.prototype.getCueById=function(t){for(var e=null,i=0,n=this.length;i<n;i++){var r=this[i];if(r.id===t){e=r;break}}return e},t}();e["default"]=h},"815f":function(t,e,i){"use strict";e.__esModule=!0;var n=i("61b0"),r=l(n),s=i("702d"),a=o(s);function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function l(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function c(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=function(t){function e(i,n){u(this,e);var r=h(this,t.call(this,i,n));return r.updateShowing(),r.on(r.player(),"durationchange",r.updateShowing),r}return c(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=a.createEl("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},e.prototype.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},e}(r["default"]);r["default"].registerComponent("LiveDisplay",d),e["default"]=d},"81c0":function(t,e){var i=Math.pow(2,32),n=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},r=12;0===n.version?(n.earliestPresentationTime=e.getUint32(r),n.firstOffset=e.getUint32(r+4),r+=8):(n.earliestPresentationTime=e.getUint32(r)*i+e.getUint32(r+4),n.firstOffset=e.getUint32(r+8)*i+e.getUint32(r+12),r+=16),r+=2;var s=e.getUint16(r);for(r+=2;s>0;r+=12,s--)n.references.push({referenceType:(128&t[r])>>>7,referencedSize:2147483647&e.getUint32(r),subsegmentDuration:e.getUint32(r+4),startsWithSap:!!(128&t[r+8]),sapType:(112&t[r+8])>>>4,sapDeltaTime:268435455&e.getUint32(r+8)});return n};t.exports=n},8336:function(t,e,i){"use strict";i("86cc");var n=i("10d2"),r=(i("8d4f"),i("a9ad")),s=i("80d2"),a=r["a"].extend({name:"v-progress-circular",props:{button:Boolean,indeterminate:Boolean,rotate:{type:[Number,String],default:0},size:{type:[Number,String],default:32},width:{type:[Number,String],default:4},value:{type:[Number,String],default:0}},data:()=>({radius:20}),computed:{calculatedSize(){return Number(this.size)+(this.button?8:0)},circumference(){return 2*Math.PI*this.radius},classes(){return{"v-progress-circular--indeterminate":this.indeterminate,"v-progress-circular--button":this.button}},normalizedValue(){return this.value<0?0:this.value>100?100:parseFloat(this.value)},strokeDashArray(){return Math.round(1e3*this.circumference)/1e3},strokeDashOffset(){return(100-this.normalizedValue)/100*this.circumference+"px"},strokeWidth(){return Number(this.width)/+this.size*this.viewBoxSize*2},styles(){return{height:Object(s["g"])(this.calculatedSize),width:Object(s["g"])(this.calculatedSize)}},svgStyles(){return{transform:`rotate(${Number(this.rotate)}deg)`}},viewBoxSize(){return this.radius/(1-Number(this.width)/+this.size)}},methods:{genCircle(t,e){return this.$createElement("circle",{class:"v-progress-circular__"+t,attrs:{fill:"transparent",cx:2*this.viewBoxSize,cy:2*this.viewBoxSize,r:this.radius,"stroke-width":this.strokeWidth,"stroke-dasharray":this.strokeDashArray,"stroke-dashoffset":e}})},genSvg(){const t=[this.indeterminate||this.genCircle("underlay",0),this.genCircle("overlay",this.strokeDashOffset)];return this.$createElement("svg",{style:this.svgStyles,attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:`${this.viewBoxSize} ${this.viewBoxSize} ${2*this.viewBoxSize} ${2*this.viewBoxSize}`}},t)},genInfo(){return this.$createElement("div",{staticClass:"v-progress-circular__info"},this.$slots.default)}},render(t){return t("div",this.setTextColor(this.color,{staticClass:"v-progress-circular",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:this.classes,style:this.styles,on:this.$listeners}),[this.genSvg(),this.genInfo()])}}),o=a,l=i("4e82"),u=i("f2e7"),h=i("c995"),c=i("fe6c"),d=i("1c87"),p=i("af2b"),f=i("58df"),m=i("d9bd");const g=Object(f["a"])(n["a"],d["a"],c["a"],p["a"],Object(l["a"])("btnToggle"),Object(u["b"])("inputValue"));e["a"]=g.extend().extend({name:"v-btn",props:{activeClass:{type:String,default(){return this.btnToggle?this.btnToggle.activeClass:""}},block:Boolean,depressed:Boolean,fab:Boolean,icon:Boolean,loading:Boolean,outlined:Boolean,plain:Boolean,retainFocusOnClick:Boolean,rounded:Boolean,tag:{type:String,default:"button"},text:Boolean,tile:Boolean,type:{type:String,default:"button"},value:null},data:()=>({proxyClass:"v-btn--active"}),computed:{classes(){return{"v-btn":!0,...d["a"].options.computed.classes.call(this),"v-btn--absolute":this.absolute,"v-btn--block":this.block,"v-btn--bottom":this.bottom,"v-btn--disabled":this.disabled,"v-btn--is-elevated":this.isElevated,"v-btn--fab":this.fab,"v-btn--fixed":this.fixed,"v-btn--has-bg":this.hasBg,"v-btn--icon":this.icon,"v-btn--left":this.left,"v-btn--loading":this.loading,"v-btn--outlined":this.outlined,"v-btn--plain":this.plain,"v-btn--right":this.right,"v-btn--round":this.isRound,"v-btn--rounded":this.rounded,"v-btn--router":this.to,"v-btn--text":this.text,"v-btn--tile":this.tile,"v-btn--top":this.top,...this.themeClasses,...this.groupClasses,...this.elevationClasses,...this.sizeableClasses}},computedElevation(){if(!this.disabled)return h["a"].options.computed.computedElevation.call(this)},computedRipple(){var t;const e=!this.icon&&!this.fab||{circle:!0};return!this.disabled&&(null!=(t=this.ripple)?t:e)},hasBg(){return!this.text&&!this.plain&&!this.outlined&&!this.icon},isElevated(){return Boolean(!this.icon&&!this.text&&!this.outlined&&!this.depressed&&!this.disabled&&!this.plain&&(null==this.elevation||Number(this.elevation)>0))},isRound(){return Boolean(this.icon||this.fab)},styles(){return{...this.measurableStyles}}},created(){const t=[["flat","text"],["outline","outlined"],["round","rounded"]];t.forEach(([t,e])=>{this.$attrs.hasOwnProperty(t)&&Object(m["a"])(t,e,this)})},methods:{click(t){!this.retainFocusOnClick&&!this.fab&&t.detail&&this.$el.blur(),this.$emit("click",t),this.btnToggle&&this.toggle()},genContent(){return this.$createElement("span",{staticClass:"v-btn__content"},this.$slots.default)},genLoader(){return this.$createElement("span",{class:"v-btn__loader"},this.$slots.loader||[this.$createElement(o,{props:{indeterminate:!0,size:23,width:2}})])}},render(t){const e=[this.genContent(),this.loading&&this.genLoader()],{tag:i,data:n}=this.generateRouteLink(),r=this.hasBg?this.setBackgroundColor:this.setTextColor;return"button"===i&&(n.attrs.type=this.type,n.attrs.disabled=this.disabled),n.attrs.value=["string","number"].includes(typeof this.value)?this.value:JSON.stringify(this.value),t(i,this.disabled?n:r(this.color,n),e)}})},8362:function(t,e){t.exports=n;var i=Object.prototype.toString;function n(t){if(!t)return!1;var e=i.call(t);return"[object Function]"===e||"function"===typeof t&&"[object RegExp]"!==e||"undefined"!==typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}},"86cc":function(t,e,i){},8854:function(t,e,i){"use strict";e.__esModule=!0,e["default"]=a;var n=i("a178"),r=s(n);function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!t||!e)return"";if("function"===typeof r["default"].getComputedStyle){var i=r["default"].getComputedStyle(t);return i?i[e]:""}return t.currentStyle[e]||""}},8860:function(t,e,i){"use strict";i("3ad0");var n=i("8dd9");e["a"]=n["a"].extend().extend({name:"v-list",provide(){return{isInList:!0,list:this}},inject:{isInMenu:{default:!1},isInNav:{default:!1}},props:{dense:Boolean,disabled:Boolean,expand:Boolean,flat:Boolean,nav:Boolean,rounded:Boolean,subheader:Boolean,threeLine:Boolean,twoLine:Boolean},data:()=>({groups:[]}),computed:{classes(){return{...n["a"].options.computed.classes.call(this),"v-list--dense":this.dense,"v-list--disabled":this.disabled,"v-list--flat":this.flat,"v-list--nav":this.nav,"v-list--rounded":this.rounded,"v-list--subheader":this.subheader,"v-list--two-line":this.twoLine,"v-list--three-line":this.threeLine}}},methods:{register(t){this.groups.push(t)},unregister(t){const e=this.groups.findIndex(e=>e._uid===t._uid);e>-1&&this.groups.splice(e,1)},listClick(t){if(!this.expand)for(const e of this.groups)e.toggle(t)}},render(t){const e={staticClass:"v-list",class:this.classes,style:this.styles,attrs:{role:this.isInNav||this.isInMenu?void 0:"list",...this.attrs$}};return t(this.tag,this.setBackgroundColor(this.color,e),[this.$slots.default])}})},"899c":function(t,e,i){},"8adc":function(t,e,i){},"8bbe":function(t,e,i){"use strict";e.__esModule=!0;var n=i("dec4"),r=o(n),s=i("61b0"),a=o(s);function o(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function h(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(i,n){l(this,e);var r=u(this,t.call(this,i,n));return r.mouseused_=!1,r.on("mousedown",r.handleMouseDown),r}return h(e,t),e.prototype.buildCSSClass=function(){return"vjs-big-play-button"},e.prototype.handleClick=function(t){var e=this.player_.play();if(!(this.mouseused_&&t.clientX&&t.clientY)){var i=this.player_.getChild("controlBar"),n=i&&i.getChild("playToggle");if(n){var r=function(){return n.focus()};if(e&&e.then){var s=function(){};e.then(r,s)}else this.setTimeout(r,1)}else this.player_.focus()}},e.prototype.handleKeyPress=function(e){this.mouseused_=!1,t.prototype.handleKeyPress.call(this,e)},e.prototype.handleMouseDown=function(t){this.mouseused_=!0},e}(r["default"]);c.prototype.controlText_="Play Video",a["default"].registerComponent("BigPlayButton",c),e["default"]=c},"8c10":function(t,e){function i(t,e){var i,n=null;try{i=JSON.parse(t,e)}catch(r){n=r}return[n,i]}t.exports=i},"8c81":function(t,e,i){(function(e){var i;i="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},t.exports=i}).call(this,i("c8ba"))},"8ce9":function(t,e,i){},"8d4f":function(t,e,i){},"8f7b":function(t,e){var i=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n=new RegExp("[\\-\\.0-9"+i.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),r=new RegExp("^"+i.source+n.source+"*(?::"+i.source+n.source+"*)?$"),s=0,a=1,o=2,l=3,u=4,h=5,c=6,d=7;function p(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,p)}function f(){}function m(t,e,i,n,r){function s(t){if(t>65535){t-=65536;var e=55296+(t>>10),i=56320+(1023&t);return String.fromCharCode(e,i)}return String.fromCharCode(t)}function a(t){var e=t.slice(1,-1);return e in i?i[e]:"#"===e.charAt(0)?s(parseInt(e.substr(1).replace("x","0x"))):(r.error("entity not found:"+t),t)}function o(e){if(e>T){var i=t.substring(T,e).replace(/&#?\w+;/g,a);d&&l(T),n.characters(i,0,e-T),T=e}}function l(e,i){while(e>=h&&(i=c.exec(t)))u=i.index,h=u+i[0].length,d.lineNumber++;d.columnNumber=e-u+1}var u=0,h=0,c=/.*(?:\r\n?|\n)|.*$/g,d=n.locator,f=[{currentNSMap:e}],m={},T=0;while(1){try{var C=t.indexOf("<",T);if(C<0){if(!t.substr(T).match(/^\s*$/)){var k=n.doc,x=k.createTextNode(t.substr(T));k.appendChild(x),n.currentElement=x}return}switch(C>T&&o(C),t.charAt(C+1)){case"/":var M=t.indexOf(">",C+3),A=t.substring(C+2,M),I=f.pop();M<0?(A=t.substring(C+2).replace(/[\s<].*/,""),r.error("end tag name: "+A+" is not complete:"+I.tagName),M=C+1+A.length):A.match(/\s</)&&(A=A.replace(/[\s<].*/,""),r.error("end tag name: "+A+" maybe not complete"),M=C+1+A.length);var O=I.localNSMap,P=I.tagName==A,L=P||I.tagName&&I.tagName.toLowerCase()==A.toLowerCase();if(L){if(n.endElement(I.uri,I.localName,A),O)for(var R in O)n.endPrefixMapping(R);P||r.fatalError("end tag name: "+A+" is not match the current start tagName:"+I.tagName)}else f.push(I);M++;break;case"?":d&&l(C),M=S(t,C,n);break;case"!":d&&l(C),M=w(t,C,n,r);break;default:d&&l(C);var D=new E,N=f[f.length-1].currentNSMap,B=(M=_(t,C,D,N,a,r),D.length);if(!D.closed&&b(t,M,D.tagName,m)&&(D.closed=!0,i.nbsp||r.warning("unclosed xml attribute")),d&&B){for(var j=g(d,{}),U=0;U<B;U++){var F=D[U];l(F.offset),F.locator=g(d,{})}n.locator=j,v(D,n,N)&&f.push(D),n.locator=d}else v(D,n,N)&&f.push(D);"http://www.w3.org/1999/xhtml"!==D.uri||D.closed?M++:M=y(t,M,D.tagName,a,n)}}catch(z){if(z instanceof p)throw z;r.error("element parse error: "+z),M=-1}M>T?T=M:o(Math.max(C,T)+1)}}function g(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function _(t,e,i,n,r,p){function f(t,e,n){t in i.attributeNames&&p.fatalError("Attribute "+t+" redefined"),i.addValue(t,e,n)}var m,g=++e,_=s;while(1){var v=t.charAt(g);switch(v){case"=":if(_===a)m=t.slice(e,g),_=l;else{if(_!==o)throw new Error("attribute equal must after attrName");_=l}break;case"'":case'"':if(_===l||_===a){if(_===a&&(p.warning('attribute value must after "="'),m=t.slice(e,g)),e=g+1,g=t.indexOf(v,e),!(g>0))throw new Error("attribute value no end '"+v+"' match");y=t.slice(e,g).replace(/&#?\w+;/g,r),f(m,y,e-1),_=h}else{if(_!=u)throw new Error('attribute value must after "="');y=t.slice(e,g).replace(/&#?\w+;/g,r),f(m,y,e),p.warning('attribute "'+m+'" missed start quot('+v+")!!"),e=g+1,_=h}break;case"/":switch(_){case s:i.setTagName(t.slice(e,g));case h:case c:case d:_=d,i.closed=!0;case u:case a:case o:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return p.error("unexpected end of input"),_==s&&i.setTagName(t.slice(e,g)),g;case">":switch(_){case s:i.setTagName(t.slice(e,g));case h:case c:case d:break;case u:case a:y=t.slice(e,g),"/"===y.slice(-1)&&(i.closed=!0,y=y.slice(0,-1));case o:_===o&&(y=m),_==u?(p.warning('attribute "'+y+'" missed quot(")!'),f(m,y.replace(/&#?\w+;/g,r),e)):("http://www.w3.org/1999/xhtml"===n[""]&&y.match(/^(?:disabled|checked|selected)$/i)||p.warning('attribute "'+y+'" missed value!! "'+y+'" instead!!'),f(y,y,e));break;case l:throw new Error("attribute value missed!!")}return g;case"":v=" ";default:if(v<=" ")switch(_){case s:i.setTagName(t.slice(e,g)),_=c;break;case a:m=t.slice(e,g),_=o;break;case u:var y=t.slice(e,g).replace(/&#?\w+;/g,r);p.warning('attribute "'+y+'" missed quot(")!!'),f(m,y,e);case h:_=c;break}else switch(_){case o:i.tagName;"http://www.w3.org/1999/xhtml"===n[""]&&m.match(/^(?:disabled|checked|selected)$/i)||p.warning('attribute "'+m+'" missed value!! "'+m+'" instead2!!'),f(m,m,e),e=g,_=a;break;case h:p.warning('attribute space is required"'+m+'"!!');case c:_=a,e=g;break;case l:_=u,e=g;break;case d:throw new Error("elements closed character '/' and '>' must be connected to")}}g++}}function v(t,e,i){var n=t.tagName,r=null,s=t.length;while(s--){var a=t[s],o=a.qName,l=a.value,u=o.indexOf(":");if(u>0)var h=a.prefix=o.slice(0,u),c=o.slice(u+1),d="xmlns"===h&&c;else c=o,h=null,d="xmlns"===o&&"";a.localName=c,!1!==d&&(null==r&&(r={},T(i,i={})),i[d]=r[d]=l,a.uri="http://www.w3.org/2000/xmlns/",e.startPrefixMapping(d,l))}s=t.length;while(s--){a=t[s];h=a.prefix;h&&("xml"===h&&(a.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==h&&(a.uri=i[h||""]))}u=n.indexOf(":");u>0?(h=t.prefix=n.slice(0,u),c=t.localName=n.slice(u+1)):(h=null,c=t.localName=n);var p=t.uri=i[h||""];if(e.startElement(p,c,n,t),!t.closed)return t.currentNSMap=i,t.localNSMap=r,!0;if(e.endElement(p,c,n),r)for(h in r)e.endPrefixMapping(h)}function y(t,e,i,n,r){if(/^(?:script|textarea)$/i.test(i)){var s=t.indexOf("</"+i+">",e),a=t.substring(e+1,s);if(/[&<]/.test(a))return/^script$/i.test(i)?(r.characters(a,0,a.length),s):(a=a.replace(/&#?\w+;/g,n),r.characters(a,0,a.length),s)}return e+1}function b(t,e,i,n){var r=n[i];return null==r&&(r=t.lastIndexOf("</"+i+">"),r<e&&(r=t.lastIndexOf("</"+i)),n[i]=r),r<e}function T(t,e){for(var i in t)e[i]=t[i]}function w(t,e,i,n){var r=t.charAt(e+2);switch(r){case"-":if("-"===t.charAt(e+3)){var s=t.indexOf("--\x3e",e+4);return s>e?(i.comment(t,e+4,s-e-4),s+3):(n.error("Unclosed comment"),-1)}return-1;default:if("CDATA["==t.substr(e+3,6)){s=t.indexOf("]]>",e+9);return i.startCDATA(),i.characters(t,e+9,s-e-9),i.endCDATA(),s+3}var a=C(t,e),o=a.length;if(o>1&&/!doctype/i.test(a[0][0])){var l=a[1][0],u=!1,h=!1;o>3&&(/^public$/i.test(a[2][0])?(u=a[3][0],h=o>4&&a[4][0]):/^system$/i.test(a[2][0])&&(h=a[3][0]));var c=a[o-1];return i.startDTD(l,u,h),i.endDTD(),c.index+c[0].length}}return-1}function S(t,e,i){var n=t.indexOf("?>",e);if(n){var r=t.substring(e,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(r){r[0].length;return i.processingInstruction(r[1],r[2]),n+2}return-1}return-1}function E(){this.attributeNames={}}function C(t,e){var i,n=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;r.lastIndex=e,r.exec(t);while(i=r.exec(t))if(n.push(i),i[1])return n}p.prototype=new Error,p.prototype.name=p.name,f.prototype={parse:function(t,e,i){var n=this.domBuilder;n.startDocument(),T(e,e={}),m(t,e,i,n,this.errorHandler),n.endDocument()}},E.prototype={setTagName:function(t){if(!r.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,i){if(!r.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:i}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}},e.XMLReader=f,e.ParseError=p},"8ff2":function(t,e,i){},9e3:function(t,e,i){"use strict";e.__esModule=!0;var n=i("f545"),r=g(n),s=i("61b0"),a=m(s),o=i("7e70"),l=m(o),u=i("eed3"),h=m(u),c=i("b553"),d=m(c),p=i("1e3d"),f=m(p);function m(t){return t&&t.__esModule?t:{default:t}}function g(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function y(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var b=function(t){function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_(this,e),void 0===n.inline&&(n.inline=!0),void 0===n.vertical&&(n.inline?n.vertical=!1:n.vertical=!0),n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=!!n.vertical;var r=v(this,t.call(this,i,n));function s(){i.tech_&&!1===i.tech_.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}return r.on(i,"volumechange",r.volumeUpdate),r.on(i,"loadstart",r.volumeUpdate),s.call(r),r.on(i,"loadstart",s),r.on(r.volumeBar,["slideractive","focus"],(function(){this.addClass("vjs-slider-active")})),r.on(r.volumeBar,["sliderinactive","blur"],(function(){this.removeClass("vjs-slider-active")})),r.on(r.volumeBar,["focus"],(function(){this.addClass("vjs-lock-showing")})),r.on(r.volumeBar,["blur"],(function(){this.removeClass("vjs-lock-showing")})),r}return y(e,t),e.prototype.buildCSSClass=function(){var e="";return e=this.options_.vertical?"vjs-volume-menu-button-vertical":"vjs-volume-menu-button-horizontal","vjs-volume-menu-button "+t.prototype.buildCSSClass.call(this)+" "+e},e.prototype.createPopup=function(){var t=new l["default"](this.player_,{contentElType:"div"}),e=new f["default"](this.player_,this.options_.volumeBar);return t.addChild(e),this.menuContent=t,this.volumeBar=e,this.attachVolumeBarEvents(),t},e.prototype.handleClick=function(e){d["default"].prototype.handleClick.call(this),t.prototype.handleClick.call(this)},e.prototype.attachVolumeBarEvents=function(){this.menuContent.on(["mousedown","touchdown"],r.bind(this,this.handleMouseDown))},e.prototype.handleMouseDown=function(t){this.on(["mousemove","touchmove"],r.bind(this.volumeBar,this.volumeBar.handleMouseMove)),this.on(this.el_.ownerDocument,["mouseup","touchend"],this.handleMouseUp)},e.prototype.handleMouseUp=function(t){this.off(["mousemove","touchmove"],r.bind(this.volumeBar,this.volumeBar.handleMouseMove))},e}(h["default"]);b.prototype.volumeUpdate=d["default"].prototype.update,b.prototype.controlText_="Mute",a["default"].registerComponent("VolumeMenuButton",b),e["default"]=b},"90a6":function(t,e,i){"use strict";e.__esModule=!0;var n=i("61b0"),r=$(n),s=i("9869"),a=$(s),o=i("a178"),l=$(o),u=i("3a09"),h=W(u),c=i("702d"),d=W(c),p=i("f545"),f=W(p),m=i("d8e3"),g=W(m),_=i("4e2d"),v=W(_),y=i("320e"),b=$(y),T=i("d016"),w=$(T),S=i("7a67"),E=i("4ed8"),C=i("bbc3"),k=W(C),x=i("ff09"),M=$(x),A=i("e34b"),I=$(A),O=i("8c10"),P=$(O),L=i("cff3"),R=i("3afa"),D=$(R),N=i("17f8"),B=$(N),j=i("52b4"),U=$(j),F=i("cf31"),z=$(F),V=i("fc20"),H=$(V),q=i("0029"),G=$(q);function W(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function $(t){return t&&t.__esModule?t:{default:t}}function K(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function X(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i("3479"),i("0956"),i("7159"),i("58d3"),i("995a"),i("8bbe"),i("29df"),i("e6f5"),i("f181"),i("c881"),i("214b");var Y=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","ratechange","volumechange","texttrackchange"],Q=function(t){function e(i,n,r){if(K(this,e),i.id=i.id||"vjs_video_"+g.newGUID(),n=(0,L.assign)(e.getTagSettings(i),n),n.initChildren=!1,n.createEl=!1,n.reportTouchActivity=!1,!n.language)if("function"===typeof i.closest){var s=i.closest("[lang]");s&&(n.language=s.getAttribute("lang"))}else{var a=i;while(a&&1===a.nodeType){if(d.getElAttributes(a).hasOwnProperty("lang")){n.language=a.getAttribute("lang");break}a=a.parentNode}}var o=Z(this,t.call(this,null,n,r));if(!o.options_||!o.options_.techOrder||!o.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(o.tag=i,o.tagAttributes=i&&d.getElAttributes(i),o.language(o.options_.language),n.languages){var l={};Object.getOwnPropertyNames(n.languages).forEach((function(t){l[t.toLowerCase()]=n.languages[t]})),o.languages_=l}else o.languages_=e.prototype.options_.languages;o.cache_={},o.poster_=n.poster||"",o.controls_=!!n.controls,i.controls=!1,o.scrubbing_=!1,o.el_=o.createEl();var u=(0,D["default"])(o.options_);if(n.plugins){var h=n.plugins;Object.getOwnPropertyNames(h).forEach((function(t){"function"===typeof this[t]?this[t](h[t]):b["default"].error("Unable to find plugin:",t)}),o)}o.options_.playerOptions=u,o.initChildren(),o.isAudio("audio"===i.nodeName.toLowerCase()),o.controls()?o.addClass("vjs-controls-enabled"):o.addClass("vjs-controls-disabled"),o.el_.setAttribute("role","region"),o.isAudio()?o.el_.setAttribute("aria-label","audio player"):o.el_.setAttribute("aria-label","video player"),o.isAudio()&&o.addClass("vjs-audio"),o.flexNotSupported_()&&o.addClass("vjs-no-flex"),v.IS_IOS||o.addClass("vjs-workinghover"),e.players[o.id_]=o;var c="5.20.5".split(".")[0];return o.addClass("vjs-v"+c),o.userActive(!0),o.reportUserActivity(),o.listenForUserActivity_(),o.on("fullscreenchange",o.handleFullscreenChange_),o.on("stageclick",o.handleStageClick_),o}return X(e,t),e.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&this.styleEl_.parentNode.removeChild(this.styleEl_),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&this.tech_.dispose(),t.prototype.dispose.call(this)},e.prototype.createEl=function(){var e=this.tag,i=void 0,n=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");i=this.el_=n?e.parentNode:t.prototype.createEl.call(this,"div"),e.setAttribute("tabindex","-1"),e.removeAttribute("width"),e.removeAttribute("height");var r=d.getElAttributes(e);if(Object.getOwnPropertyNames(r).forEach((function(t){"class"===t?i.className+=" "+r[t]:i.setAttribute(t,r[t])})),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=i.player=this,this.addClass("vjs-paused"),!0!==l["default"].VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=k.createStyleElement("vjs-styles-dimensions");var s=d.$(".vjs-styles-defaults"),a=d.$("head");a.insertBefore(this.styleEl_,s?s.nextSibling:a.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var o=e.getElementsByTagName("a"),u=0;u<o.length;u++){var h=o.item(u);d.addElClass(h,"vjs-hidden"),h.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!n&&e.parentNode.insertBefore(i,e),d.insertElFirst(e,i),this.children_.unshift(e),this.el_=i,i},e.prototype.width=function(t){return this.dimension("width",t)},e.prototype.height=function(t){return this.dimension("height",t)},e.prototype.dimension=function(t,e){var i=t+"_";if(void 0===e)return this[i]||0;if(""===e)this[i]=void 0;else{var n=parseFloat(e);if(isNaN(n))return b["default"].error('Improper value "'+e+'" supplied for for '+t),this;this[i]=n}return this.updateStyleEl_(),this},e.prototype.fluid=function(t){if(void 0===t)return!!this.fluid_;this.fluid_=!!t,t?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),this.updateStyleEl_()},e.prototype.aspectRatio=function(t){if(void 0===t)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},e.prototype.updateStyleEl_=function(){if(!0!==l["default"].VIDEOJS_NO_DYNAMIC_STYLE){var t=void 0,e=void 0,i=void 0,n=void 0;i=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";var r=i.split(":"),s=r[1]/r[0];t=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/s:this.videoWidth()||300,e=void 0!==this.height_?this.height_:t*s,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),k.setTextContent(this.styleEl_,"\n      ."+n+" {\n        width: "+t+"px;\n        height: "+e+"px;\n      }\n\n      ."+n+".vjs-fluid {\n        padding-top: "+100*s+"%;\n      }\n    ")}else{var a="number"===typeof this.width_?this.width_:this.options_.width,o="number"===typeof this.height_?this.height_:this.options_.height,u=this.tech_&&this.tech_.el();u&&(a>=0&&(u.width=a),o>=0&&(u.height=o))}},e.prototype.loadTech_=function(t,e){var i=this;this.tech_&&this.unloadTech_(),"Html5"!==t&&this.tag&&(z["default"].getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=t,this.isReady_=!1;var n=(0,L.assign)({source:e,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+t+"_api",videoTracks:this.videoTracks_,textTracks:this.textTracks_,audioTracks:this.audioTracks_,autoplay:this.options_.autoplay,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"]},this.options_[t.toLowerCase()]);this.tag&&(n.tag=this.tag),e&&(this.currentType_=e.type,e.src===this.cache_.src&&this.cache_.currentTime>0&&(n.startTime=this.cache_.currentTime),this.cache_.sources=null,this.cache_.source=e,this.cache_.src=e.src);var s=z["default"].getTech(t);s||(s=r["default"].getComponent(t)),this.tech_=new s(n),this.tech_.ready(f.bind(this,this.handleTechReady_),!0),B["default"].jsonToTextTracks(this.textTracksJson_||[],this.tech_),Y.forEach((function(t){i.on(i.tech_,t,i["handleTech"+(0,w["default"])(t)+"_"])})),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"canplay",this.handleTechCanPlay_),this.on(this.tech_,"canplaythrough",this.handleTechCanPlayThrough_),this.on(this.tech_,"playing",this.handleTechPlaying_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"seeked",this.handleTechSeeked_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===t&&this.tag||d.insertElFirst(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},e.prototype.unloadTech_=function(){this.videoTracks_=this.videoTracks(),this.textTracks_=this.textTracks(),this.audioTracks_=this.audioTracks(),this.textTracksJson_=B["default"].textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1},e.prototype.tech=function(t){if(t&&t.IWillNotUseThisInPlugins)return this.tech_;var e="\n      Please make sure that you are not using this inside of a plugin.\n      To disable this alert and error, please pass in an object with\n      `IWillNotUseThisInPlugins` to the `tech` method. See\n      https://github.com/videojs/video.js/issues/2617 for more info.\n    ";throw l["default"].alert(e),new Error(e)},e.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},e.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},e.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused()){try{delete this.tag.poster}catch(t){(0,b["default"])("deleting tag.poster throws in some browsers",t)}this.play()}},e.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},e.prototype.hasStarted=function(t){return void 0!==t?(this.hasStarted_!==t&&(this.hasStarted_=t,t?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):!!this.hasStarted_},e.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},e.prototype.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",(function(){return t.removeClass("vjs-waiting")}))},e.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},e.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},e.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},e.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},e.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},e.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&(b["default"].warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},e.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},e.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},e.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},e.prototype.handleTechClick_=function(t){0===t.button&&this.controls()&&(this.paused()?this.play():this.pause())},e.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},e.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},e.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},e.prototype.handleTechTouchEnd_=function(t){t.preventDefault()},e.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},e.prototype.handleStageClick_=function(){this.reportUserActivity()},e.prototype.handleTechFullscreenChange_=function(t,e){e&&this.isFullscreen(e.isFullscreen),this.trigger("fullscreenchange")},e.prototype.handleTechError_=function(){var t=this.tech_.error();this.error(t)},e.prototype.handleTechTextData_=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},e.prototype.getCache=function(){return this.cache_},e.prototype.techCall_=function(t,e){if(this.tech_&&!this.tech_.isReady_)this.tech_.ready((function(){this[t](e)}),!0);else try{this.tech_&&this.tech_[t](e)}catch(i){throw(0,b["default"])(i),i}},e.prototype.techGet_=function(t){if(this.tech_&&this.tech_.isReady_)try{return this.tech_[t]()}catch(e){throw void 0===this.tech_[t]?(0,b["default"])("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e):"TypeError"===e.name?((0,b["default"])("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1):(0,b["default"])(e),e}},e.prototype.play=function(){return this.src()||this.currentSrc()?this.techCall_("play"):this.tech_.one("loadstart",(function(){this.play()})),this},e.prototype.pause=function(){return this.techCall_("pause"),this},e.prototype.paused=function(){return!1!==this.techGet_("paused")},e.prototype.scrubbing=function(t){return void 0!==t?(this.scrubbing_=!!t,t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing"),this):this.scrubbing_},e.prototype.currentTime=function(t){return void 0!==t?(this.techCall_("setCurrentTime",t),this):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},e.prototype.duration=function(t){return void 0===t?void 0!==this.cache_.duration?this.cache_.duration:NaN:(t=parseFloat(t),t<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange")),this)},e.prototype.remainingTime=function(){return this.duration()-this.currentTime()},e.prototype.buffered=function(){var t=this.techGet_("buffered");return t&&t.length||(t=(0,S.createTimeRange)(0,0)),t},e.prototype.bufferedPercent=function(){return(0,E.bufferedPercent)(this.buffered(),this.duration())},e.prototype.bufferedEnd=function(){var t=this.buffered(),e=this.duration(),i=t.end(t.length-1);return i>e&&(i=e),i},e.prototype.volume=function(t){var e=void 0;return void 0!==t?(e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall_("setVolume",e),this):(e=parseFloat(this.techGet_("volume")),isNaN(e)?1:e)},e.prototype.muted=function(t){return void 0!==t?(this.techCall_("setMuted",t),this):this.techGet_("muted")||!1},e.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},e.prototype.isFullscreen=function(t){return void 0!==t?(this.isFullscreen_=!!t,this):!!this.isFullscreen_},e.prototype.requestFullscreen=function(){var t=M["default"];return this.isFullscreen(!0),t.requestFullscreen?(h.on(a["default"],t.fullscreenchange,f.bind(this,(function e(i){this.isFullscreen(a["default"][t.fullscreenElement]),!1===this.isFullscreen()&&h.off(a["default"],t.fullscreenchange,e),this.trigger("fullscreenchange")}))),this.el_[t.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},e.prototype.exitFullscreen=function(){var t=M["default"];return this.isFullscreen(!1),t.requestFullscreen?a["default"][t.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},e.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=a["default"].documentElement.style.overflow,h.on(a["default"],"keydown",f.bind(this,this.fullWindowOnEscKey)),a["default"].documentElement.style.overflow="hidden",d.addElClass(a["default"].body,"vjs-full-window"),this.trigger("enterFullWindow")},e.prototype.fullWindowOnEscKey=function(t){27===t.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},e.prototype.exitFullWindow=function(){this.isFullWindow=!1,h.off(a["default"],"keydown",this.fullWindowOnEscKey),a["default"].documentElement.style.overflow=this.docOrigOverflow,d.removeElClass(a["default"].body,"vjs-full-window"),this.trigger("exitFullWindow")},e.prototype.canPlayType=function(t){for(var e=void 0,i=0,n=this.options_.techOrder;i<n.length;i++){var s=(0,w["default"])(n[i]),a=z["default"].getTech(s);if(a||(a=r["default"].getComponent(s)),a){if(a.isSupported()&&(e=a.canPlayType(t),e))return e}else b["default"].error('The "'+s+'" tech is undefined. Skipped browser support check for that tech.')}return""},e.prototype.selectSource=function(t){var e=this,i=this.options_.techOrder.map(w["default"]).map((function(t){return[t,z["default"].getTech(t)||r["default"].getComponent(t)]})).filter((function(t){var e=t[0],i=t[1];return i?i.isSupported():(b["default"].error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.'),!1)})),n=function(t,e,i){var n=void 0;return t.some((function(t){return e.some((function(e){if(n=i(t,e),n)return!0}))})),n},s=void 0,a=function(t){return function(e,i){return t(i,e)}},o=function(t,i){var n=t[0],r=t[1];if(r.canPlaySource(i,e.options_[n.toLowerCase()]))return{source:i,tech:n}};return s=this.options_.sourceOrder?n(t,i,a(o)):n(i,t,o),s||!1},e.prototype.src=function(t){if(void 0===t)return this.techGet_("src");var e=z["default"].getTech(this.techName_);return e||(e=r["default"].getComponent(this.techName_)),Array.isArray(t)?this.sourceList_(t):"string"===typeof t?this.src({src:t}):t instanceof Object&&(t.type&&!e.canPlaySource(t,this.options_[this.techName_.toLowerCase()])?this.sourceList_([t]):(this.cache_.sources=null,this.cache_.source=t,this.cache_.src=t.src,this.currentType_=t.type||"",this.ready((function(){e.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),"auto"===this.options_.preload&&this.load(),this.options_.autoplay&&this.play()}),!0))),this},e.prototype.sourceList_=function(t){var e=this.selectSource(t);e?(e.tech===this.techName_?this.src(e.source):this.loadTech_(e.tech,e.source),this.cache_.sources=t):(this.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0),this.triggerReady())},e.prototype.load=function(){return this.techCall_("load"),this},e.prototype.reset=function(){return this.loadTech_((0,w["default"])(this.options_.techOrder[0]),null),this.techCall_("reset"),this},e.prototype.currentSources=function(){var t=this.currentSource(),e=[];return 0!==Object.keys(t).length&&e.push(t),this.cache_.sources||e},e.prototype.currentSource=function(){var t={},e=this.currentSrc();return e&&(t.src=e),this.cache_.source||t},e.prototype.currentSrc=function(){return this.techGet_("currentSrc")||this.cache_.src||""},e.prototype.currentType=function(){return this.currentType_||""},e.prototype.preload=function(t){return void 0!==t?(this.techCall_("setPreload",t),this.options_.preload=t,this):this.techGet_("preload")},e.prototype.autoplay=function(t){return void 0!==t?(this.techCall_("setAutoplay",t),this.options_.autoplay=t,this):this.techGet_("autoplay",t)},e.prototype.playsinline=function(t){return void 0!==t?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},e.prototype.loop=function(t){return void 0!==t?(this.techCall_("setLoop",t),this.options_.loop=t,this):this.techGet_("loop")},e.prototype.poster=function(t){return void 0===t?this.poster_:(t||(t=""),this.poster_=t,this.techCall_("setPoster",t),this.trigger("posterchange"),this)},e.prototype.handleTechPosterChange_=function(){!this.poster_&&this.tech_&&this.tech_.poster&&(this.poster_=this.tech_.poster()||"",this.trigger("posterchange"))},e.prototype.controls=function(t){return void 0!==t?(t=!!t,this.controls_!==t&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),t?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_())),this):!!this.controls_},e.prototype.usingNativeControls=function(t){return void 0!==t?(t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,t?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):!!this.usingNativeControls_},e.prototype.error=function(t){return void 0===t?this.error_||null:null===t?(this.error_=t,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close(),this):(this.error_=new I["default"](t),this.addClass("vjs-error"),b["default"].error("(CODE:"+this.error_.code+" "+I["default"].errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),this)},e.prototype.reportUserActivity=function(t){this.userActivity_=!0},e.prototype.userActive=function(t){return void 0!==t?(t=!!t,t!==this.userActive_&&(this.userActive_=t,t?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech_&&this.tech_.one("mousemove",(function(t){t.stopPropagation(),t.preventDefault()})),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.userActive_},e.prototype.listenForUserActivity_=function(){var t=void 0,e=void 0,i=void 0,n=f.bind(this,this.reportUserActivity),r=function(t){t.screenX===e&&t.screenY===i||(e=t.screenX,i=t.screenY,n())},s=function(){n(),this.clearInterval(t),t=this.setInterval(n,250)},a=function(e){n(),this.clearInterval(t)};this.on("mousedown",s),this.on("mousemove",r),this.on("mouseup",a),this.on("keydown",n),this.on("keyup",n);var o=void 0;this.setInterval((function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(o);var t=this.options_.inactivityTimeout;t>0&&(o=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),t))}}),250)},e.prototype.playbackRate=function(t){return void 0!==t?(this.techCall_("setPlaybackRate",t),this):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("playbackRate"):1},e.prototype.isAudio=function(t){return void 0!==t?(this.isAudio_=!!t,this):!!this.isAudio_},e.prototype.videoTracks=function(){return this.tech_?this.tech_.videoTracks():(this.videoTracks_=this.videoTracks_||new G["default"],this.videoTracks_)},e.prototype.audioTracks=function(){return this.tech_?this.tech_.audioTracks():(this.audioTracks_=this.audioTracks_||new H["default"],this.audioTracks_)},e.prototype.textTracks=function(){if(this.tech_)return this.tech_.textTracks()},e.prototype.remoteTextTracks=function(){if(this.tech_)return this.tech_.remoteTextTracks()},e.prototype.remoteTextTrackEls=function(){if(this.tech_)return this.tech_.remoteTextTrackEls()},e.prototype.addTextTrack=function(t,e,i){if(this.tech_)return this.tech_.addTextTrack(t,e,i)},e.prototype.addRemoteTextTrack=function(t,e){if(this.tech_)return this.tech_.addRemoteTextTrack(t,e)},e.prototype.removeRemoteTextTrack=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.track,i=void 0===e?arguments[0]:e;if(this.tech_)return this.tech_.removeRemoteTextTrack(i)},e.prototype.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},e.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},e.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},e.prototype.language=function(t){return void 0===t?this.language_:(this.language_=String(t).toLowerCase(),this)},e.prototype.languages=function(){return(0,D["default"])(e.prototype.options_.languages,this.languages_)},e.prototype.toJSON=function(){var t=(0,D["default"])(this.options_),e=t.tracks;t.tracks=[];for(var i=0;i<e.length;i++){var n=e[i];n=(0,D["default"])(n),n.player=void 0,t.tracks[i]=n}return t},e.prototype.createModal=function(t,e){var i=this;e=e||{},e.content=t||"";var n=new U["default"](this,e);return this.addChild(n),n.on("dispose",(function(){i.removeChild(n)})),n.open()},e.getTagSettings=function(t){var e={sources:[],tracks:[]},i=d.getElAttributes(t),n=i["data-setup"];if(d.hasElClass(t,"vjs-fluid")&&(i.fluid=!0),null!==n){var r=(0,P["default"])(n||"{}"),s=r[0],a=r[1];s&&b["default"].error(s),(0,L.assign)(i,a)}if((0,L.assign)(e,i),t.hasChildNodes())for(var o=t.childNodes,l=0,u=o.length;l<u;l++){var h=o[l],c=h.nodeName.toLowerCase();"source"===c?e.sources.push(d.getElAttributes(h)):"track"===c&&e.tracks.push(d.getElAttributes(h))}return e},e.prototype.flexNotSupported_=function(){var t=a["default"].createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},e}(r["default"]);Q.players={};var J=l["default"].navigator;Q.prototype.options_={techOrder:["html5","flash"],html5:{},flash:{},defaultVolume:0,inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:J&&(J.languages&&J.languages[0]||J.userLanguage||J.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},["ended","seeking","seekable","networkState","readyState"].forEach((function(t){Q.prototype[t]=function(){return this.techGet_(t)}})),Y.forEach((function(t){Q.prototype["handleTech"+(0,w["default"])(t)+"_"]=function(){return this.trigger(t)}})),r["default"].registerComponent("Player",Q),e["default"]=Q},9152:function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,i,n,r){var s,a,o=8*r-n-1,l=(1<<o)-1,u=l>>1,h=-7,c=i?r-1:0,d=i?-1:1,p=t[e+c];for(c+=d,s=p&(1<<-h)-1,p>>=-h,h+=o;h>0;s=256*s+t[e+c],c+=d,h-=8);for(a=s&(1<<-h)-1,s>>=-h,h+=n;h>0;a=256*a+t[e+c],c+=d,h-=8);if(0===s)s=1-u;else{if(s===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),s-=u}return(p?-1:1)*a*Math.pow(2,s-n)},e.write=function(t,e,i,n,r,s){var a,o,l,u=8*s-r-1,h=(1<<u)-1,c=h>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:s-1,f=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=h):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),e+=a+c>=1?d/l:d*Math.pow(2,1-c),e*l>=2&&(a++,l/=2),a+c>=h?(o=0,a=h):a+c>=1?(o=(e*l-1)*Math.pow(2,r),a+=c):(o=e*Math.pow(2,c-1)*Math.pow(2,r),a=0));r>=8;t[i+p]=255&o,p+=f,o/=256,r-=8);for(a=a<<r|o,u+=r;u>0;t[i+p]=255&a,p+=f,a/=256,u-=8);t[i+p-f]|=128*m}},"96d3":function(t,e,i){"use strict";e.__esModule=!0;var n=i("cfb5"),r=c(n),s=i("61b0"),a=c(s),o=i("3e51"),l=c(o),u=i("3852"),h=c(u);function c(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function f(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var m=function(t){function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d(this,e),n.tracks=i.textTracks(),p(this,t.call(this,i,n))}return f(e,t),e.prototype.createItems=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.push(new h["default"](this.player_,{kind:this.kind_})),this.hideThreshold_+=1;var e=this.player_.textTracks();if(!e)return t;for(var i=0;i<e.length;i++){var n=e[i];n.kind===this.kind_&&t.push(new l["default"](this.player_,{track:n,selectable:!0}))}return t},e}(r["default"]);a["default"].registerComponent("TextTrackButton",m),e["default"]=m},9869:function(t,e,i){(function(e){var n="undefined"!==typeof e?e:"undefined"!==typeof window?window:{},r=i(3);if("undefined"!==typeof document)t.exports=document;else{var s=n["__GLOBAL_DOCUMENT_CACHE@4"];s||(s=n["__GLOBAL_DOCUMENT_CACHE@4"]=r),t.exports=s}}).call(this,i("c8ba"))},"995a":function(t,e,i){"use strict";e.__esModule=!0;var n=i("61b0"),r=s(n);function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(t){function e(){return a(this,e),o(this,t.apply(this,arguments))}return l(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})},e}(r["default"]);r["default"].registerComponent("LoadingSpinner",u),e["default"]=u},9988:function(t,e,i){var n=i("8c81"),r=t.exports={WebVTT:i("b097"),VTTCue:i("9c50"),VTTRegion:i("2585")};n.vttjs=r,n.WebVTT=r.WebVTT;var s=r.VTTCue,a=r.VTTRegion,o=n.VTTCue,l=n.VTTRegion;r.shim=function(){n.VTTCue=s,n.VTTRegion=a},r.restore=function(){n.VTTCue=o,n.VTTRegion=l},n.VTTCue||r.shim()},"99d9":function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("b0af"),r=i("80d2");const s=Object(r["i"])("v-card__actions"),a=Object(r["i"])("v-card__subtitle"),o=Object(r["i"])("v-card__text"),l=Object(r["i"])("v-card__title");n["a"]},"9b40":function(t,e,i){var n,r,s;(function(a){r=[i("e11e"),i("a79f")],n=a,s="function"===typeof n?n.apply(e,r):n,void 0===s||(t.exports=s)})((function(t,e){return e.__esModule&&e.default&&(e=e.default),t.Proj={},t.Proj._isProj4Obj=function(t){return"undefined"!==typeof t.inverse&&"undefined"!==typeof t.forward},t.Proj.Projection=t.Class.extend({initialize:function(e,i,n){var r=t.Proj._isProj4Obj(e);this._proj=r?e:this._projFromCodeDef(e,i),this.bounds=r?i:n},project:function(e){var i=this._proj.forward([e.lng,e.lat]);return new t.Point(i[0],i[1])},unproject:function(e,i){var n=this._proj.inverse([e.x,e.y]);return new t.LatLng(n[1],n[0],i)},_projFromCodeDef:function(t,i){if(i)e.defs(t,i);else if(void 0===e.defs[t]){var n=t.split(":");if(n.length>3&&(t=n[n.length-3]+":"+n[n.length-1]),void 0===e.defs[t])throw"No projection definition for code "+t}return e(t)}}),t.Proj.CRS=t.Class.extend({includes:t.CRS,options:{transformation:new t.Transformation(1,0,-1,0)},initialize:function(e,i,n){var r,s,a,o;if(t.Proj._isProj4Obj(e)?(s=e,r=s.srsCode,o=i||{},this.projection=new t.Proj.Projection(s,o.bounds)):(r=e,a=i,o=n||{},this.projection=new t.Proj.Projection(r,a,o.bounds)),t.Util.setOptions(this,o),this.code=r,this.transformation=this.options.transformation,this.options.origin&&(this.transformation=new t.Transformation(1,-this.options.origin[0],-1,this.options.origin[1])),this.options.scales)this._scales=this.options.scales;else if(this.options.resolutions){this._scales=[];for(var l=this.options.resolutions.length-1;l>=0;l--)this.options.resolutions[l]&&(this._scales[l]=1/this.options.resolutions[l])}this.infinite=!this.options.bounds},scale:function(t){var e,i,n,r,s=Math.floor(t);return t===s?this._scales[t]:(e=this._scales[s],i=this._scales[s+1],n=i-e,r=t-s,e+n*r)},zoom:function(t){var e,i,n,r=this._closestElement(this._scales,t),s=this._scales.indexOf(r);return t===r?s:void 0===r?-1/0:(i=s+1,e=this._scales[i],void 0===e?1/0:(n=e-r,(t-r)/n+s))},distance:t.CRS.Earth.distance,R:t.CRS.Earth.R,_closestElement:function(t,e){for(var i,n=t.length;n--;)t[n]<=e&&(void 0===i||i<t[n])&&(i=t[n]);return i}}),t.Proj.GeoJSON=t.GeoJSON.extend({initialize:function(e,i){this._callLevel=0,t.GeoJSON.prototype.initialize.call(this,e,i)},addData:function(e){var i;e&&(e.crs&&"name"===e.crs.type?i=new t.Proj.CRS(e.crs.properties.name):e.crs&&e.crs.type&&(i=new t.Proj.CRS(e.crs.type+":"+e.crs.properties.code)),void 0!==i&&(this.options.coordsToLatLng=function(e){var n=t.point(e[0],e[1]);return i.projection.unproject(n)})),this._callLevel++;try{t.GeoJSON.prototype.addData.call(this,e)}finally{this._callLevel--,0===this._callLevel&&delete this.options.coordsToLatLng}}}),t.Proj.geoJson=function(e,i){return new t.Proj.GeoJSON(e,i)},t.Proj.ImageOverlay=t.ImageOverlay.extend({initialize:function(e,i,n){t.ImageOverlay.prototype.initialize.call(this,e,null,n),this._projectedBounds=i},_animateZoom:function(e){var i=this._map.getZoomScale(e.zoom),n=t.point(this._projectedBounds.min.x,this._projectedBounds.max.y),r=this._projectedToNewLayerPoint(n,e.zoom,e.center);t.DomUtil.setTransform(this._image,r,i)},_reset:function(){var e=this._map.getZoom(),i=this._map.getPixelOrigin(),n=t.bounds(this._transform(this._projectedBounds.min,e)._subtract(i),this._transform(this._projectedBounds.max,e)._subtract(i)),r=n.getSize();t.DomUtil.setPosition(this._image,n.min),this._image.style.width=r.x+"px",this._image.style.height=r.y+"px"},_projectedToNewLayerPoint:function(t,e,i){var n=this._map.getSize()._divideBy(2),r=this._map.project(i,e)._subtract(n)._round(),s=r.add(this._map._getMapPanePos());return this._transform(t,e)._subtract(s)},_transform:function(t,e){var i=this._map.options.crs,n=i.transformation,r=i.scale(e);return n.transform(t,r)}}),t.Proj.imageOverlay=function(e,i,n){return new t.Proj.ImageOverlay(e,i,n)},t.Proj}))},"9c50":function(t,e){var i="auto",n={"":!0,lr:!0,rl:!0},r={start:!0,middle:!0,end:!0,left:!0,right:!0};function s(t){if("string"!==typeof t)return!1;var e=n[t.toLowerCase()];return!!e&&t.toLowerCase()}function a(t){if("string"!==typeof t)return!1;var e=r[t.toLowerCase()];return!!e&&t.toLowerCase()}function o(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)t[n]=i[n]}return t}function l(t,e,n){var r=this,l=/MSIE\s8\.0/.test(navigator.userAgent),u={};l?r=document.createElement("custom"):u.enumerable=!0,r.hasBeenReset=!1;var h="",c=!1,d=t,p=e,f=n,m=null,g="",_=!0,v="auto",y="start",b=50,T="middle",w=50,S="middle";if(Object.defineProperty(r,"id",o({},u,{get:function(){return h},set:function(t){h=""+t}})),Object.defineProperty(r,"pauseOnExit",o({},u,{get:function(){return c},set:function(t){c=!!t}})),Object.defineProperty(r,"startTime",o({},u,{get:function(){return d},set:function(t){if("number"!==typeof t)throw new TypeError("Start time must be set to a number.");d=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"endTime",o({},u,{get:function(){return p},set:function(t){if("number"!==typeof t)throw new TypeError("End time must be set to a number.");p=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"text",o({},u,{get:function(){return f},set:function(t){f=""+t,this.hasBeenReset=!0}})),Object.defineProperty(r,"region",o({},u,{get:function(){return m},set:function(t){m=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"vertical",o({},u,{get:function(){return g},set:function(t){var e=s(t);if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");g=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"snapToLines",o({},u,{get:function(){return _},set:function(t){_=!!t,this.hasBeenReset=!0}})),Object.defineProperty(r,"line",o({},u,{get:function(){return v},set:function(t){if("number"!==typeof t&&t!==i)throw new SyntaxError("An invalid number or illegal string was specified.");v=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"lineAlign",o({},u,{get:function(){return y},set:function(t){var e=a(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"position",o({},u,{get:function(){return b},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"positionAlign",o({},u,{get:function(){return T},set:function(t){var e=a(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");T=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"size",o({},u,{get:function(){return w},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");w=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"align",o({},u,{get:function(){return S},set:function(t){var e=a(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");S=e,this.hasBeenReset=!0}})),r.displayState=void 0,l)return r}l.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},t.exports=l},"9d26":function(t,e,i){"use strict";var n=i("132d");e["a"]=n["a"]},"9d65":function(t,e,i){"use strict";var n=i("d9bd"),r=i("2b0e");e["a"]=r["a"].extend().extend({name:"bootable",props:{eager:Boolean},data:()=>({isBooted:!1}),computed:{hasContent(){return this.isBooted||this.eager||this.isActive}},watch:{isActive(){this.isBooted=!0}},created(){"lazy"in this.$attrs&&Object(n["e"])("lazy",this)},methods:{showLazyContent(t){return this.hasContent&&t?t():[this.$createElement()]}}})},"9e17":function(t,e,i){"use strict";e.__esModule=!0;var n=i("e177"),r=h(n),s=i("61b0"),a=h(s),o=i("f545"),l=u(o);function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function h(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function p(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(i,n){c(this,e);var r=n.track,s=n.cue,a=i.currentTime();n.selectable=!0,n.label=s.text,n.selected=s.startTime<=a&&a<s.endTime;var o=d(this,t.call(this,i,n));return o.track=r,o.cue=s,r.addEventListener("cuechange",l.bind(o,o.update)),o}return p(e,t),e.prototype.handleClick=function(e){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},e.prototype.update=function(t){var e=this.cue,i=this.player_.currentTime();this.selected(e.startTime<=i&&i<e.endTime)},e}(r["default"]);a["default"].registerComponent("ChaptersTrackMenuItem",f),e["default"]=f},a178:function(t,e,i){(function(e){"undefined"!==typeof window?t.exports=window:"undefined"!==typeof e?t.exports=e:"undefined"!==typeof self?t.exports=self:t.exports={}}).call(this,i("c8ba"))},a293:function(t,e,i){"use strict";function n(){return!0}function r(t,e,i){const r="function"===typeof i.value?i.value:i.value.handler,s="object"===typeof i.value&&i.value.closeConditional||n;if(!t||!1===s(t))return;const a=("object"===typeof i.value&&i.value.include||(()=>[]))();a.push(e),!a.some(e=>e.contains(t.target))&&setTimeout(()=>{s(t)&&r&&r(t)},0)}const s={inserted(t,e){const i=i=>r(i,t,e),n=document.querySelector("[data-app]")||document.body;n.addEventListener("click",i,!0),t._clickOutside=i},unbind(t){if(!t._clickOutside)return;const e=document.querySelector("[data-app]")||document.body;e&&e.removeEventListener("click",t._clickOutside,!0),delete t._clickOutside}};e["a"]=s},a34f:function(t,e,i){"use strict";var n,r;e.__esModule=!0;"function"===typeof Symbol&&Symbol.iterator;var s=i("a178"),a=tt(s),o=i("9869"),l=tt(o),u=i("4e2d"),h=J(u),c=i("702d"),d=J(c),p=i("18ce"),f=J(p),m=i("bbc3"),g=J(m),_=i("61b0"),v=tt(_),y=i("6a64"),b=tt(y),T=i("3a09"),w=J(T),S=i("90a6"),E=tt(S),C=i("5ea1"),k=tt(C),x=i("3afa"),M=tt(x),A=i("f545"),I=J(A),O=i("12a0"),P=tt(O),L=i("d745"),R=tt(L),D=i("1776"),N=tt(D),B=i("7a67"),j=i("b0f9"),U=tt(j),F=i("320e"),z=tt(F),V=i("6aec"),H=J(V),q=i("cff3"),G=i("8854"),W=tt(G),$=i("f7fe"),K=tt($),Z=i("d664"),X=tt(Z),Y=i("cf31"),Q=tt(Y);function J(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function tt(t){return t&&t.__esModule?t:{default:t}}function et(t,e,i){var n=void 0;if("string"===typeof t){if(0===t.indexOf("#")&&(t=t.slice(1)),et.getPlayers()[t])return e&&z["default"].warn('Player "'+t+'" is already initialised. Options will not be applied.'),i&&et.getPlayers()[t].ready(i),et.getPlayers()[t];n=d.getEl(t)}else n=t;if(!n||!n.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");if(n.player||E["default"].players[n.playerId])return n.player||E["default"].players[n.playerId];e=e||{},et.hooks("beforesetup").forEach((function(t){var i=t(n,(0,M["default"])(e));(0,q.isObject)(i)&&!Array.isArray(i)?e=(0,M["default"])(e,i):z["default"].error("please return an object in beforesetup hooks")}));var r=v["default"].getComponent("Player"),s=new r(n,e,i);return et.hooks("setup").forEach((function(t){return t(s)})),s}if("undefined"===typeof HTMLVideoElement&&d.isReal()&&(l["default"].createElement("video"),l["default"].createElement("audio"),l["default"].createElement("track")),et.hooks_={},et.hooks=function(t,e){return et.hooks_[t]=et.hooks_[t]||[],e&&(et.hooks_[t]=et.hooks_[t].concat(e)),et.hooks_[t]},et.hook=function(t,e){et.hooks(t,e)},et.removeHook=function(t,e){var i=et.hooks(t).indexOf(e);return!(i<=-1)&&(et.hooks_[t]=et.hooks_[t].slice(),et.hooks_[t].splice(i,1),!0)},!0!==a["default"].VIDEOJS_NO_DYNAMIC_STYLE&&d.isReal()){var it=d.$(".vjs-styles-defaults");if(!it){it=g.createStyleElement("vjs-styles-defaults");var nt=d.$("head");nt&&nt.insertBefore(it,nt.firstChild),g.setTextContent(it,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}f.autoSetupTimeout(1,et),et.VERSION="5.20.5",et.options=E["default"].prototype.options_,et.getPlayers=function(){return E["default"].players},et.players=E["default"].players,et.getComponent=v["default"].getComponent,et.registerComponent=function(t,e){Q["default"].isTech(e)&&z["default"].warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),v["default"].registerComponent.call(v["default"],t,e)},et.getTech=Q["default"].getTech,et.registerTech=Q["default"].registerTech,et.browser=h,et.TOUCH_ENABLED=h.TOUCH_ENABLED,et.extend=K["default"],et.mergeOptions=M["default"],et.bind=I.bind,et.plugin=k["default"],et.addLanguage=function(t,e){var i;return t=(""+t).toLowerCase(),et.options.languages=(0,M["default"])(et.options.languages,(i={},i[t]=e,i)),et.options.languages[t]},et.log=z["default"],et.createTimeRange=et.createTimeRanges=B.createTimeRanges,et.formatTime=U["default"],et.parseUrl=H.parseUrl,et.isCrossOrigin=H.isCrossOrigin,et.EventTarget=b["default"],et.on=w.on,et.one=w.one,et.off=w.off,et.trigger=w.trigger,et.xhr=X["default"],et.TextTrack=P["default"],et.AudioTrack=R["default"],et.VideoTrack=N["default"],et.isEl=d.isEl,et.isTextNode=d.isTextNode,et.createEl=d.createEl,et.hasClass=d.hasElClass,et.addClass=d.addElClass,et.removeClass=d.removeElClass,et.toggleClass=d.toggleElClass,et.setAttributes=d.setElAttributes,et.getAttributes=d.getElAttributes,et.emptyEl=d.emptyEl,et.appendContent=d.appendContent,et.insertContent=d.insertContent,et.computedStyle=W["default"],n=[],r=function(){return et}.apply(e,n),void 0===r||(t.exports=r),e["default"]=et},a559:function(t,e){function i(){return t.exports=i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},t.exports["default"]=t.exports,t.exports.__esModule=!0,i.apply(this,arguments)}t.exports=i,t.exports["default"]=t.exports,t.exports.__esModule=!0},a79f:function(t,e,i){"use strict";i.r(e);var n=function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]},r=1,s=2,a=3,o=4,l=5,u=6378137,h=6356752.314,c=.0066943799901413165,d=484813681109536e-20,p=Math.PI/2,f=.16666666666666666,m=.04722222222222222,g=.022156084656084655,_=1e-10,v=.017453292519943295,y=57.29577951308232,b=Math.PI/4,T=2*Math.PI,w=3.14159265359,S={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},E={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},C=/[\s_\-\/\(\)]/g;function k(t,e){if(t[e])return t[e];var i,n,r=Object.keys(t),s=e.toLowerCase().replace(C,""),a=-1;while(++a<r.length)if(i=r[a],n=i.toLowerCase().replace(C,""),n===s)return t[i]}var x=function(t){var e,i,n,r={},s=t.split("+").map((function(t){return t.trim()})).filter((function(t){return t})).reduce((function(t,e){var i=e.split("=");return i.push(!0),t[i[0].toLowerCase()]=i[1],t}),{}),a={proj:"projName",datum:"datumCode",rf:function(t){r.rf=parseFloat(t)},lat_0:function(t){r.lat0=t*v},lat_1:function(t){r.lat1=t*v},lat_2:function(t){r.lat2=t*v},lat_ts:function(t){r.lat_ts=t*v},lon_0:function(t){r.long0=t*v},lon_1:function(t){r.long1=t*v},lon_2:function(t){r.long2=t*v},alpha:function(t){r.alpha=parseFloat(t)*v},gamma:function(t){r.rectified_grid_angle=parseFloat(t)},lonc:function(t){r.longc=t*v},x_0:function(t){r.x0=parseFloat(t)},y_0:function(t){r.y0=parseFloat(t)},k_0:function(t){r.k0=parseFloat(t)},k:function(t){r.k0=parseFloat(t)},a:function(t){r.a=parseFloat(t)},b:function(t){r.b=parseFloat(t)},r_a:function(){r.R_A=!0},zone:function(t){r.zone=parseInt(t,10)},south:function(){r.utmSouth=!0},towgs84:function(t){r.datum_params=t.split(",").map((function(t){return parseFloat(t)}))},to_meter:function(t){r.to_meter=parseFloat(t)},units:function(t){r.units=t;var e=k(E,t);e&&(r.to_meter=e.to_meter)},from_greenwich:function(t){r.from_greenwich=t*v},pm:function(t){var e=k(S,t);r.from_greenwich=(e||parseFloat(t))*v},nadgrids:function(t){"@null"===t?r.datumCode="none":r.nadgrids=t},axis:function(t){var e="ewnsud";3===t.length&&-1!==e.indexOf(t.substr(0,1))&&-1!==e.indexOf(t.substr(1,1))&&-1!==e.indexOf(t.substr(2,1))&&(r.axis=t)},approx:function(){r.approx=!0}};for(e in s)i=s[e],e in a?(n=a[e],"function"===typeof n?n(i):r[n]=i):r[e]=i;return"string"===typeof r.datumCode&&"WGS84"!==r.datumCode&&(r.datumCode=r.datumCode.toLowerCase()),r},M=z,A=1,I=2,O=3,P=4,L=5,R=-1,D=/\s/,N=/[A-Za-z]/,B=/[A-Za-z84]/,j=/[,\]]/,U=/[\d\.E\-\+]/;function F(t){if("string"!==typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=A}function z(t){var e=new F(t);return e.output()}function V(t,e,i){Array.isArray(e)&&(i.unshift(e),e=null);var n=e?{}:t,r=i.reduce((function(t,e){return H(e,t),t}),n);e&&(t[e]=r)}function H(t,e){if(Array.isArray(t)){var i=t.shift();if("PARAMETER"===i&&(i=t.shift()),1===t.length)return Array.isArray(t[0])?(e[i]={},void H(t[0],e[i])):void(e[i]=t[0]);if(t.length)if("TOWGS84"!==i){if("AXIS"===i)return i in e||(e[i]=[]),void e[i].push(t);var n;switch(Array.isArray(i)||(e[i]={}),i){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[i]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&H(t[2],e[i]));case"SPHEROID":case"ELLIPSOID":return e[i]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&H(t[3],e[i]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void V(e,i,t);default:n=-1;while(++n<t.length)if(!Array.isArray(t[n]))return H(t,e[i]);return V(e,i,t)}}else e[i]=t;else e[i]=!0}else e[t]=!0}F.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==P)while(D.test(t)){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case A:return this.neutral(t);case I:return this.keyword(t);case P:return this.quoted(t);case L:return this.afterquote(t);case O:return this.number(t);case R:return}},F.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=P);if(j.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},F.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=A)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=A,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=R))):void 0},F.prototype.number=function(t){if(!U.test(t)){if(j.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},F.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=L},F.prototype.keyword=function(t){if(B.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=A)}if(!j.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},F.prototype.neutral=function(t){if(N.test(t))return this.word=t,void(this.state=I);if('"'===t)return this.word="",void(this.state=P);if(U.test(t))return this.word=t,void(this.state=O);if(!j.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},F.prototype.output=function(){while(this.place<this.text.length)this.readCharicter();if(this.state===R)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var q=.017453292519943295;function G(t,e){var i=e[0],n=e[1];!(i in t)&&n in t&&(t[i]=t[n],3===e.length&&(t[i]=e[2](t[i])))}function W(t){return t*q}function $(t){if("GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"===typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var e="",i=0,n=t.AXIS.length;i<n;++i){var r=[t.AXIS[i][0].toLowerCase(),t.AXIS[i][1].toLowerCase()];-1!==r[0].indexOf("north")||("y"===r[0]||"lat"===r[0])&&"north"===r[1]?e+="n":-1!==r[0].indexOf("south")||("y"===r[0]||"lat"===r[0])&&"south"===r[1]?e+="s":-1!==r[0].indexOf("east")||("x"===r[0]||"lon"===r[0])&&"east"===r[1]?e+="e":-1===r[0].indexOf("west")&&("x"!==r[0]&&"lon"!==r[0]||"west"!==r[1])||(e+="w")}2===e.length&&(e+="u"),3===e.length&&(t.axis=e)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var s=t.GEOGCS;function a(e){var i=t.to_meter||1;return e*i}"GEOGCS"===t.type&&(s=t),s&&(s.DATUM?t.datumCode=s.DATUM.name.toLowerCase():t.datumCode=s.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"!==t.datumCode&&"world_geodetic_system_1984"!==t.datumCode||("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(t.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=s.DATUM.SPHEROID.a,t.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(t.datum_params=s.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a);var o=function(e){return G(t,e)},l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",W],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",W],["x0","false_easting",a],["y0","false_northing",a],["long0","central_meridian",W],["lat0","latitude_of_origin",W],["lat0","standard_parallel_1",W],["lat1","standard_parallel_1",W],["lat2","standard_parallel_2",W],["azimuth","Azimuth"],["alpha","azimuth",W],["srsCode","name"]];l.forEach(o),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=W(t.lat1>0?90:-90),t.lat_ts=t.lat1)}var K=function(t){var e=M(t),i=e.shift(),n=e.shift();e.unshift(["name",n]),e.unshift(["type",i]);var r={};return H(e,r),$(r),r};function Z(t){var e=this;if(2===arguments.length){var i=arguments[1];"string"===typeof i?"+"===i.charAt(0)?Z[t]=x(arguments[1]):Z[t]=K(arguments[1]):Z[t]=i}else if(1===arguments.length){if(Array.isArray(t))return t.map((function(t){Array.isArray(t)?Z.apply(e,t):Z(t)}));if("string"===typeof t){if(t in Z)return Z[t]}else"EPSG"in t?Z["EPSG:"+t.EPSG]=t:"ESRI"in t?Z["ESRI:"+t.ESRI]=t:"IAU2000"in t?Z["IAU2000:"+t.IAU2000]=t:console.log(t);return}}n(Z);var X=Z;function Y(t){return"string"===typeof t}function Q(t){return t in X}var J=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function tt(t){return J.some((function(e){return t.indexOf(e)>-1}))}var et=["3857","900913","3785","102113"];function it(t){var e=k(t,"authority");if(e){var i=k(e,"epsg");return i&&et.indexOf(i)>-1}}function nt(t){var e=k(t,"extension");if(e)return k(e,"proj4")}function rt(t){return"+"===t[0]}function st(t){if(!Y(t))return t;if(Q(t))return X[t];if(tt(t)){var e=K(t);if(it(e))return X["EPSG:3857"];var i=nt(e);return i?x(i):e}return rt(t)?x(t):void 0}var at=st,ot=function(t,e){var i,n;if(t=t||{},!e)return t;for(n in e)i=e[n],void 0!==i&&(t[n]=i);return t},lt=function(t,e,i){var n=t*e;return i/Math.sqrt(1-n*n)},ut=function(t){return t<0?-1:1},ht=function(t){return Math.abs(t)<=w?t:t-ut(t)*T},ct=function(t,e,i){var n=t*i,r=.5*t;return n=Math.pow((1-n)/(1+n),r),Math.tan(.5*(p-e))/n},dt=function(t,e){for(var i,n,r=.5*t,s=p-2*Math.atan(e),a=0;a<=15;a++)if(i=t*Math.sin(s),n=p-2*Math.atan(e*Math.pow((1-i)/(1+i),r))-s,s+=n,Math.abs(n)<=1e-10)return s;return-9999};function pt(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=lt(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function ft(t){var e,i,n=t.x,r=t.y;if(r*y>90&&r*y<-90&&n*y>180&&n*y<-180)return null;if(Math.abs(Math.abs(r)-p)<=_)return null;if(this.sphere)e=this.x0+this.a*this.k0*ht(n-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(b+.5*r));else{var s=Math.sin(r),a=ct(this.e,r,s);e=this.x0+this.a*this.k0*ht(n-this.long0),i=this.y0-this.a*this.k0*Math.log(a)}return t.x=e,t.y=i,t}function mt(t){var e,i,n=t.x-this.x0,r=t.y-this.y0;if(this.sphere)i=p-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var s=Math.exp(-r/(this.a*this.k0));if(i=dt(this.e,s),-9999===i)return null}return e=ht(this.long0+n/(this.a*this.k0)),t.x=e,t.y=i,t}var gt=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"],_t={init:pt,forward:ft,inverse:mt,names:gt};function vt(){}function yt(t){return t}var bt=["longlat","identity"],Tt={init:vt,forward:yt,inverse:yt,names:bt},wt=[_t,Tt],St={},Et=[];function Ct(t,e){var i=Et.length;return t.names?(Et[i]=t,t.names.forEach((function(t){St[t.toLowerCase()]=i})),this):(console.log(e),!0)}function kt(t){if(!t)return!1;var e=t.toLowerCase();return"undefined"!==typeof St[e]&&Et[St[e]]?Et[St[e]]:void 0}function xt(){wt.forEach(Ct)}var Mt={start:xt,add:Ct,get:kt},At={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},It=At.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};function Ot(t,e,i,n){var r=t*t,s=e*e,a=(r-s)/r,o=0;n?(t*=1-a*(f+a*(m+a*g)),r=t*t,a=0):o=Math.sqrt(a);var l=(r-s)/s;return{es:a,e:o,ep2:l}}function Pt(t,e,i,n,r){if(!t){var s=k(At,n);s||(s=It),t=s.a,e=s.b,i=s.rf}return i&&!e&&(e=(1-1/i)*t),(0===i||Math.abs(t-e)<_)&&(r=!0,e=t),{a:t,b:e,rf:i,sphere:r}}At.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var Lt={};function Rt(t,e,i,n,u,h,c){var p={};return p.datum_type=void 0===t||"none"===t?l:o,e&&(p.datum_params=e.map(parseFloat),0===p.datum_params[0]&&0===p.datum_params[1]&&0===p.datum_params[2]||(p.datum_type=r),p.datum_params.length>3&&(0===p.datum_params[3]&&0===p.datum_params[4]&&0===p.datum_params[5]&&0===p.datum_params[6]||(p.datum_type=s,p.datum_params[3]*=d,p.datum_params[4]*=d,p.datum_params[5]*=d,p.datum_params[6]=p.datum_params[6]/1e6+1))),c&&(p.datum_type=a,p.grids=c),p.a=i,p.b=n,p.es=u,p.ep2=h,p}Lt.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},Lt.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},Lt.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},Lt.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},Lt.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},Lt.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},Lt.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},Lt.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},Lt.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},Lt.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},Lt.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},Lt.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},Lt.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},Lt.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},Lt.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},Lt.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},Lt.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};var Dt=Rt,Nt={};function Bt(t,e){var i=new DataView(e),n=zt(i),r=Vt(i,n);r.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var s=qt(i,r,n),a={header:r,subgrids:s};return Nt[t]=a,a}function jt(t){if(void 0===t)return null;var e=t.split(",");return e.map(Ut)}function Ut(t){if(0===t.length)return null;var e="@"===t[0];return e&&(t=t.slice(1)),"null"===t?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:Nt[t]||null,isNull:!1}}function Ft(t){return t/3600*Math.PI/180}function zt(t){var e=t.getInt32(8,!1);return 11!==e&&(e=t.getInt32(8,!0),11!==e&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function Vt(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:Ht(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}function Ht(t,e,i){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,i)))}function qt(t,e,i){for(var n=176,r=[],s=0;s<e.nSubgrids;s++){var a=Wt(t,n,i),o=$t(t,n,a,i),l=Math.round(1+(a.upperLongitude-a.lowerLongitude)/a.longitudeInterval),u=Math.round(1+(a.upperLatitude-a.lowerLatitude)/a.latitudeInterval);r.push({ll:[Ft(a.lowerLongitude),Ft(a.lowerLatitude)],del:[Ft(a.longitudeInterval),Ft(a.latitudeInterval)],lim:[l,u],count:a.gridNodeCount,cvs:Gt(o)})}return r}function Gt(t){return t.map((function(t){return[Ft(t.longitudeShift),Ft(t.latitudeShift)]}))}function Wt(t,e,i){return{name:Ht(t,e+8,e+16).trim(),parent:Ht(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,i),upperLatitude:t.getFloat64(e+88,i),lowerLongitude:t.getFloat64(e+104,i),upperLongitude:t.getFloat64(e+120,i),latitudeInterval:t.getFloat64(e+136,i),longitudeInterval:t.getFloat64(e+152,i),gridNodeCount:t.getInt32(e+168,i)}}function $t(t,e,i,n){for(var r=e+176,s=16,a=[],o=0;o<i.gridNodeCount;o++){var l={latitudeShift:t.getFloat32(r+o*s,n),longitudeShift:t.getFloat32(r+o*s+4,n),latitudeAccuracy:t.getFloat32(r+o*s+8,n),longitudeAccuracy:t.getFloat32(r+o*s+12,n)};a.push(l)}return a}function Kt(t,e){if(!(this instanceof Kt))return new Kt(t);e=e||function(t){if(t)throw t};var i=at(t);if("object"===typeof i){var n=Kt.projections.get(i.projName);if(n){if(i.datumCode&&"none"!==i.datumCode){var r=k(Lt,i.datumCode);r&&(i.datum_params=i.datum_params||(r.towgs84?r.towgs84.split(","):null),i.ellps=r.ellipse,i.datumName=r.datumName?r.datumName:i.datumCode)}i.k0=i.k0||1,i.axis=i.axis||"enu",i.ellps=i.ellps||"wgs84",i.lat1=i.lat1||i.lat0;var s=Pt(i.a,i.b,i.rf,i.ellps,i.sphere),a=Ot(s.a,s.b,s.rf,i.R_A),o=jt(i.nadgrids),l=i.datum||Dt(i.datumCode,i.datum_params,s.a,s.b,a.es,a.ep2,o);ot(this,i),ot(this,n),this.a=s.a,this.b=s.b,this.rf=s.rf,this.sphere=s.sphere,this.es=a.es,this.e=a.e,this.ep2=a.ep2,this.datum=l,this.init(),e(null,this)}else e(t)}else e(t)}Kt.projections=Mt,Kt.projections.start();var Zt=Kt;function Xt(t,e){return t.datum_type===e.datum_type&&(!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(t.datum_type===r?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type!==s||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]))}function Yt(t,e,i){var n,r,s,a,o=t.x,l=t.y,u=t.z?t.z:0;if(l<-p&&l>-1.001*p)l=-p;else if(l>p&&l<1.001*p)l=p;else{if(l<-p)return{x:-1/0,y:-1/0,z:t.z};if(l>p)return{x:1/0,y:1/0,z:t.z}}return o>Math.PI&&(o-=2*Math.PI),r=Math.sin(l),a=Math.cos(l),s=r*r,n=i/Math.sqrt(1-e*s),{x:(n+u)*a*Math.cos(o),y:(n+u)*a*Math.sin(o),z:(n*(1-e)+u)*r}}function Qt(t,e,i,n){var r,s,a,o,l,u,h,c,d,f,m,g,_,v,y,b,T=1e-12,w=T*T,S=30,E=t.x,C=t.y,k=t.z?t.z:0;if(r=Math.sqrt(E*E+C*C),s=Math.sqrt(E*E+C*C+k*k),r/i<T){if(v=0,s/i<T)return y=p,b=-n,{x:t.x,y:t.y,z:t.z}}else v=Math.atan2(C,E);a=k/s,o=r/s,l=1/Math.sqrt(1-e*(2-e)*o*o),c=o*(1-e)*l,d=a*l,_=0;do{_++,h=i/Math.sqrt(1-e*d*d),b=r*c+k*d-h*(1-e*d*d),u=e*h/(h+b),l=1/Math.sqrt(1-u*(2-u)*o*o),f=o*(1-u)*l,m=a*l,g=m*c-f*d,c=f,d=m}while(g*g>w&&_<S);return y=Math.atan(m/Math.abs(f)),{x:v,y:y,z:b}}function Jt(t,e,i){if(e===r)return{x:t.x+i[0],y:t.y+i[1],z:t.z+i[2]};if(e===s){var n=i[0],a=i[1],o=i[2],l=i[3],u=i[4],h=i[5],c=i[6];return{x:c*(t.x-h*t.y+u*t.z)+n,y:c*(h*t.x+t.y-l*t.z)+a,z:c*(-u*t.x+l*t.y+t.z)+o}}}function te(t,e,i){if(e===r)return{x:t.x-i[0],y:t.y-i[1],z:t.z-i[2]};if(e===s){var n=i[0],a=i[1],o=i[2],l=i[3],u=i[4],h=i[5],c=i[6],d=(t.x-n)/c,p=(t.y-a)/c,f=(t.z-o)/c;return{x:d+h*p-u*f,y:-h*d+p+l*f,z:u*d-l*p+f}}}function ee(t){return t===r||t===s}var ie=function(t,e,i){if(Xt(t,e))return i;if(t.datum_type===l||e.datum_type===l)return i;var n=t.a,r=t.es;if(t.datum_type===a){var s=ne(t,!1,i);if(0!==s)return;n=u,r=c}var o=e.a,d=e.b,p=e.es;if(e.datum_type===a&&(o=u,d=h,p=c),r===p&&n===o&&!ee(t.datum_type)&&!ee(e.datum_type))return i;if(i=Yt(i,r,n),ee(t.datum_type)&&(i=Jt(i,t.datum_type,t.datum_params)),ee(e.datum_type)&&(i=te(i,e.datum_type,e.datum_params)),i=Qt(i,p,o,d),e.datum_type===a){var f=ne(e,!0,i);if(0!==f)return}return i};function ne(t,e,i){if(null===t.grids||0===t.grids.length)return console.log("Grid shift grids not found"),-1;for(var n={x:-i.x,y:i.y},r={x:Number.NaN,y:Number.NaN},s=[],a=0;a<t.grids.length;a++){var o=t.grids[a];if(s.push(o.name),o.isNull){r=n;break}if(o.mandatory,null!==o.grid){var l=o.grid.subgrids[0],u=(Math.abs(l.del[1])+Math.abs(l.del[0]))/1e4,h=l.ll[0]-u,c=l.ll[1]-u,d=l.ll[0]+(l.lim[0]-1)*l.del[0]+u,p=l.ll[1]+(l.lim[1]-1)*l.del[1]+u;if(!(c>n.y||h>n.x||p<n.y||d<n.x)&&(r=re(n,e,l),!isNaN(r.x)))break}else if(o.mandatory)return console.log("Unable to find mandatory grid '"+o.name+"'"),-1}return isNaN(r.x)?(console.log("Failed to find a grid shift table for location '"+-n.x*y+" "+n.y*y+" tried: '"+s+"'"),-1):(i.x=-r.x,i.y=r.y,0)}function re(t,e,i){var n={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return n;var r={x:t.x,y:t.y};r.x-=i.ll[0],r.y-=i.ll[1],r.x=ht(r.x-Math.PI)+Math.PI;var s=se(r,i);if(e){if(isNaN(s.x))return n;s.x=r.x-s.x,s.y=r.y-s.y;var a,o,l=9,u=1e-12;do{if(o=se(s,i),isNaN(o.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}a={x:r.x-(o.x+s.x),y:r.y-(o.y+s.y)},s.x+=a.x,s.y+=a.y}while(l--&&Math.abs(a.x)>u&&Math.abs(a.y)>u);if(l<0)return console.log("Inverse grid shift iterator failed to converge."),n;n.x=ht(s.x+i.ll[0]),n.y=s.y+i.ll[1]}else isNaN(s.x)||(n.x=t.x+s.x,n.y=t.y+s.y);return n}function se(t,e){var i,n={x:t.x/e.del[0],y:t.y/e.del[1]},r={x:Math.floor(n.x),y:Math.floor(n.y)},s={x:n.x-1*r.x,y:n.y-1*r.y},a={x:Number.NaN,y:Number.NaN};if(r.x<0||r.x>=e.lim[0])return a;if(r.y<0||r.y>=e.lim[1])return a;i=r.y*e.lim[0]+r.x;var o={x:e.cvs[i][0],y:e.cvs[i][1]};i++;var l={x:e.cvs[i][0],y:e.cvs[i][1]};i+=e.lim[0];var u={x:e.cvs[i][0],y:e.cvs[i][1]};i--;var h={x:e.cvs[i][0],y:e.cvs[i][1]},c=s.x*s.y,d=s.x*(1-s.y),p=(1-s.x)*(1-s.y),f=(1-s.x)*s.y;return a.x=p*o.x+d*l.x+f*h.x+c*u.x,a.y=p*o.y+d*l.y+f*h.y+c*u.y,a}var ae=function(t,e,i){var n,r,s,a=i.x,o=i.y,l=i.z||0,u={};for(s=0;s<3;s++)if(!e||2!==s||void 0!==i.z)switch(0===s?(n=a,r=-1!=="ew".indexOf(t.axis[s])?"x":"y"):1===s?(n=o,r=-1!=="ns".indexOf(t.axis[s])?"y":"x"):(n=l,r="z"),t.axis[s]){case"e":u[r]=n;break;case"w":u[r]=-n;break;case"n":u[r]=n;break;case"s":u[r]=-n;break;case"u":void 0!==i[r]&&(u.z=n);break;case"d":void 0!==i[r]&&(u.z=-n);break;default:return null}return u},oe=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e},le=function(t){ue(t.x),ue(t.y)};function ue(t){if("function"===typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!==typeof t||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function he(t,e){return(t.datum.datum_type===r||t.datum.datum_type===s)&&"WGS84"!==e.datumCode||(e.datum.datum_type===r||e.datum.datum_type===s)&&"WGS84"!==t.datumCode}function ce(t,e,i,n){var r;if(Array.isArray(i)&&(i=oe(i)),le(i),t.datum&&e.datum&&he(t,e)&&(r=new Zt("WGS84"),i=ce(t,r,i,n),t=r),n&&"enu"!==t.axis&&(i=ae(t,!1,i)),"longlat"===t.projName)i={x:i.x*v,y:i.y*v,z:i.z||0};else if(t.to_meter&&(i={x:i.x*t.to_meter,y:i.y*t.to_meter,z:i.z||0}),i=t.inverse(i),!i)return;if(t.from_greenwich&&(i.x+=t.from_greenwich),i=ie(t.datum,e.datum,i),i)return e.from_greenwich&&(i={x:i.x-e.from_greenwich,y:i.y,z:i.z||0}),"longlat"===e.projName?i={x:i.x*y,y:i.y*y,z:i.z||0}:(i=e.forward(i),e.to_meter&&(i={x:i.x/e.to_meter,y:i.y/e.to_meter,z:i.z||0})),n&&"enu"!==e.axis?ae(e,!0,i):i}var de=Zt("WGS84");function pe(t,e,i,n){var r,s,a;return Array.isArray(i)?(r=ce(t,e,i,n)||{x:NaN,y:NaN},i.length>2?"undefined"!==typeof t.name&&"geocent"===t.name||"undefined"!==typeof e.name&&"geocent"===e.name?"number"===typeof r.z?[r.x,r.y,r.z].concat(i.splice(3)):[r.x,r.y,i[2]].concat(i.splice(3)):[r.x,r.y].concat(i.splice(2)):[r.x,r.y]):(s=ce(t,e,i,n),a=Object.keys(i),2===a.length||a.forEach((function(n){if("undefined"!==typeof t.name&&"geocent"===t.name||"undefined"!==typeof e.name&&"geocent"===e.name){if("x"===n||"y"===n||"z"===n)return}else if("x"===n||"y"===n)return;s[n]=i[n]})),s)}function fe(t){return t instanceof Zt?t:t.oProj?t.oProj:Zt(t)}function me(t,e,i){t=fe(t);var n,r=!1;return"undefined"===typeof e?(e=t,t=de,r=!0):("undefined"!==typeof e.x||Array.isArray(e))&&(i=e,e=t,t=de,r=!0),e=fe(e),i?pe(t,e,i):(n={forward:function(i,n){return pe(t,e,i,n)},inverse:function(i,n){return pe(e,t,i,n)}},r&&(n.oProj=e),n)}var ge=me,_e=6,ve="AJSAJS",ye="AFAFAF",be=65,Te=73,we=79,Se=86,Ee=90,Ce={forward:ke,inverse:xe,toPoint:Me};function ke(t,e){return e=e||5,Re(Oe({lat:t[1],lon:t[0]}),e)}function xe(t){var e=Pe(je(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function Me(t){var e=Pe(je(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function Ae(t){return t*(Math.PI/180)}function Ie(t){return t/Math.PI*180}function Oe(t){var e,i,n,r,s,a,o,l,u,h=t.lat,c=t.lon,d=6378137,p=.00669438,f=.9996,m=Ae(h),g=Ae(c);u=Math.floor((c+180)/6)+1,180===c&&(u=60),h>=56&&h<64&&c>=3&&c<12&&(u=32),h>=72&&h<84&&(c>=0&&c<9?u=31:c>=9&&c<21?u=33:c>=21&&c<33?u=35:c>=33&&c<42&&(u=37)),e=6*(u-1)-180+3,l=Ae(e),i=p/(1-p),n=d/Math.sqrt(1-p*Math.sin(m)*Math.sin(m)),r=Math.tan(m)*Math.tan(m),s=i*Math.cos(m)*Math.cos(m),a=Math.cos(m)*(g-l),o=d*((1-p/4-3*p*p/64-5*p*p*p/256)*m-(3*p/8+3*p*p/32+45*p*p*p/1024)*Math.sin(2*m)+(15*p*p/256+45*p*p*p/1024)*Math.sin(4*m)-35*p*p*p/3072*Math.sin(6*m));var _=f*n*(a+(1-r+s)*a*a*a/6+(5-18*r+r*r+72*s-58*i)*a*a*a*a*a/120)+5e5,v=f*(o+n*Math.tan(m)*(a*a/2+(5-r+9*s+4*s*s)*a*a*a*a/24+(61-58*r+r*r+600*s-330*i)*a*a*a*a*a*a/720));return h<0&&(v+=1e7),{northing:Math.round(v),easting:Math.round(_),zoneNumber:u,zoneLetter:Le(h)}}function Pe(t){var e=t.northing,i=t.easting,n=t.zoneLetter,r=t.zoneNumber;if(r<0||r>60)return null;var s,a,o,l,u,h,c,d,p,f,m=.9996,g=6378137,_=.00669438,v=(1-Math.sqrt(1-_))/(1+Math.sqrt(1-_)),y=i-5e5,b=e;n<"N"&&(b-=1e7),d=6*(r-1)-180+3,s=_/(1-_),c=b/m,p=c/(g*(1-_/4-3*_*_/64-5*_*_*_/256)),f=p+(3*v/2-27*v*v*v/32)*Math.sin(2*p)+(21*v*v/16-55*v*v*v*v/32)*Math.sin(4*p)+151*v*v*v/96*Math.sin(6*p),a=g/Math.sqrt(1-_*Math.sin(f)*Math.sin(f)),o=Math.tan(f)*Math.tan(f),l=s*Math.cos(f)*Math.cos(f),u=g*(1-_)/Math.pow(1-_*Math.sin(f)*Math.sin(f),1.5),h=y/(a*m);var T=f-a*Math.tan(f)/u*(h*h/2-(5+3*o+10*l-4*l*l-9*s)*h*h*h*h/24+(61+90*o+298*l+45*o*o-252*s-3*l*l)*h*h*h*h*h*h/720);T=Ie(T);var w,S=(h-(1+2*o+l)*h*h*h/6+(5-2*l+28*o-3*l*l+8*s+24*o*o)*h*h*h*h*h/120)/Math.cos(f);if(S=d+Ie(S),t.accuracy){var E=Pe({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});w={top:E.lat,right:E.lon,bottom:T,left:S}}else w={lat:T,lon:S};return w}function Le(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function Re(t,e){var i="00000"+t.easting,n="00000"+t.northing;return t.zoneNumber+t.zoneLetter+De(t.easting,t.northing,t.zoneNumber)+i.substr(i.length-5,e)+n.substr(n.length-5,e)}function De(t,e,i){var n=Ne(i),r=Math.floor(t/1e5),s=Math.floor(e/1e5)%20;return Be(r,s,n)}function Ne(t){var e=t%_e;return 0===e&&(e=_e),e}function Be(t,e,i){var n=i-1,r=ve.charCodeAt(n),s=ye.charCodeAt(n),a=r+t-1,o=s+e,l=!1;a>Ee&&(a=a-Ee+be-1,l=!0),(a===Te||r<Te&&a>Te||(a>Te||r<Te)&&l)&&a++,(a===we||r<we&&a>we||(a>we||r<we)&&l)&&(a++,a===Te&&a++),a>Ee&&(a=a-Ee+be-1),o>Se?(o=o-Se+be-1,l=!0):l=!1,(o===Te||s<Te&&o>Te||(o>Te||s<Te)&&l)&&o++,(o===we||s<we&&o>we||(o>we||s<we)&&l)&&(o++,o===Te&&o++),o>Se&&(o=o-Se+be-1);var u=String.fromCharCode(a)+String.fromCharCode(o);return u}function je(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";var e,i=t.length,n=null,r="",s=0;while(!/[A-Z]/.test(e=t.charAt(s))){if(s>=2)throw"MGRSPoint bad conversion from: "+t;r+=e,s++}var a=parseInt(r,10);if(0===s||s+3>i)throw"MGRSPoint bad conversion from: "+t;var o=t.charAt(s++);if(o<="A"||"B"===o||"Y"===o||o>="Z"||"I"===o||"O"===o)throw"MGRSPoint zone letter "+o+" not handled: "+t;n=t.substring(s,s+=2);var l=Ne(a),u=Ue(n.charAt(0),l),h=Fe(n.charAt(1),l);while(h<ze(o))h+=2e6;var c=i-s;if(c%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var d,p,f,m,g,_=c/2,v=0,y=0;return _>0&&(d=1e5/Math.pow(10,_),p=t.substring(s,s+_),v=parseFloat(p)*d,f=t.substring(s+_),y=parseFloat(f)*d),m=v+u,g=y+h,{easting:m,northing:g,zoneLetter:o,zoneNumber:a,accuracy:d}}function Ue(t,e){var i=ve.charCodeAt(e-1),n=1e5,r=!1;while(i!==t.charCodeAt(0)){if(i++,i===Te&&i++,i===we&&i++,i>Ee){if(r)throw"Bad character: "+t;i=be,r=!0}n+=1e5}return n}function Fe(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;var i=ye.charCodeAt(e-1),n=0,r=!1;while(i!==t.charCodeAt(0)){if(i++,i===Te&&i++,i===we&&i++,i>Se){if(r)throw"Bad character: "+t;i=be,r=!0}n+=1e5}return n}function ze(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function Ve(t,e,i){if(!(this instanceof Ve))return new Ve(t,e,i);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"===typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"===typeof t&&"undefined"===typeof e){var n=t.split(",");this.x=parseFloat(n[0],10),this.y=parseFloat(n[1],10),this.z=parseFloat(n[2],10)||0}else this.x=t,this.y=e,this.z=i||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Ve.fromMGRS=function(t){return new Ve(Me(t))},Ve.prototype.toMGRS=function(t){return ke([this.x,this.y],t)};var He=Ve,qe=1,Ge=.25,We=.046875,$e=.01953125,Ke=.01068115234375,Ze=.75,Xe=.46875,Ye=.013020833333333334,Qe=.007120768229166667,Je=.3645833333333333,ti=.005696614583333333,ei=.3076171875,ii=function(t){var e=[];e[0]=qe-t*(Ge+t*(We+t*($e+t*Ke))),e[1]=t*(Ze-t*(We+t*($e+t*Ke)));var i=t*t;return e[2]=i*(Xe-t*(Ye+t*Qe)),i*=t,e[3]=i*(Je-t*ti),e[4]=i*t*ei,e},ni=function(t,e,i,n){return i*=e,e*=e,n[0]*t-i*(n[1]+e*(n[2]+e*(n[3]+e*n[4])))},ri=20,si=function(t,e,i){for(var n=1/(1-e),r=t,s=ri;s;--s){var a=Math.sin(r),o=1-e*a*a;if(o=(ni(r,a,Math.cos(r),i)-t)*(o*Math.sqrt(o))*n,r-=o,Math.abs(o)<_)return r}return r};function ai(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=ii(this.es),this.ml0=ni(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function oi(t){var e,i,n,r=t.x,s=t.y,a=ht(r-this.long0),o=Math.sin(s),l=Math.cos(s);if(this.es){var u=l*a,h=Math.pow(u,2),c=this.ep2*Math.pow(l,2),d=Math.pow(c,2),p=Math.abs(l)>_?Math.tan(s):0,f=Math.pow(p,2),m=Math.pow(f,2);e=1-this.es*Math.pow(o,2),u/=Math.sqrt(e);var g=ni(s,o,l,this.en);i=this.a*(this.k0*u*(1+h/6*(1-f+c+h/20*(5-18*f+m+14*c-58*f*c+h/42*(61+179*m-m*f-479*f)))))+this.x0,n=this.a*(this.k0*(g-this.ml0+o*a*u/2*(1+h/12*(5-f+9*c+4*d+h/30*(61+m-58*f+270*c-330*f*c+h/56*(1385+543*m-m*f-3111*f))))))+this.y0}else{var v=l*Math.sin(a);if(Math.abs(Math.abs(v)-1)<_)return 93;if(i=.5*this.a*this.k0*Math.log((1+v)/(1-v))+this.x0,n=l*Math.cos(a)/Math.sqrt(1-Math.pow(v,2)),v=Math.abs(n),v>=1){if(v-1>_)return 93;n=0}else n=Math.acos(n);s<0&&(n=-n),n=this.a*this.k0*(n-this.lat0)+this.y0}return t.x=i,t.y=n,t}function li(t){var e,i,n,r,s=(t.x-this.x0)*(1/this.a),a=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+a/this.k0,i=si(e,this.es,this.en),Math.abs(i)<p){var o=Math.sin(i),l=Math.cos(i),u=Math.abs(l)>_?Math.tan(i):0,h=this.ep2*Math.pow(l,2),c=Math.pow(h,2),d=Math.pow(u,2),f=Math.pow(d,2);e=1-this.es*Math.pow(o,2);var m=s*Math.sqrt(e)/this.k0,g=Math.pow(m,2);e*=u,n=i-e*g/(1-this.es)*.5*(1-g/12*(5+3*d-9*h*d+h-4*c-g/30*(61+90*d-252*h*d+45*f+46*h-g/56*(1385+3633*d+4095*f+1574*f*d)))),r=ht(this.long0+m*(1-g/6*(1+2*d+h-g/20*(5+28*d+24*f+8*h*d+6*h-g/42*(61+662*d+1320*f+720*f*d))))/l)}else n=p*ut(a),r=0;else{var v=Math.exp(s/this.k0),y=.5*(v-1/v),b=this.lat0+a/this.k0,T=Math.cos(b);e=Math.sqrt((1-Math.pow(T,2))/(1+Math.pow(y,2))),n=Math.asin(e),a<0&&(n=-n),r=0===y&&0===T?0:ht(Math.atan2(y,T)+this.long0)}return t.x=r,t.y=n,t}var ui=["Fast_Transverse_Mercator","Fast Transverse Mercator"],hi={init:ai,forward:oi,inverse:li,names:ui},ci=function(t){var e=Math.exp(t);return e=(e-1/e)/2,e},di=function(t,e){t=Math.abs(t),e=Math.abs(e);var i=Math.max(t,e),n=Math.min(t,e)/(i||1);return i*Math.sqrt(1+Math.pow(n,2))},pi=function(t){var e=1+t,i=e-1;return 0===i?t:t*Math.log(e)/i},fi=function(t){var e=Math.abs(t);return e=pi(e*(1+e/(di(1,e)+1))),t<0?-e:e},mi=function(t,e){var i,n=2*Math.cos(2*e),r=t.length-1,s=t[r],a=0;while(--r>=0)i=n*s-a+t[r],a=s,s=i;return e+i*Math.sin(2*e)},gi=function(t,e){var i,n=2*Math.cos(e),r=t.length-1,s=t[r],a=0;while(--r>=0)i=n*s-a+t[r],a=s,s=i;return Math.sin(e)*i},_i=function(t){var e=Math.exp(t);return e=(e+1/e)/2,e},vi=function(t,e,i){var n,r,s=Math.sin(e),a=Math.cos(e),o=ci(i),l=_i(i),u=2*a*l,h=-2*s*o,c=t.length-1,d=t[c],p=0,f=0,m=0;while(--c>=0)n=f,r=p,f=d,p=m,d=u*f-n-h*p+t[c],m=h*f-r+u*p;return u=s*l,h=a*o,[u*d-h*m,u*m+h*d]};function yi(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(hi.init.apply(this),this.forward=hi.forward,this.inverse=hi.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),i=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),i*=e,this.cgb[1]=i*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=i*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),i*=e,this.cgb[2]=i*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=i*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),i*=e,this.cgb[3]=i*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=i*(1237/630+e*(e*(-24832/14175)-2.4)),i*=e,this.cgb[4]=i*(4174/315+e*(-144838/6237)),this.cbg[4]=i*(-734/315+e*(109598/31185)),i*=e,this.cgb[5]=i*(601676/22275),this.cbg[5]=i*(444337/155925),i=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+i*(1/4+i*(1/64+i/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=i*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=i*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),i*=e,this.utg[2]=i*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=i*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),i*=e,this.utg[3]=i*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=i*(49561/161280+e*(-179/168+e*(6601661/7257600))),i*=e,this.utg[4]=i*(-4583/161280+e*(108847/3991680)),this.gtu[4]=i*(34729/80640+e*(-3418889/1995840)),i*=e,this.utg[5]=i*(-20648693/638668800),this.gtu[5]=.6650675310896665*i;var n=mi(this.cbg,this.lat0);this.Zb=-this.Qn*(n+gi(this.gtu,2*n))}function bi(t){var e=ht(t.x-this.long0),i=t.y;i=mi(this.cbg,i);var n=Math.sin(i),r=Math.cos(i),s=Math.sin(e),a=Math.cos(e);i=Math.atan2(n,a*r),e=Math.atan2(s*r,di(n,r*a)),e=fi(Math.tan(e));var o,l,u=vi(this.gtu,2*i,2*e);return i+=u[0],e+=u[1],Math.abs(e)<=2.623395162778?(o=this.a*(this.Qn*e)+this.x0,l=this.a*(this.Qn*i+this.Zb)+this.y0):(o=1/0,l=1/0),t.x=o,t.y=l,t}function Ti(t){var e,i,n=(t.x-this.x0)*(1/this.a),r=(t.y-this.y0)*(1/this.a);if(r=(r-this.Zb)/this.Qn,n/=this.Qn,Math.abs(n)<=2.623395162778){var s=vi(this.utg,2*r,2*n);r+=s[0],n+=s[1],n=Math.atan(ci(n));var a=Math.sin(r),o=Math.cos(r),l=Math.sin(n),u=Math.cos(n);r=Math.atan2(a*u,di(l,u*o)),n=Math.atan2(l,u*o),e=ht(n+this.long0),i=mi(this.cgb,r)}else e=1/0,i=1/0;return t.x=e,t.y=i,t}var wi=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"],Si={init:yi,forward:bi,inverse:Ti,names:wi},Ei=function(t,e){if(void 0===t){if(t=Math.floor(30*(ht(e)+Math.PI)/Math.PI)+1,t<0)return 0;if(t>60)return 60}return t},Ci="etmerc";function ki(){var t=Ei(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*v,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Si.init.apply(this),this.forward=Si.forward,this.inverse=Si.inverse}var xi=["Universal Transverse Mercator System","utm"],Mi={init:ki,names:xi,dependsOn:Ci},Ai=function(t,e){return Math.pow((1-t)/(1+t),e)},Ii=20;function Oi(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+b)/(Math.pow(Math.tan(.5*this.lat0+b),this.C)*Ai(this.e*t,this.ratexp))}function Pi(t){var e=t.x,i=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*i+b),this.C)*Ai(this.e*Math.sin(i),this.ratexp))-p,t.x=this.C*e,t}function Li(t){for(var e=1e-14,i=t.x/this.C,n=t.y,r=Math.pow(Math.tan(.5*n+b)/this.K,1/this.C),s=Ii;s>0;--s){if(n=2*Math.atan(r*Ai(this.e*Math.sin(t.y),-.5*this.e))-p,Math.abs(n-t.y)<e)break;t.y=n}return s?(t.x=i,t.y=n,t):null}var Ri=["gauss"],Di={init:Oi,forward:Pi,inverse:Li,names:Ri};function Ni(){Di.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function Bi(t){var e,i,n,r;return t.x=ht(t.x-this.long0),Di.forward.apply(this,[t]),e=Math.sin(t.y),i=Math.cos(t.y),n=Math.cos(t.x),r=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*i*n),t.x=r*i*Math.sin(t.x),t.y=r*(this.cosc0*e-this.sinc0*i*n),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function ji(t){var e,i,n,r,s;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,s=Math.sqrt(t.x*t.x+t.y*t.y)){var a=2*Math.atan2(s,this.R2);e=Math.sin(a),i=Math.cos(a),r=Math.asin(i*this.sinc0+t.y*e*this.cosc0/s),n=Math.atan2(t.x*e,s*this.cosc0*i-t.y*this.sinc0*e)}else r=this.phic0,n=0;return t.x=n,t.y=r,Di.inverse.apply(this,[t]),t.x=ht(t.x+this.long0),t}var Ui=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"],Fi={init:Ni,forward:Bi,inverse:ji,names:Ui};function zi(t,e,i){return e*=i,Math.tan(.5*(p+t))*Math.pow((1-e)/(1+e),.5*i)}function Vi(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=_&&(this.k0=.5*(1+ut(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=_&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=_&&(this.k0=.5*this.cons*lt(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/ct(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=lt(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-p,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function Hi(t){var e,i,n,r,s,a,o=t.x,l=t.y,u=Math.sin(l),h=Math.cos(l),c=ht(o-this.long0);return Math.abs(Math.abs(o-this.long0)-Math.PI)<=_&&Math.abs(l+this.lat0)<=_?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*u+this.coslat0*h*Math.cos(c)),t.x=this.a*e*h*Math.sin(c)+this.x0,t.y=this.a*e*(this.coslat0*u-this.sinlat0*h*Math.cos(c))+this.y0,t):(i=2*Math.atan(this.ssfn_(l,u,this.e))-p,r=Math.cos(i),n=Math.sin(i),Math.abs(this.coslat0)<=_?(s=ct(this.e,l*this.con,this.con*u),a=2*this.a*this.k0*s/this.cons,t.x=this.x0+a*Math.sin(o-this.long0),t.y=this.y0-this.con*a*Math.cos(o-this.long0),t):(Math.abs(this.sinlat0)<_?(e=2*this.a*this.k0/(1+r*Math.cos(c)),t.y=e*n):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*n+this.cosX0*r*Math.cos(c))),t.y=e*(this.cosX0*n-this.sinX0*r*Math.cos(c))+this.y0),t.x=e*r*Math.sin(c)+this.x0,t))}function qi(t){var e,i,n,r,s;t.x-=this.x0,t.y-=this.y0;var a=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var o=2*Math.atan(a/(2*this.a*this.k0));return e=this.long0,i=this.lat0,a<=_?(t.x=e,t.y=i,t):(i=Math.asin(Math.cos(o)*this.sinlat0+t.y*Math.sin(o)*this.coslat0/a),e=Math.abs(this.coslat0)<_?this.lat0>0?ht(this.long0+Math.atan2(t.x,-1*t.y)):ht(this.long0+Math.atan2(t.x,t.y)):ht(this.long0+Math.atan2(t.x*Math.sin(o),a*this.coslat0*Math.cos(o)-t.y*this.sinlat0*Math.sin(o))),t.x=e,t.y=i,t)}if(Math.abs(this.coslat0)<=_){if(a<=_)return i=this.lat0,e=this.long0,t.x=e,t.y=i,t;t.x*=this.con,t.y*=this.con,n=a*this.cons/(2*this.a*this.k0),i=this.con*dt(this.e,n),e=this.con*ht(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else r=2*Math.atan(a*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,a<=_?s=this.X0:(s=Math.asin(Math.cos(r)*this.sinX0+t.y*Math.sin(r)*this.cosX0/a),e=ht(this.long0+Math.atan2(t.x*Math.sin(r),a*this.cosX0*Math.cos(r)-t.y*this.sinX0*Math.sin(r)))),i=-1*dt(this.e,Math.tan(.5*(p+s)));return t.x=e,t.y=i,t}var Gi=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],Wi={init:Vi,forward:Hi,inverse:qi,names:Gi,ssfn_:zi};function $i(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),i=this.a,n=this.rf,r=1/n,s=2*r-Math.pow(r,2),a=this.e=Math.sqrt(s);this.R=this.k0*i*Math.sqrt(1-s)/(1-s*Math.pow(e,2)),this.alpha=Math.sqrt(1+s/(1-s)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var o=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+t/2)),u=Math.log((1+a*e)/(1-a*e));this.K=o-this.alpha*l+this.alpha*a/2*u}function Ki(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),i=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),n=-this.alpha*(e+i)+this.K,r=2*(Math.atan(Math.exp(n))-Math.PI/4),s=this.alpha*(t.x-this.lambda0),a=Math.atan(Math.sin(s)/(Math.sin(this.b0)*Math.tan(r)+Math.cos(this.b0)*Math.cos(s))),o=Math.asin(Math.cos(this.b0)*Math.sin(r)-Math.sin(this.b0)*Math.cos(r)*Math.cos(s));return t.y=this.R/2*Math.log((1+Math.sin(o))/(1-Math.sin(o)))+this.y0,t.x=this.R*a+this.x0,t}function Zi(t){var e=t.x-this.x0,i=t.y-this.y0,n=e/this.R,r=2*(Math.atan(Math.exp(i/this.R))-Math.PI/4),s=Math.asin(Math.cos(this.b0)*Math.sin(r)+Math.sin(this.b0)*Math.cos(r)*Math.cos(n)),a=Math.atan(Math.sin(n)/(Math.cos(this.b0)*Math.cos(n)-Math.sin(this.b0)*Math.tan(r))),o=this.lambda0+a/this.alpha,l=0,u=s,h=-1e3,c=0;while(Math.abs(u-h)>1e-7){if(++c>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+s/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),h=u,u=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=o,t.y=u,t}var Xi=["somerc"],Yi={init:$i,forward:Ki,inverse:Zi,names:Xi},Qi=1e-7;function Ji(t){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],i="object"===typeof t.PROJECTION?Object.keys(t.PROJECTION)[0]:t.PROJECTION;return"no_uoff"in t||"no_off"in t||-1!==e.indexOf(i)}function tn(){var t,e,i,n,r,s,a,o,l,u,h,c=0,d=0,f=0,m=0,g=0,y=0,w=0;this.no_off=Ji(this),this.no_rot="no_rot"in this;var S=!1;"alpha"in this&&(S=!0);var E=!1;if("rectified_grid_angle"in this&&(E=!0),S&&(w=this.alpha),E&&(c=this.rectified_grid_angle*v),S||E)d=this.longc;else if(f=this.long1,g=this.lat1,m=this.long2,y=this.lat2,Math.abs(g-y)<=Qi||(t=Math.abs(g))<=Qi||Math.abs(t-p)<=Qi||Math.abs(Math.abs(this.lat0)-p)<=Qi||Math.abs(Math.abs(y)-p)<=Qi)throw new Error;var C=1-this.es;e=Math.sqrt(C),Math.abs(this.lat0)>_?(o=Math.sin(this.lat0),i=Math.cos(this.lat0),t=1-this.es*o*o,this.B=i*i,this.B=Math.sqrt(1+this.es*this.B*this.B/C),this.A=this.B*this.k0*e/t,n=this.B*e/(i*Math.sqrt(t)),r=n*n-1,r<=0?r=0:(r=Math.sqrt(r),this.lat0<0&&(r=-r)),this.E=r+=n,this.E*=Math.pow(ct(this.e,this.lat0,o),this.B)):(this.B=1/e,this.A=this.k0,this.E=n=r=1),S||E?(S?(h=Math.asin(Math.sin(w)/n),E||(c=w)):(h=c,w=Math.asin(n*Math.sin(h))),this.lam0=d-Math.asin(.5*(r-1/r)*Math.tan(h))/this.B):(s=Math.pow(ct(this.e,g,Math.sin(g)),this.B),a=Math.pow(ct(this.e,y,Math.sin(y)),this.B),r=this.E/s,l=(a-s)/(a+s),u=this.E*this.E,u=(u-a*s)/(u+a*s),t=f-m,t<-Math.pi?m-=T:t>Math.pi&&(m+=T),this.lam0=ht(.5*(f+m)-Math.atan(u*Math.tan(.5*this.B*(f-m))/l)/this.B),h=Math.atan(2*Math.sin(this.B*ht(f-this.lam0))/(r-1/r)),c=w=Math.asin(n*Math.sin(h))),this.singam=Math.sin(h),this.cosgam=Math.cos(h),this.sinrot=Math.sin(c),this.cosrot=Math.cos(c),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A,this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(n*n-1)/Math.cos(w))),this.lat0<0&&(this.u_0=-this.u_0)),r=.5*h,this.v_pole_n=this.ArB*Math.log(Math.tan(b-r)),this.v_pole_s=this.ArB*Math.log(Math.tan(b+r))}function en(t){var e,i,n,r,s,a,o,l,u={};if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-p)>_){if(s=this.E/Math.pow(ct(this.e,t.y,Math.sin(t.y)),this.B),a=1/s,e=.5*(s-a),i=.5*(s+a),r=Math.sin(this.B*t.x),n=(e*this.singam-r*this.cosgam)/i,Math.abs(Math.abs(n)-1)<_)throw new Error;l=.5*this.ArB*Math.log((1-n)/(1+n)),a=Math.cos(this.B*t.x),o=Math.abs(a)<Qi?this.A*t.x:this.ArB*Math.atan2(e*this.cosgam+r*this.singam,a)}else l=t.y>0?this.v_pole_n:this.v_pole_s,o=this.ArB*t.y;return this.no_rot?(u.x=o,u.y=l):(o-=this.u_0,u.x=l*this.cosrot+o*this.sinrot,u.y=o*this.cosrot-l*this.sinrot),u.x=this.a*u.x+this.x0,u.y=this.a*u.y+this.y0,u}function nn(t){var e,i,n,r,s,a,o,l={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(i=t.y,e=t.x):(i=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),n=Math.exp(-this.BrA*i),r=.5*(n-1/n),s=.5*(n+1/n),a=Math.sin(this.BrA*e),o=(a*this.cosgam+r*this.singam)/s,Math.abs(Math.abs(o)-1)<_)l.x=0,l.y=o<0?-p:p;else{if(l.y=this.E/Math.sqrt((1+o)/(1-o)),l.y=dt(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(r*this.cosgam-a*this.singam,Math.cos(this.BrA*e))}return l.x+=this.lam0,l}var rn=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"],sn={init:tn,forward:en,inverse:nn,names:rn};function an(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<_)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),i=Math.cos(this.lat1),n=lt(this.e,e,i),r=ct(this.e,this.lat1,e),s=Math.sin(this.lat2),a=Math.cos(this.lat2),o=lt(this.e,s,a),l=ct(this.e,this.lat2,s),u=ct(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>_?this.ns=Math.log(n/o)/Math.log(r/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=n/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(u,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function on(t){var e=t.x,i=t.y;Math.abs(2*Math.abs(i)-Math.PI)<=_&&(i=ut(i)*(p-2*_));var n,r,s=Math.abs(Math.abs(i)-p);if(s>_)n=ct(this.e,i,Math.sin(i)),r=this.a*this.f0*Math.pow(n,this.ns);else{if(s=i*this.ns,s<=0)return null;r=0}var a=this.ns*ht(e-this.long0);return t.x=this.k0*(r*Math.sin(a))+this.x0,t.y=this.k0*(this.rh-r*Math.cos(a))+this.y0,t}function ln(t){var e,i,n,r,s,a=(t.x-this.x0)/this.k0,o=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(a*a+o*o),i=1):(e=-Math.sqrt(a*a+o*o),i=-1);var l=0;if(0!==e&&(l=Math.atan2(i*a,i*o)),0!==e||this.ns>0){if(i=1/this.ns,n=Math.pow(e/(this.a*this.f0),i),r=dt(this.e,n),-9999===r)return null}else r=-p;return s=ht(l/this.ns+this.long0),t.x=s,t.y=r,t}var un=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc"],hn={init:an,forward:on,inverse:ln,names:un};function cn(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function dn(t){var e,i,n,r,s,a,o,l=t.x,u=t.y,h=ht(l-this.long0);return e=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),i=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/e)-this.s45),n=-h*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(n)),s=Math.asin(Math.cos(i)*Math.sin(n)/Math.cos(r)),a=this.n*s,o=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),t.y=o*Math.cos(a)/1,t.x=o*Math.sin(a)/1,this.czech||(t.y*=-1,t.x*=-1),t}function pn(t){var e,i,n,r,s,a,o,l,u=t.x;t.x=t.y,t.y=u,this.czech||(t.y*=-1,t.x*=-1),a=Math.sqrt(t.x*t.x+t.y*t.y),s=Math.atan2(t.y,t.x),r=s/Math.sin(this.s0),n=2*(Math.atan(Math.pow(this.ro0/a,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(n)-Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),i=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(e)),t.x=this.long0-i/this.alfa,o=e,l=0;var h=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(o))/(1-this.e*Math.sin(o)),this.e/2))-this.s45),Math.abs(o-t.y)<1e-10&&(l=1),o=t.y,h+=1}while(0===l&&h<15);return h>=15?null:t}var fn=["Krovak","krovak"],mn={init:cn,forward:dn,inverse:pn,names:fn},gn=function(t,e,i,n,r){return t*r-e*Math.sin(2*r)+i*Math.sin(4*r)-n*Math.sin(6*r)},_n=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))},vn=function(t){return.375*t*(1+.25*t*(1+.46875*t))},yn=function(t){return.05859375*t*t*(1+.75*t)},bn=function(t){return t*t*t*(35/3072)},Tn=function(t,e,i){var n=e*i;return t/Math.sqrt(1-n*n)},wn=function(t){return Math.abs(t)<p?t:t-ut(t)*Math.PI},Sn=function(t,e,i,n,r){var s,a;s=t/e;for(var o=0;o<15;o++)if(a=(t-(e*s-i*Math.sin(2*s)+n*Math.sin(4*s)-r*Math.sin(6*s)))/(e-2*i*Math.cos(2*s)+4*n*Math.cos(4*s)-6*r*Math.cos(6*s)),s+=a,Math.abs(a)<=1e-10)return s;return NaN};function En(){this.sphere||(this.e0=_n(this.es),this.e1=vn(this.es),this.e2=yn(this.es),this.e3=bn(this.es),this.ml0=this.a*gn(this.e0,this.e1,this.e2,this.e3,this.lat0))}function Cn(t){var e,i,n=t.x,r=t.y;if(n=ht(n-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(r)*Math.sin(n)),i=this.a*(Math.atan2(Math.tan(r),Math.cos(n))-this.lat0);else{var s=Math.sin(r),a=Math.cos(r),o=Tn(this.a,this.e,s),l=Math.tan(r)*Math.tan(r),u=n*Math.cos(r),h=u*u,c=this.es*a*a/(1-this.es),d=this.a*gn(this.e0,this.e1,this.e2,this.e3,r);e=o*u*(1-h*l*(1/6-(8-l+8*c)*h/120)),i=d-this.ml0+o*s/a*h*(.5+(5-l+6*c)*h/24)}return t.x=e+this.x0,t.y=i+this.y0,t}function kn(t){t.x-=this.x0,t.y-=this.y0;var e,i,n=t.x/this.a,r=t.y/this.a;if(this.sphere){var s=r+this.lat0;e=Math.asin(Math.sin(s)*Math.cos(n)),i=Math.atan2(Math.tan(n),Math.cos(s))}else{var a=this.ml0/this.a+r,o=Sn(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(o)-p)<=_)return t.x=this.long0,t.y=p,r<0&&(t.y*=-1),t;var l=Tn(this.a,this.e,Math.sin(o)),u=l*l*l/this.a/this.a*(1-this.es),h=Math.pow(Math.tan(o),2),c=n*this.a/l,d=c*c;e=o-l*Math.tan(o)/u*c*c*(.5-(1+3*h)*c*c/24),i=c*(1-d*(h/3+(1+3*h)*h*d/15))/Math.cos(o)}return t.x=ht(i+this.long0),t.y=wn(e),t}var xn=["Cassini","Cassini_Soldner","cass"],Mn={init:En,forward:Cn,inverse:kn,names:xn},An=function(t,e){var i;return t>1e-7?(i=t*e,(1-t*t)*(e/(1-i*i)-.5/t*Math.log((1-i)/(1+i)))):2*e},In=1,On=2,Pn=3,Ln=4;function Rn(){var t,e=Math.abs(this.lat0);if(Math.abs(e-p)<_?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<_?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=An(this.e,1),this.mmf=.5/(1-this.es),this.apa=Hn(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=An(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function Dn(t){var e,i,n,r,s,a,o,l,u,h,c=t.x,d=t.y;if(c=ht(c-this.long0),this.sphere){if(s=Math.sin(d),h=Math.cos(d),n=Math.cos(c),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(i=this.mode===this.EQUIT?1+h*n:1+this.sinph0*s+this.cosph0*h*n,i<=_)return null;i=Math.sqrt(2/i),e=i*h*Math.sin(c),i*=this.mode===this.EQUIT?s:this.cosph0*s-this.sinph0*h*n}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),Math.abs(d+this.lat0)<_)return null;i=b-.5*d,i=2*(this.mode===this.S_POLE?Math.cos(i):Math.sin(i)),e=i*Math.sin(c),i*=n}}else{switch(o=0,l=0,u=0,n=Math.cos(c),r=Math.sin(c),s=Math.sin(d),a=An(this.e,s),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(o=a/this.qp,l=Math.sqrt(1-o*o)),this.mode){case this.OBLIQ:u=1+this.sinb1*o+this.cosb1*l*n;break;case this.EQUIT:u=1+l*n;break;case this.N_POLE:u=p+d,a=this.qp-a;break;case this.S_POLE:u=d-p,a=this.qp+a;break}if(Math.abs(u)<_)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:u=Math.sqrt(2/u),i=this.mode===this.OBLIQ?this.ymf*u*(this.cosb1*o-this.sinb1*l*n):(u=Math.sqrt(2/(1+l*n)))*o*this.ymf,e=this.xmf*u*l*r;break;case this.N_POLE:case this.S_POLE:a>=0?(e=(u=Math.sqrt(a))*r,i=n*(this.mode===this.S_POLE?u:-u)):e=i=0;break}}return t.x=this.a*e+this.x0,t.y=this.a*i+this.y0,t}function Nn(t){t.x-=this.x0,t.y-=this.y0;var e,i,n,r,s,a,o,l=t.x/this.a,u=t.y/this.a;if(this.sphere){var h,c=0,d=0;if(h=Math.sqrt(l*l+u*u),i=.5*h,i>1)return null;switch(i=2*Math.asin(i),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(d=Math.sin(i),c=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(h)<=_?0:Math.asin(u*d/h),l*=d,u=c*h;break;case this.OBLIQ:i=Math.abs(h)<=_?this.lat0:Math.asin(c*this.sinph0+u*d*this.cosph0/h),l*=d*this.cosph0,u=(c-Math.sin(i)*this.sinph0)*h;break;case this.N_POLE:u=-u,i=p-i;break;case this.S_POLE:i-=p;break}e=0!==u||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(l,u):0}else{if(o=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(l/=this.dd,u*=this.dd,a=Math.sqrt(l*l+u*u),a<_)return t.x=this.long0,t.y=this.lat0,t;r=2*Math.asin(.5*a/this.rq),n=Math.cos(r),l*=r=Math.sin(r),this.mode===this.OBLIQ?(o=n*this.sinb1+u*r*this.cosb1/a,s=this.qp*o,u=a*this.cosb1*n-u*this.sinb1*r):(o=u*r/a,s=this.qp*o,u=a*n)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(u=-u),s=l*l+u*u,!s)return t.x=this.long0,t.y=this.lat0,t;o=1-s/this.qp,this.mode===this.S_POLE&&(o=-o)}e=Math.atan2(l,u),i=qn(Math.asin(o),this.apa)}return t.x=ht(this.long0+e),t.y=i,t}var Bn=.3333333333333333,jn=.17222222222222222,Un=.10257936507936508,Fn=.06388888888888888,zn=.0664021164021164,Vn=.016415012942191543;function Hn(t){var e,i=[];return i[0]=t*Bn,e=t*t,i[0]+=e*jn,i[1]=e*Fn,e*=t,i[0]+=e*Un,i[1]+=e*zn,i[2]=e*Vn,i}function qn(t,e){var i=t+t;return t+e[0]*Math.sin(i)+e[1]*Math.sin(i+i)+e[2]*Math.sin(i+i+i)}var Gn=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],Wn={init:Rn,forward:Dn,inverse:Nn,names:Gn,S_POLE:In,N_POLE:On,EQUIT:Pn,OBLIQ:Ln},$n=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)};function Kn(){Math.abs(this.lat1+this.lat2)<_||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=lt(this.e3,this.sin_po,this.cos_po),this.qs1=An(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=lt(this.e3,this.sin_po,this.cos_po),this.qs2=An(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=An(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>_?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function Zn(t){var e=t.x,i=t.y;this.sin_phi=Math.sin(i),this.cos_phi=Math.cos(i);var n=An(this.e3,this.sin_phi,this.cos_phi),r=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,s=this.ns0*ht(e-this.long0),a=r*Math.sin(s)+this.x0,o=this.rh-r*Math.cos(s)+this.y0;return t.x=a,t.y=o,t}function Xn(t){var e,i,n,r,s,a;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),n=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),n=-1),r=0,0!==e&&(r=Math.atan2(n*t.x,n*t.y)),n=e*this.ns0/this.a,this.sphere?a=Math.asin((this.c-n*n)/(2*this.ns0)):(i=(this.c-n*n)/this.ns0,a=this.phi1z(this.e3,i)),s=ht(r/this.ns0+this.long0),t.x=s,t.y=a,t}function Yn(t,e){var i,n,r,s,a,o=$n(.5*e);if(t<_)return o;for(var l=t*t,u=1;u<=25;u++)if(i=Math.sin(o),n=Math.cos(o),r=t*i,s=1-r*r,a=.5*s*s/n*(e/(1-l)-i/s+.5/t*Math.log((1-r)/(1+r))),o+=a,Math.abs(a)<=1e-7)return o;return null}var Qn=["Albers_Conic_Equal_Area","Albers","aea"],Jn={init:Kn,forward:Zn,inverse:Xn,names:Qn,phi1z:Yn};function tr(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function er(t){var e,i,n,r,s,a,o,l,u=t.x,h=t.y;return n=ht(u-this.long0),e=Math.sin(h),i=Math.cos(h),r=Math.cos(n),a=this.sin_p14*e+this.cos_p14*i*r,s=1,a>0||Math.abs(a)<=_?(o=this.x0+this.a*s*i*Math.sin(n)/a,l=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*i*r)/a):(o=this.x0+this.infinity_dist*i*Math.sin(n),l=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*i*r)),t.x=o,t.y=l,t}function ir(t){var e,i,n,r,s,a;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(r=Math.atan2(e,this.rc),i=Math.sin(r),n=Math.cos(r),a=$n(n*this.sin_p14+t.y*i*this.cos_p14/e),s=Math.atan2(t.x*i,e*this.cos_p14*n-t.y*this.sin_p14*i),s=ht(this.long0+s)):(a=this.phic0,s=0),t.x=s,t.y=a,t}var nr=["gnom"],rr={init:tr,forward:er,inverse:ir,names:nr},sr=function(t,e){var i=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-i)<1e-6)return e<0?-1*p:p;for(var n,r,s,a,o=Math.asin(.5*e),l=0;l<30;l++)if(r=Math.sin(o),s=Math.cos(o),a=t*r,n=Math.pow(1-a*a,2)/(2*s)*(e/(1-t*t)-r/(1-a*a)+.5/t*Math.log((1-a)/(1+a))),o+=n,Math.abs(n)<=1e-10)return o;return NaN};function ar(){this.sphere||(this.k0=lt(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function or(t){var e,i,n=t.x,r=t.y,s=ht(n-this.long0);if(this.sphere)e=this.x0+this.a*s*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var a=An(this.e,Math.sin(r));e=this.x0+this.a*this.k0*s,i=this.y0+this.a*a*.5/this.k0}return t.x=e,t.y=i,t}function lr(t){var e,i;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=ht(this.long0+t.x/this.a/Math.cos(this.lat_ts)),i=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(i=sr(this.e,2*t.y*this.k0/this.a),e=ht(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=i,t}var ur=["cea"],hr={init:ar,forward:or,inverse:lr,names:ur};function cr(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function dr(t){var e=t.x,i=t.y,n=ht(e-this.long0),r=wn(i-this.lat0);return t.x=this.x0+this.a*n*this.rc,t.y=this.y0+this.a*r,t}function pr(t){var e=t.x,i=t.y;return t.x=ht(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=wn(this.lat0+(i-this.y0)/this.a),t}var fr=["Equirectangular","Equidistant_Cylindrical","eqc"],mr={init:cr,forward:dr,inverse:pr,names:fr},gr=20;function _r(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=_n(this.es),this.e1=vn(this.es),this.e2=yn(this.es),this.e3=bn(this.es),this.ml0=this.a*gn(this.e0,this.e1,this.e2,this.e3,this.lat0)}function vr(t){var e,i,n,r=t.x,s=t.y,a=ht(r-this.long0);if(n=a*Math.sin(s),this.sphere)Math.abs(s)<=_?(e=this.a*a,i=-1*this.a*this.lat0):(e=this.a*Math.sin(n)/Math.tan(s),i=this.a*(wn(s-this.lat0)+(1-Math.cos(n))/Math.tan(s)));else if(Math.abs(s)<=_)e=this.a*a,i=-1*this.ml0;else{var o=Tn(this.a,this.e,Math.sin(s))/Math.tan(s);e=o*Math.sin(n),i=this.a*gn(this.e0,this.e1,this.e2,this.e3,s)-this.ml0+o*(1-Math.cos(n))}return t.x=e+this.x0,t.y=i+this.y0,t}function yr(t){var e,i,n,r,s,a,o,l,u;if(n=t.x-this.x0,r=t.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=_)e=ht(n/this.a+this.long0),i=0;else{var h;for(a=this.lat0+r/this.a,o=n*n/this.a/this.a+a*a,l=a,s=gr;s;--s)if(h=Math.tan(l),u=-1*(a*(l*h+1)-l-.5*(l*l+o)*h)/((l-a)/h-1),l+=u,Math.abs(u)<=_){i=l;break}e=ht(this.long0+Math.asin(n*Math.tan(l)/this.a)/Math.sin(i))}else if(Math.abs(r+this.ml0)<=_)i=0,e=ht(this.long0+n/this.a);else{var c,d,p,f,m;for(a=(this.ml0+r)/this.a,o=n*n/this.a/this.a+a*a,l=a,s=gr;s;--s)if(m=this.e*Math.sin(l),c=Math.sqrt(1-m*m)*Math.tan(l),d=this.a*gn(this.e0,this.e1,this.e2,this.e3,l),p=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),f=d/this.a,u=(a*(c*f+1)-f-.5*c*(f*f+o))/(this.es*Math.sin(2*l)*(f*f+o-2*a*f)/(4*c)+(a-f)*(c*p-2/Math.sin(2*l))-p),l-=u,Math.abs(u)<=_){i=l;break}c=Math.sqrt(1-this.es*Math.pow(Math.sin(i),2))*Math.tan(i),e=ht(this.long0+Math.asin(n*c/this.a)/Math.sin(i))}return t.x=e,t.y=i,t}var br=["Polyconic","poly"],Tr={init:_r,forward:vr,inverse:yr,names:br};function wr(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function Sr(t){var e,i=t.x,n=t.y,r=n-this.lat0,s=i-this.long0,a=r/d*1e-5,o=s,l=1,u=0;for(e=1;e<=10;e++)l*=a,u+=this.A[e]*l;var h,c,p=u,f=o,m=1,g=0,_=0,v=0;for(e=1;e<=6;e++)h=m*p-g*f,c=g*p+m*f,m=h,g=c,_=_+this.B_re[e]*m-this.B_im[e]*g,v=v+this.B_im[e]*m+this.B_re[e]*g;return t.x=v*this.a+this.x0,t.y=_*this.a+this.y0,t}function Er(t){var e,i,n,r=t.x,s=t.y,a=r-this.x0,o=s-this.y0,l=o/this.a,u=a/this.a,h=1,c=0,p=0,f=0;for(e=1;e<=6;e++)i=h*l-c*u,n=c*l+h*u,h=i,c=n,p=p+this.C_re[e]*h-this.C_im[e]*c,f=f+this.C_im[e]*h+this.C_re[e]*c;for(var m=0;m<this.iterations;m++){var g,_,v=p,y=f,b=l,T=u;for(e=2;e<=6;e++)g=v*p-y*f,_=y*p+v*f,v=g,y=_,b+=(e-1)*(this.B_re[e]*v-this.B_im[e]*y),T+=(e-1)*(this.B_im[e]*v+this.B_re[e]*y);v=1,y=0;var w=this.B_re[1],S=this.B_im[1];for(e=2;e<=6;e++)g=v*p-y*f,_=y*p+v*f,v=g,y=_,w+=e*(this.B_re[e]*v-this.B_im[e]*y),S+=e*(this.B_im[e]*v+this.B_re[e]*y);var E=w*w+S*S;p=(b*w+T*S)/E,f=(T*w-b*S)/E}var C=p,k=f,x=1,M=0;for(e=1;e<=9;e++)x*=C,M+=this.D[e]*x;var A=this.lat0+M*d*1e5,I=this.long0+k;return t.x=I,t.y=A,t}var Cr=["New_Zealand_Map_Grid","nzmg"],kr={init:wr,forward:Sr,inverse:Er,names:Cr};function xr(){}function Mr(t){var e=t.x,i=t.y,n=ht(e-this.long0),r=this.x0+this.a*n,s=this.y0+this.a*Math.log(Math.tan(Math.PI/4+i/2.5))*1.25;return t.x=r,t.y=s,t}function Ar(t){t.x-=this.x0,t.y-=this.y0;var e=ht(this.long0+t.x/this.a),i=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=i,t}var Ir=["Miller_Cylindrical","mill"],Or={init:xr,forward:Mr,inverse:Ar,names:Ir},Pr=20;function Lr(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=ii(this.es)}function Rr(t){var e,i,n=t.x,r=t.y;if(n=ht(n-this.long0),this.sphere){if(this.m)for(var s=this.n*Math.sin(r),a=Pr;a;--a){var o=(this.m*r+Math.sin(r)-s)/(this.m+Math.cos(r));if(r-=o,Math.abs(o)<_)break}else r=1!==this.n?Math.asin(this.n*Math.sin(r)):r;e=this.a*this.C_x*n*(this.m+Math.cos(r)),i=this.a*this.C_y*r}else{var l=Math.sin(r),u=Math.cos(r);i=this.a*ni(r,l,u,this.en),e=this.a*n*u/Math.sqrt(1-this.es*l*l)}return t.x=e,t.y=i,t}function Dr(t){var e,i,n,r;return t.x-=this.x0,n=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,n/=this.C_x*(this.m+Math.cos(e)),this.m?e=$n((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=$n(Math.sin(e)/this.n)),n=ht(n+this.long0),e=wn(e)):(e=si(t.y/this.a,this.es,this.en),r=Math.abs(e),r<p?(r=Math.sin(e),i=this.long0+t.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(e)),n=ht(i)):r-_<p&&(n=this.long0)),t.x=n,t.y=e,t}var Nr=["Sinusoidal","sinu"],Br={init:Lr,forward:Rr,inverse:Dr,names:Nr};function jr(){}function Ur(t){var e=t.x,i=t.y,n=ht(e-this.long0),r=i,s=Math.PI*Math.sin(i);while(1){var a=-(r+Math.sin(r)-s)/(1+Math.cos(r));if(r+=a,Math.abs(a)<_)break}r/=2,Math.PI/2-Math.abs(i)<_&&(n=0);var o=.900316316158*this.a*n*Math.cos(r)+this.x0,l=1.4142135623731*this.a*Math.sin(r)+this.y0;return t.x=o,t.y=l,t}function Fr(t){var e,i;t.x-=this.x0,t.y-=this.y0,i=t.y/(1.4142135623731*this.a),Math.abs(i)>.999999999999&&(i=.999999999999),e=Math.asin(i);var n=ht(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));n<-Math.PI&&(n=-Math.PI),n>Math.PI&&(n=Math.PI),i=(2*e+Math.sin(2*e))/Math.PI,Math.abs(i)>1&&(i=1);var r=Math.asin(i);return t.x=n,t.y=r,t}var zr=["Mollweide","moll"],Vr={init:jr,forward:Ur,inverse:Fr,names:zr};function Hr(){Math.abs(this.lat1+this.lat2)<_||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=_n(this.es),this.e1=vn(this.es),this.e2=yn(this.es),this.e3=bn(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=lt(this.e,this.sinphi,this.cosphi),this.ml1=gn(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<_?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=lt(this.e,this.sinphi,this.cosphi),this.ml2=gn(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=gn(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function qr(t){var e,i=t.x,n=t.y;if(this.sphere)e=this.a*(this.g-n);else{var r=gn(this.e0,this.e1,this.e2,this.e3,n);e=this.a*(this.g-r)}var s=this.ns*ht(i-this.long0),a=this.x0+e*Math.sin(s),o=this.y0+this.rh-e*Math.cos(s);return t.x=a,t.y=o,t}function Gr(t){var e,i,n,r;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(i=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(i=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var s=0;if(0!==i&&(s=Math.atan2(e*t.x,e*t.y)),this.sphere)return r=ht(this.long0+s/this.ns),n=wn(this.g-i/this.a),t.x=r,t.y=n,t;var a=this.g-i/this.a;return n=Sn(a,this.e0,this.e1,this.e2,this.e3),r=ht(this.long0+s/this.ns),t.x=r,t.y=n,t}var Wr=["Equidistant_Conic","eqdc"],$r={init:Hr,forward:qr,inverse:Gr,names:Wr};function Kr(){this.R=this.a}function Zr(t){var e,i,n=t.x,r=t.y,s=ht(n-this.long0);Math.abs(r)<=_&&(e=this.x0+this.R*s,i=this.y0);var a=$n(2*Math.abs(r/Math.PI));(Math.abs(s)<=_||Math.abs(Math.abs(r)-p)<=_)&&(e=this.x0,i=r>=0?this.y0+Math.PI*this.R*Math.tan(.5*a):this.y0+Math.PI*this.R*-Math.tan(.5*a));var o=.5*Math.abs(Math.PI/s-s/Math.PI),l=o*o,u=Math.sin(a),h=Math.cos(a),c=h/(u+h-1),d=c*c,f=c*(2/u-1),m=f*f,g=Math.PI*this.R*(o*(c-m)+Math.sqrt(l*(c-m)*(c-m)-(m+l)*(d-m)))/(m+l);s<0&&(g=-g),e=this.x0+g;var v=l+c;return g=Math.PI*this.R*(f*v-o*Math.sqrt((m+l)*(l+1)-v*v))/(m+l),i=r>=0?this.y0+g:this.y0-g,t.x=e,t.y=i,t}function Xr(t){var e,i,n,r,s,a,o,l,u,h,c,d,p;return t.x-=this.x0,t.y-=this.y0,c=Math.PI*this.R,n=t.x/c,r=t.y/c,s=n*n+r*r,a=-Math.abs(r)*(1+s),o=a-2*r*r+n*n,l=-2*a+1+2*r*r+s*s,p=r*r/l+(2*o*o*o/l/l/l-9*a*o/l/l)/27,u=(a-o*o/3/l)/l,h=2*Math.sqrt(-u/3),c=3*p/u/h,Math.abs(c)>1&&(c=c>=0?1:-1),d=Math.acos(c)/3,i=t.y>=0?(-h*Math.cos(d+Math.PI/3)-o/3/l)*Math.PI:-(-h*Math.cos(d+Math.PI/3)-o/3/l)*Math.PI,e=Math.abs(n)<_?this.long0:ht(this.long0+Math.PI*(s-1+Math.sqrt(1+2*(n*n-r*r)+s*s))/2/n),t.x=e,t.y=i,t}var Yr=["Van_der_Grinten_I","VanDerGrinten","vandg"],Qr={init:Kr,forward:Zr,inverse:Xr,names:Yr};function Jr(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function ts(t){var e,i,n,r,s,a,o,l,u,h,c,d,f,m,g,v,y,b,T,w,S,E,C,k=t.x,x=t.y,M=Math.sin(t.y),A=Math.cos(t.y),I=ht(k-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=_?(t.x=this.x0+this.a*(p-x)*Math.sin(I),t.y=this.y0-this.a*(p-x)*Math.cos(I),t):Math.abs(this.sin_p12+1)<=_?(t.x=this.x0+this.a*(p+x)*Math.sin(I),t.y=this.y0+this.a*(p+x)*Math.cos(I),t):(b=this.sin_p12*M+this.cos_p12*A*Math.cos(I),v=Math.acos(b),y=v?v/Math.sin(v):1,t.x=this.x0+this.a*y*A*Math.sin(I),t.y=this.y0+this.a*y*(this.cos_p12*M-this.sin_p12*A*Math.cos(I)),t):(e=_n(this.es),i=vn(this.es),n=yn(this.es),r=bn(this.es),Math.abs(this.sin_p12-1)<=_?(s=this.a*gn(e,i,n,r,p),a=this.a*gn(e,i,n,r,x),t.x=this.x0+(s-a)*Math.sin(I),t.y=this.y0-(s-a)*Math.cos(I),t):Math.abs(this.sin_p12+1)<=_?(s=this.a*gn(e,i,n,r,p),a=this.a*gn(e,i,n,r,x),t.x=this.x0+(s+a)*Math.sin(I),t.y=this.y0+(s+a)*Math.cos(I),t):(o=M/A,l=Tn(this.a,this.e,this.sin_p12),u=Tn(this.a,this.e,M),h=Math.atan((1-this.es)*o+this.es*l*this.sin_p12/(u*A)),c=Math.atan2(Math.sin(I),this.cos_p12*Math.tan(h)-this.sin_p12*Math.cos(I)),T=0===c?Math.asin(this.cos_p12*Math.sin(h)-this.sin_p12*Math.cos(h)):Math.abs(Math.abs(c)-Math.PI)<=_?-Math.asin(this.cos_p12*Math.sin(h)-this.sin_p12*Math.cos(h)):Math.asin(Math.sin(I)*Math.cos(h)/Math.sin(c)),d=this.e*this.sin_p12/Math.sqrt(1-this.es),f=this.e*this.cos_p12*Math.cos(c)/Math.sqrt(1-this.es),m=d*f,g=f*f,w=T*T,S=w*T,E=S*T,C=E*T,v=l*T*(1-w*g*(1-g)/6+S/8*m*(1-2*g)+E/120*(g*(4-7*g)-3*d*d*(1-7*g))-C/48*m),t.x=this.x0+v*Math.sin(c),t.y=this.y0+v*Math.cos(c),t))}function es(t){var e,i,n,r,s,a,o,l,u,h,c,d,f,m,g,v,y,b,T,w,S,E,C,k;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*p*this.a)return;return i=e/this.a,n=Math.sin(i),r=Math.cos(i),s=this.long0,Math.abs(e)<=_?a=this.lat0:(a=$n(r*this.sin_p12+t.y*n*this.cos_p12/e),o=Math.abs(this.lat0)-p,s=Math.abs(o)<=_?this.lat0>=0?ht(this.long0+Math.atan2(t.x,-t.y)):ht(this.long0-Math.atan2(-t.x,t.y)):ht(this.long0+Math.atan2(t.x*n,e*this.cos_p12*r-t.y*this.sin_p12*n))),t.x=s,t.y=a,t}return l=_n(this.es),u=vn(this.es),h=yn(this.es),c=bn(this.es),Math.abs(this.sin_p12-1)<=_?(d=this.a*gn(l,u,h,c,p),e=Math.sqrt(t.x*t.x+t.y*t.y),f=d-e,a=Sn(f/this.a,l,u,h,c),s=ht(this.long0+Math.atan2(t.x,-1*t.y)),t.x=s,t.y=a,t):Math.abs(this.sin_p12+1)<=_?(d=this.a*gn(l,u,h,c,p),e=Math.sqrt(t.x*t.x+t.y*t.y),f=e-d,a=Sn(f/this.a,l,u,h,c),s=ht(this.long0+Math.atan2(t.x,t.y)),t.x=s,t.y=a,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),v=Math.atan2(t.x,t.y),m=Tn(this.a,this.e,this.sin_p12),y=Math.cos(v),b=this.e*this.cos_p12*y,T=-b*b/(1-this.es),w=3*this.es*(1-T)*this.sin_p12*this.cos_p12*y/(1-this.es),S=e/m,E=S-T*(1+T)*Math.pow(S,3)/6-w*(1+3*T)*Math.pow(S,4)/24,C=1-T*E*E/2-S*E*E*E/6,g=Math.asin(this.sin_p12*Math.cos(E)+this.cos_p12*Math.sin(E)*y),s=ht(this.long0+Math.asin(Math.sin(v)*Math.sin(E)/Math.cos(g))),k=Math.sin(g),a=Math.atan2((k-this.es*C*this.sin_p12)*Math.tan(g),k*(1-this.es)),t.x=s,t.y=a,t)}var is=["Azimuthal_Equidistant","aeqd"],ns={init:Jr,forward:ts,inverse:es,names:is};function rs(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function ss(t){var e,i,n,r,s,a,o,l,u=t.x,h=t.y;return n=ht(u-this.long0),e=Math.sin(h),i=Math.cos(h),r=Math.cos(n),a=this.sin_p14*e+this.cos_p14*i*r,s=1,(a>0||Math.abs(a)<=_)&&(o=this.a*s*i*Math.sin(n),l=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*i*r)),t.x=o,t.y=l,t}function as(t){var e,i,n,r,s,a,o;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),i=$n(e/this.a),n=Math.sin(i),r=Math.cos(i),a=this.long0,Math.abs(e)<=_?(o=this.lat0,t.x=a,t.y=o,t):(o=$n(r*this.sin_p14+t.y*n*this.cos_p14/e),s=Math.abs(this.lat0)-p,Math.abs(s)<=_?(a=this.lat0>=0?ht(this.long0+Math.atan2(t.x,-t.y)):ht(this.long0-Math.atan2(-t.x,t.y)),t.x=a,t.y=o,t):(a=ht(this.long0+Math.atan2(t.x*n,e*this.cos_p14*r-t.y*this.sin_p14*n)),t.x=a,t.y=o,t))}var os=["ortho"],ls={init:rs,forward:ss,inverse:as,names:os},us={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},hs={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function cs(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=p-b/2?this.face=us.TOP:this.lat0<=-(p-b/2)?this.face=us.BOTTOM:Math.abs(this.long0)<=b?this.face=us.FRONT:Math.abs(this.long0)<=p+b?this.face=this.long0>0?us.RIGHT:us.LEFT:this.face=us.BACK,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function ds(t){var e,i,n,r,s,a,o={x:0,y:0},l={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,i=t.x,this.face===us.TOP)r=p-e,i>=b&&i<=p+b?(l.value=hs.AREA_0,n=i-p):i>p+b||i<=-(p+b)?(l.value=hs.AREA_1,n=i>0?i-w:i+w):i>-(p+b)&&i<=-b?(l.value=hs.AREA_2,n=i+p):(l.value=hs.AREA_3,n=i);else if(this.face===us.BOTTOM)r=p+e,i>=b&&i<=p+b?(l.value=hs.AREA_0,n=-i+p):i<b&&i>=-b?(l.value=hs.AREA_1,n=-i):i<-b&&i>=-(p+b)?(l.value=hs.AREA_2,n=-i-p):(l.value=hs.AREA_3,n=i>0?-i+w:-i-w);else{var u,h,c,d,f,m,g;this.face===us.RIGHT?i=ms(i,+p):this.face===us.BACK?i=ms(i,+w):this.face===us.LEFT&&(i=ms(i,-p)),d=Math.sin(e),f=Math.cos(e),m=Math.sin(i),g=Math.cos(i),u=f*g,h=f*m,c=d,this.face===us.FRONT?(r=Math.acos(u),n=fs(r,c,h,l)):this.face===us.RIGHT?(r=Math.acos(h),n=fs(r,c,-u,l)):this.face===us.BACK?(r=Math.acos(-u),n=fs(r,c,-h,l)):this.face===us.LEFT?(r=Math.acos(-h),n=fs(r,c,u,l)):(r=n=0,l.value=hs.AREA_0)}return a=Math.atan(12/w*(n+Math.acos(Math.sin(n)*Math.cos(b))-p)),s=Math.sqrt((1-Math.cos(r))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(n))))),l.value===hs.AREA_1?a+=p:l.value===hs.AREA_2?a+=w:l.value===hs.AREA_3&&(a+=1.5*w),o.x=s*Math.cos(a),o.y=s*Math.sin(a),o.x=o.x*this.a+this.x0,o.y=o.y*this.a+this.y0,t.x=o.x,t.y=o.y,t}function ps(t){var e,i,n,r,s,a,o,l,u,h,c,d,f={lam:0,phi:0},m={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,i=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?m.value=hs.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(m.value=hs.AREA_1,e-=p):t.x<0&&-t.x>=Math.abs(t.y)?(m.value=hs.AREA_2,e=e<0?e+w:e-w):(m.value=hs.AREA_3,e+=p),u=w/12*Math.tan(e),s=Math.sin(u)/(Math.cos(u)-1/Math.sqrt(2)),a=Math.atan(s),n=Math.cos(e),r=Math.tan(i),o=1-n*n*r*r*(1-Math.cos(Math.atan(1/Math.cos(a)))),o<-1?o=-1:o>1&&(o=1),this.face===us.TOP)l=Math.acos(o),f.phi=p-l,m.value===hs.AREA_0?f.lam=a+p:m.value===hs.AREA_1?f.lam=a<0?a+w:a-w:m.value===hs.AREA_2?f.lam=a-p:f.lam=a;else if(this.face===us.BOTTOM)l=Math.acos(o),f.phi=l-p,m.value===hs.AREA_0?f.lam=-a+p:m.value===hs.AREA_1?f.lam=-a:m.value===hs.AREA_2?f.lam=-a-p:f.lam=a<0?-a-w:-a+w;else{var g,_,v;g=o,u=g*g,v=u>=1?0:Math.sqrt(1-u)*Math.sin(a),u+=v*v,_=u>=1?0:Math.sqrt(1-u),m.value===hs.AREA_1?(u=_,_=-v,v=u):m.value===hs.AREA_2?(_=-_,v=-v):m.value===hs.AREA_3&&(u=_,_=v,v=-u),this.face===us.RIGHT?(u=g,g=-_,_=u):this.face===us.BACK?(g=-g,_=-_):this.face===us.LEFT&&(u=g,g=_,_=-u),f.phi=Math.acos(-v)-p,f.lam=Math.atan2(_,g),this.face===us.RIGHT?f.lam=ms(f.lam,-p):this.face===us.BACK?f.lam=ms(f.lam,-w):this.face===us.LEFT&&(f.lam=ms(f.lam,+p))}0!==this.es&&(h=f.phi<0?1:0,c=Math.tan(f.phi),d=this.b/Math.sqrt(c*c+this.one_minus_f_squared),f.phi=Math.atan(Math.sqrt(this.a*this.a-d*d)/(this.one_minus_f*d)),h&&(f.phi=-f.phi));return f.lam+=this.long0,t.x=f.lam,t.y=f.phi,t}function fs(t,e,i,n){var r;return t<_?(n.value=hs.AREA_0,r=0):(r=Math.atan2(e,i),Math.abs(r)<=b?n.value=hs.AREA_0:r>b&&r<=p+b?(n.value=hs.AREA_1,r-=p):r>p+b||r<=-(p+b)?(n.value=hs.AREA_2,r=r>=0?r-w:r+w):(n.value=hs.AREA_3,r+=p)),r}function ms(t,e){var i=t+e;return i<-w?i+=T:i>+w&&(i-=T),i}var gs=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"],_s={init:cs,forward:ds,inverse:ps,names:gs},vs=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],ys=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],bs=.8487,Ts=1.3523,ws=y/5,Ss=1/ws,Es=18,Cs=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},ks=function(t,e){return t[1]+e*(2*t[2]+3*e*t[3])};function xs(t,e,i,n){for(var r=e;n;--n){var s=t(r);if(r-=s,Math.abs(s)<i)break}return r}function Ms(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function As(t){var e=ht(t.x-this.long0),i=Math.abs(t.y),n=Math.floor(i*ws);n<0?n=0:n>=Es&&(n=Es-1),i=y*(i-Ss*n);var r={x:Cs(vs[n],i)*e,y:Cs(ys[n],i)};return t.y<0&&(r.y=-r.y),r.x=r.x*this.a*bs+this.x0,r.y=r.y*this.a*Ts+this.y0,r}function Is(t){var e={x:(t.x-this.x0)/(this.a*bs),y:Math.abs(t.y-this.y0)/(this.a*Ts)};if(e.y>=1)e.x/=vs[Es][0],e.y=t.y<0?-p:p;else{var i=Math.floor(e.y*Es);for(i<0?i=0:i>=Es&&(i=Es-1);;)if(ys[i][0]>e.y)--i;else{if(!(ys[i+1][0]<=e.y))break;++i}var n=ys[i],r=5*(e.y-n[0])/(ys[i+1][0]-n[0]);r=xs((function(t){return(Cs(n,t)-e.y)/ks(n,t)}),r,_,100),e.x/=Cs(vs[i],r),e.y=(5*i+r)*v,t.y<0&&(e.y=-e.y)}return e.x=ht(e.x+this.long0),e}var Os=["Robinson","robin"],Ps={init:Ms,forward:As,inverse:Is,names:Os};function Ls(){this.name="geocent"}function Rs(t){var e=Yt(t,this.es,this.a);return e}function Ds(t){var e=Qt(t,this.es,this.a,this.b);return e}var Ns=["Geocentric","geocentric","geocent","Geocent"],Bs={init:Ls,forward:Rs,inverse:Ds,names:Ns},js={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},Us={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function Fs(){if(Object.keys(Us).forEach(function(t){if("undefined"===typeof this[t])this[t]=Us[t].def;else{if(Us[t].num&&isNaN(this[t]))throw new Error("Invalid parameter value, must be numeric "+t+" = "+this[t]);Us[t].num&&(this[t]=parseFloat(this[t]))}Us[t].degrees&&(this[t]=this[t]*v)}.bind(this)),Math.abs(Math.abs(this.lat0)-p)<_?this.mode=this.lat0<0?js.S_POLE:js.N_POLE:Math.abs(this.lat0)<_?this.mode=js.EQUIT:(this.mode=js.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)}function zs(t){t.x-=this.long0;var e,i,n,r,s=Math.sin(t.y),a=Math.cos(t.y),o=Math.cos(t.x);switch(this.mode){case js.OBLIQ:i=this.sinph0*s+this.cosph0*a*o;break;case js.EQUIT:i=a*o;break;case js.S_POLE:i=-s;break;case js.N_POLE:i=s;break}switch(i=this.pn1/(this.p-i),e=i*a*Math.sin(t.x),this.mode){case js.OBLIQ:i*=this.cosph0*s-this.sinph0*a*o;break;case js.EQUIT:i*=s;break;case js.N_POLE:i*=-a*o;break;case js.S_POLE:i*=a*o;break}return n=i*this.cg+e*this.sg,r=1/(n*this.sw*this.h1+this.cw),e=(e*this.cg-i*this.sg)*this.cw*r,i=n*r,t.x=e*this.a,t.y=i*this.a,t}function Vs(t){t.x/=this.a,t.y/=this.a;var e,i,n,r={x:t.x,y:t.y};n=1/(this.pn1-t.y*this.sw),e=this.pn1*t.x*n,i=this.pn1*t.y*this.cw*n,t.x=e*this.cg+i*this.sg,t.y=i*this.cg-e*this.sg;var s=di(t.x,t.y);if(Math.abs(s)<_)r.x=0,r.y=t.y;else{var a,o;switch(o=1-s*s*this.pfact,o=(this.p-Math.sqrt(o))/(this.pn1/s+s/this.pn1),a=Math.sqrt(1-o*o),this.mode){case js.OBLIQ:r.y=Math.asin(a*this.sinph0+t.y*o*this.cosph0/s),t.y=(a-this.sinph0*Math.sin(r.y))*s,t.x*=o*this.cosph0;break;case js.EQUIT:r.y=Math.asin(t.y*o/s),t.y=a*s,t.x*=o;break;case js.N_POLE:r.y=Math.asin(a),t.y=-t.y;break;case js.S_POLE:r.y=-Math.asin(a);break}r.x=Math.atan2(t.x,t.y)}return t.x=r.x+this.long0,t.y=r.y,t}var Hs=["Tilted_Perspective","tpers"],qs={init:Fs,forward:zs,inverse:Vs,names:Hs},Gs=function(t){t.Proj.projections.add(hi),t.Proj.projections.add(Si),t.Proj.projections.add(Mi),t.Proj.projections.add(Fi),t.Proj.projections.add(Wi),t.Proj.projections.add(Yi),t.Proj.projections.add(sn),t.Proj.projections.add(hn),t.Proj.projections.add(mn),t.Proj.projections.add(Mn),t.Proj.projections.add(Wn),t.Proj.projections.add(Jn),t.Proj.projections.add(rr),t.Proj.projections.add(hr),t.Proj.projections.add(mr),t.Proj.projections.add(Tr),t.Proj.projections.add(kr),t.Proj.projections.add(Or),t.Proj.projections.add(Br),t.Proj.projections.add(Vr),t.Proj.projections.add($r),t.Proj.projections.add(Qr),t.Proj.projections.add(ns),t.Proj.projections.add(ls),t.Proj.projections.add(_s),t.Proj.projections.add(Ps),t.Proj.projections.add(Bs),t.Proj.projections.add(qs)};ge.defaultDatum="WGS84",ge.Proj=Zt,ge.WGS84=new ge.Proj("WGS84"),ge.Point=He,ge.toPoint=oe,ge.defs=X,ge.nadgrid=Bt,ge.transform=ce,ge.mgrs=Ce,ge.version="__VERSION__",Gs(ge);e["default"]=ge},af98:function(t,e,i){"use strict";e.__esModule=!0;var n=i("61b0"),r=_(n),s=i("702d"),a=g(s),o=i("3a09"),l=g(o),u=i("f545"),h=g(u),c=i("320e"),d=_(c),p=i("9869"),f=_(p),m=i("cff3");function g(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function _(t){return t&&t.__esModule?t:{default:t}}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function b(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var T=function(t){function e(i,n){v(this,e);var r=y(this,t.call(this,i,n));return r.emitTapEvents(),r.enable(),r}return b(e,t),e.prototype.createEl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i=(0,m.assign)({className:this.buildCSSClass(),tabIndex:0},i),"button"===e&&d["default"].error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),n=(0,m.assign)({role:"button","aria-live":"polite"},n),this.tabIndex_=i.tabIndex;var r=t.prototype.createEl.call(this,e,i,n);return this.createControlTextEl(r),r},e.prototype.createControlTextEl=function(t){return this.controlTextEl_=a.createEl("span",{className:"vjs-control-text"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},e.prototype.controlText=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el();if(void 0===t)return this.controlText_||"Need Text";var i=this.localize(t);return this.controlText_=t,this.controlTextEl_.innerHTML=i,this.nonIconControl||e.setAttribute("title",i),this},e.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},e.prototype.enable=function(){return this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),"undefined"!==typeof this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this},e.prototype.disable=function(){return this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),"undefined"!==typeof this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this},e.prototype.handleClick=function(t){},e.prototype.handleFocus=function(t){l.on(f["default"],"keydown",h.bind(this,this.handleKeyPress))},e.prototype.handleKeyPress=function(e){32===e.which||13===e.which?(e.preventDefault(),this.handleClick(e)):t.prototype.handleKeyPress&&t.prototype.handleKeyPress.call(this,e)},e.prototype.handleBlur=function(t){l.off(f["default"],"keydown",h.bind(this,this.handleKeyPress))},e}(r["default"]);r["default"].registerComponent("ClickableComponent",T),e["default"]=T},b03c:function(t,e){var i="auto",n={"":1,lr:1,rl:1},r={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function s(t){if("string"!==typeof t)return!1;var e=n[t.toLowerCase()];return!!e&&t.toLowerCase()}function a(t){if("string"!==typeof t)return!1;var e=r[t.toLowerCase()];return!!e&&t.toLowerCase()}function o(t,e,n){this.hasBeenReset=!1;var r="",o=!1,l=t,u=e,h=n,c=null,d="",p=!0,f="auto",m="start",g="auto",_="auto",v=100,y="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return r},set:function(t){r=""+t}},pauseOnExit:{enumerable:!0,get:function(){return o},set:function(t){o=!!t}},startTime:{enumerable:!0,get:function(){return l},set:function(t){if("number"!==typeof t)throw new TypeError("Start time must be set to a number.");l=t,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return u},set:function(t){if("number"!==typeof t)throw new TypeError("End time must be set to a number.");u=t,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return h},set:function(t){h=""+t,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return c},set:function(t){c=t,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return d},set:function(t){var e=s(t);if(!1===e)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");d=e,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return p},set:function(t){p=!!t,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return f},set:function(t){if("number"!==typeof t&&t!==i)throw new SyntaxError("Line: an invalid number or illegal string was specified.");f=t,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return m},set:function(t){var e=a(t);e?(m=e,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return g},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");g=t,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return _},set:function(t){var e=a(t);e?(_=e,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return v},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");v=t,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return y},set:function(t){var e=a(t);if(!e)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");y=e,this.hasBeenReset=!0}}}),this.displayState=void 0}o.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},t.exports=o},b097:function(t,e){var i=Object.create||function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function n(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}function r(t){function e(t,e,i,n){return 3600*(0|t)+60*(0|e)+(0|i)+(0|n)/1e3}var i=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return i?i[3]?e(i[1],i[2],i[3].replace(":",""),i[4]):i[1]>59?e(i[1],i[2],0,i[4]):e(0,i[1],i[2],i[4]):null}function s(){this.values=i(null)}function a(t,e,i,n){var r=n?t.split(n):[t];for(var s in r)if("string"===typeof r[s]){var a=r[s].split(i);if(2===a.length){var o=a[0],l=a[1];e(o,l)}}}function o(t,e,i){var o=t;function l(){var e=r(t);if(null===e)throw new n(n.Errors.BadTimeStamp,"Malformed timestamp: "+o);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function u(t,e){var n=new s;a(t,(function(t,e){switch(t){case"region":for(var r=i.length-1;r>=0;r--)if(i[r].id===e){n.set(t,i[r].region);break}break;case"vertical":n.alt(t,e,["rl","lr"]);break;case"line":var s=e.split(","),a=s[0];n.integer(t,a),n.percent(t,a)&&n.set("snapToLines",!1),n.alt(t,a,["auto"]),2===s.length&&n.alt("lineAlign",s[1],["start","middle","end"]);break;case"position":s=e.split(","),n.percent(t,s[0]),2===s.length&&n.alt("positionAlign",s[1],["start","middle","end"]);break;case"size":n.percent(t,e);break;case"align":n.alt(t,e,["start","middle","end","left","right"]);break}}),/:/,/\s/),e.region=n.get("region",null),e.vertical=n.get("vertical",""),e.line=n.get("line","auto"),e.lineAlign=n.get("lineAlign","start"),e.snapToLines=n.get("snapToLines",!0),e.size=n.get("size",100),e.align=n.get("align","middle"),e.position=n.get("position",{start:0,left:0,middle:50,end:100,right:100},e.align),e.positionAlign=n.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},e.align)}function h(){t=t.replace(/^\s+/,"")}if(h(),e.startTime=l(),h(),"--\x3e"!==t.substr(0,3))throw new n(n.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+o);t=t.substr(3),h(),e.endTime=l(),h(),u(t,e)}n.prototype=i(Error.prototype),n.prototype.constructor=n,n.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},s.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,i){return i?this.has(t)?this.values[t]:e[i]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,i){for(var n=0;n<i.length;++n)if(e===i[n]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100))&&(this.set(t,e),!0)}};var l={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},u={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},h={v:"title",lang:"lang"},c={rt:"ruby"};function d(t,e){function i(){if(!e)return null;function t(t){return e=e.substr(t.length),t}var i=e.match(/^([^<]*)(<[^>]*>?)?/);return t(i[1]?i[1]:i[2])}function n(t){return l[t]}function s(t){while(v=t.match(/&(amp|lt|gt|lrm|rlm|nbsp);/))t=t.replace(v[0],n);return t}function a(t,e){return!c[e.localName]||c[e.localName]===t.localName}function o(e,i){var n=u[e];if(!n)return null;var r=t.document.createElement(n);r.localName=n;var s=h[e];return s&&i&&(r[s]=i.trim()),r}var d,p=t.document.createElement("div"),f=p,m=[];while(null!==(d=i()))if("<"!==d[0])f.appendChild(t.document.createTextNode(s(d)));else{if("/"===d[1]){m.length&&m[m.length-1]===d.substr(2).replace(">","")&&(m.pop(),f=f.parentNode);continue}var g,_=r(d.substr(1,d.length-2));if(_){g=t.document.createProcessingInstruction("timestamp",_),f.appendChild(g);continue}var v=d.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!v)continue;if(g=o(v[1],v[3]),!g)continue;if(!a(f,g))continue;v[2]&&(g.className=v[2].substr(1).replace("."," ")),m.push(v[1]),f.appendChild(g),f=g}return p}var p=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function f(t){for(var e=0;e<p.length;e++){var i=p[e];if(t>=i[0]&&t<=i[1])return!0}return!1}function m(t){var e,i=[],n="";if(!t||!t.childNodes)return"ltr";function r(t,e){for(var i=e.childNodes.length-1;i>=0;i--)t.push(e.childNodes[i])}function s(t){if(!t||!t.length)return null;var e=t.pop(),i=e.textContent||e.innerText;if(i){var n=i.match(/^.*(\n|\r)/);return n?(t.length=0,n[0]):i}return"ruby"===e.tagName?s(t):e.childNodes?(r(t,e),s(t)):void 0}r(i,t);while(n=s(i))for(var a=0;a<n.length;a++)if(e=n.charCodeAt(a),f(e))return"rtl";return"ltr"}function g(t){if("number"===typeof t.line&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,i=e.textTrackList,n=0,r=0;r<i.length&&i[r]!==e;r++)"showing"===i[r].mode&&n++;return-1*++n}function _(){}function v(t,e,i){var n=/MSIE\s8\.0/.test(navigator.userAgent),r="rgba(255, 255, 255, 1)",s="rgba(0, 0, 0, 0.8)";n&&(r="rgb(255, 255, 255)",s="rgb(0, 0, 0)"),_.call(this),this.cue=e,this.cueDiv=d(t,e.text);var a={color:r,backgroundColor:s,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};n||(a.writingMode=""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",a.unicodeBidi="plaintext"),this.applyStyles(a,this.cueDiv),this.div=t.document.createElement("div"),a={textAlign:"middle"===e.align?"center":e.align,font:i.font,whiteSpace:"pre-line",position:"absolute"},n||(a.direction=m(this.cueDiv),a.writingMode=""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(a),this.div.appendChild(this.cueDiv);var o=0;switch(e.positionAlign){case"start":o=e.position;break;case"middle":o=e.position-e.size/2;break;case"end":o=e.position-e.size;break}""===e.vertical?this.applyStyles({left:this.formatStyle(o,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(o,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}function y(t){var e,i,n,r,s=/MSIE\s8\.0/.test(navigator.userAgent);if(t.div){i=t.div.offsetHeight,n=t.div.offsetWidth,r=t.div.offsetTop;var a=(a=t.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();t=t.div.getBoundingClientRect(),e=a?Math.max(a[0]&&a[0].height||0,t.height/a.length):0}this.left=t.left,this.right=t.right,this.top=t.top||r,this.height=t.height||i,this.bottom=t.bottom||r+(t.height||i),this.width=t.width||n,this.lineHeight=void 0!==e?e:t.lineHeight,s&&!this.lineHeight&&(this.lineHeight=13)}function b(t,e,i,n){function r(t,e){for(var r,s=new y(t),a=1,o=0;o<e.length;o++){while(t.overlapsOppositeAxis(i,e[o])||t.within(i)&&t.overlapsAny(n))t.move(e[o]);if(t.within(i))return t;var l=t.intersectPercentage(i);a>l&&(r=new y(t),a=l),t=new y(s)}return r||s}var s=new y(e),a=e.cue,o=g(a),l=[];if(a.snapToLines){var u;switch(a.vertical){case"":l=["+y","-y"],u="height";break;case"rl":l=["+x","-x"],u="width";break;case"lr":l=["-x","+x"],u="width";break}var h=s.lineHeight,c=h*Math.round(o),d=i[u]+h,p=l[0];Math.abs(c)>d&&(c=c<0?-1:1,c*=Math.ceil(d/h)*h),o<0&&(c+=""===a.vertical?i.height:i.width,l=l.reverse()),s.move(p,c)}else{var f=s.lineHeight/i.height*100;switch(a.lineAlign){case"middle":o-=f/2;break;case"end":o-=f;break}switch(a.vertical){case"":e.applyStyles({top:e.formatStyle(o,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(o,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(o,"%")});break}l=["+y","-x","+x","-y"],s=new y(e)}var m=r(s,l);e.move(m.toCSSCompatValues(i))}function T(){}_.prototype.applyStyles=function(t,e){for(var i in e=e||this.div,t)t.hasOwnProperty(i)&&(e.style[i]=t[i])},_.prototype.formatStyle=function(t,e){return 0===t?0:t+e},v.prototype=i(_.prototype),v.prototype.constructor=v,y.prototype.move=function(t,e){switch(e=void 0!==e?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}},y.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},y.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},y.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},y.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},y.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),i=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),n=e*i;return n/(this.height*this.width)},y.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},y.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,i=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,n=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var r={left:t.left,right:t.right,top:t.top||n,height:t.height||e,bottom:t.bottom||n+(t.height||e),width:t.width||i};return r},T.StringDecoder=function(){return{decode:function(t){if(!t)return"";if("string"!==typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},T.convertCueToDOMTree=function(t,e){return t&&e?d(t,e):null};var w=.05,S="sans-serif",E="1.5%";T.processCues=function(t,e,i){if(!t||!e||!i)return null;while(i.firstChild)i.removeChild(i.firstChild);var n=t.document.createElement("div");function r(t){for(var e=0;e<t.length;e++)if(t[e].hasBeenReset||!t[e].displayState)return!0;return!1}if(n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin=E,i.appendChild(n),r(e)){var s=[],a=y.getSimpleBoxPosition(n),o=Math.round(a.height*w*100)/100,l={font:o+"px "+S};(function(){for(var i,r,o=0;o<e.length;o++)r=e[o],i=new v(t,r,l),n.appendChild(i.div),b(t,i,a,s),r.displayState=i.div,s.push(y.getSimpleBoxPosition(i))})()}else for(var u=0;u<e.length;u++)n.appendChild(e[u].displayState)},T.Parser=function(t,e,i){i||(i=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=i||new TextDecoder("utf8"),this.regionList=[]},T.Parser.prototype={reportOrThrowError:function(t){if(!(t instanceof n))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(t){var e=this;function i(){var t=e.buffer,i=0;while(i<t.length&&"\r"!==t[i]&&"\n"!==t[i])++i;var n=t.substr(0,i);return"\r"===t[i]&&++i,"\n"===t[i]&&++i,e.buffer=t.substr(i),n}function l(t){var i=new s;if(a(t,(function(t,e){switch(t){case"id":i.set(t,e);break;case"width":i.percent(t,e);break;case"lines":i.integer(t,e);break;case"regionanchor":case"viewportanchor":var n=e.split(",");if(2!==n.length)break;var r=new s;if(r.percent("x",n[0]),r.percent("y",n[1]),!r.has("x")||!r.has("y"))break;i.set(t+"X",r.get("x")),i.set(t+"Y",r.get("y"));break;case"scroll":i.alt(t,e,["up"]);break}}),/=/,/\s/),i.has("id")){var n=new(e.vttjs.VTTRegion||e.window.VTTRegion);n.width=i.get("width",100),n.lines=i.get("lines",3),n.regionAnchorX=i.get("regionanchorX",0),n.regionAnchorY=i.get("regionanchorY",100),n.viewportAnchorX=i.get("viewportanchorX",0),n.viewportAnchorY=i.get("viewportanchorY",100),n.scroll=i.get("scroll",""),e.onregion&&e.onregion(n),e.regionList.push({id:i.get("id"),region:n})}}function u(t){var i=new s;a(t,(function(t,e){switch(t){case"MPEGT":i.integer(t+"S",e);break;case"LOCA":i.set(t+"L",r(e));break}}),/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:i.get("MPEGTS"),LOCAL:i.get("LOCAL")})}function h(t){t.match(/X-TIMESTAMP-MAP/)?a(t,(function(t,e){switch(t){case"X-TIMESTAMP-MAP":u(e);break}}),/=/):a(t,(function(t,e){switch(t){case"Region":l(e);break}}),/:/)}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var c;if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;c=i();var d=c.match(/^WEBVTT([ \t].*)?$/);if(!d||!d[0])throw new n(n.Errors.BadSignature);e.state="HEADER"}var p=!1;while(e.buffer){if(!/\r\n|\n/.test(e.buffer))return this;switch(p?p=!1:c=i(),e.state){case"HEADER":/:/.test(c)?h(c):c||(e.state="ID");continue;case"NOTE":c||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(c)){e.state="NOTE";break}if(!c)continue;if(e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,""),e.state="CUE",-1===c.indexOf("--\x3e")){e.cue.id=c;continue}case"CUE":try{o(c,e.cue,e.regionList)}catch(m){e.reportOrThrowError(m),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var f=-1!==c.indexOf("--\x3e");if(!c||f&&(p=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+="\n"),e.cue.text+=c;continue;case"BADCUE":c||(e.state="ID");continue}}}catch(m){e.reportOrThrowError(m),"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new n(n.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}},t.exports=T},b0af:function(t,e,i){"use strict";i("615b");var n=i("10d2"),r=i("297c"),s=i("1c87"),a=i("58df");e["a"]=Object(a["a"])(r["a"],s["a"],n["a"]).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},raised:Boolean},computed:{classes(){return{"v-card":!0,...s["a"].options.computed.classes.call(this),"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--raised":this.raised,...n["a"].options.computed.classes.call(this)}},styles(){const t={...n["a"].options.computed.styles.call(this)};return this.img&&(t.background=`url("${this.img}") center center / cover no-repeat`),t}},methods:{genProgress(){const t=r["a"].options.methods.genProgress.call(this);return t?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[t]):null}},render(t){const{tag:e,data:i}=this.generateRouteLink();return i.style=this.styles,this.isClickable&&(i.attrs=i.attrs||{},i.attrs.tabindex=0),t(e,this.setBackgroundColor(this.color,i),[this.genProgress(),this.$slots.default])}})},b0f9:function(t,e,i){"use strict";function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;t=t<0?0:t;var i=Math.floor(t%60),n=Math.floor(t/60%60),r=Math.floor(t/3600),s=Math.floor(e/60%60),a=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(r=n=i="-"),r=r>0||a>0?r+":":"",n=((r||s>=10)&&n<10?"0"+n:n)+":",i=i<10?"0"+i:i,r+n+i}e.__esModule=!0,e["default"]=n},b17c:function(t,e,i){var n=i("4a4b"),r=i("6f8f");function s(e,i,a){return r()?(t.exports=s=Reflect.construct,t.exports["default"]=t.exports,t.exports.__esModule=!0):(t.exports=s=function(t,e,i){var r=[null];r.push.apply(r,e);var s=Function.bind.apply(t,r),a=new s;return i&&n(a,i.prototype),a},t.exports["default"]=t.exports,t.exports.__esModule=!0),s.apply(null,arguments)}t.exports=s,t.exports["default"]=t.exports,t.exports.__esModule=!0},b553:function(t,e,i){"use strict";e.__esModule=!0;var n=i("dec4"),r=h(n),s=i("61b0"),a=h(s),o=i("702d"),l=u(o);function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function h(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function p(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(i,n){c(this,e);var r=d(this,t.call(this,i,n));return r.on(i,"volumechange",r.update),i.tech_&&!1===i.tech_.featuresVolumeControl&&r.addClass("vjs-hidden"),r.on(i,"loadstart",(function(){this.update(),!1===i.tech_.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})),r}return p(e,t),e.prototype.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(t){this.player_.muted(!this.player_.muted())},e.prototype.update=function(t){var e=this.player_.volume(),i=3;this.player_.muted()?i=0:e<.33?i=1:e<.67&&(i=2);var n=this.player_.muted()?"Unmute":"Mute";this.controlText()!==n&&this.controlText(n);for(var r=0;r<4;r++)l.removeElClass(this.el_,"vjs-vol-"+r);l.addElClass(this.el_,"vjs-vol-"+i)},e}(r["default"]);f.prototype.controlText_="Mute",a["default"].registerComponent("MuteToggle",f),e["default"]=f},b639:function(t,e,i){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=i("1fb5"),r=i("9152"),s=i("e3db");function a(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function o(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(t,e){if(o()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=u.prototype):(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,i){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(t,e,i);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return p(this,t)}return h(this,t,e,i)}function h(t,e,i,n){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?g(t,e,i,n):"string"===typeof e?f(t,e,i):_(t,e)}function c(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function d(t,e,i,n){return c(e),e<=0?l(t,e):void 0!==i?"string"===typeof n?l(t,e).fill(i,n):l(t,e).fill(i):l(t,e)}function p(t,e){if(c(e),t=l(t,e<0?0:0|v(e)),!u.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function f(t,e,i){if("string"===typeof i&&""!==i||(i="utf8"),!u.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|b(e,i);t=l(t,n);var r=t.write(e,i);return r!==n&&(t=t.slice(0,r)),t}function m(t,e){var i=e.length<0?0:0|v(e.length);t=l(t,i);for(var n=0;n<i;n+=1)t[n]=255&e[n];return t}function g(t,e,i,n){if(e.byteLength,i<0||e.byteLength<i)throw new RangeError("'offset' is out of bounds");if(e.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===i&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,i):new Uint8Array(e,i,n),u.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=u.prototype):t=m(t,e),t}function _(t,e){if(u.isBuffer(e)){var i=0|v(e.length);return t=l(t,i),0===t.length?t:(e.copy(t,0,0,i),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||et(e.length)?l(t,0):m(t,e);if("Buffer"===e.type&&s(e.data))return m(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function v(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function y(t){return+t!=t&&(t=0),u.alloc(+t)}function b(t,e){if(u.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return X(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return J(t).length;default:if(n)return X(t).length;e=(""+e).toLowerCase(),n=!0}}function T(t,e,i){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if(i>>>=0,e>>>=0,i<=e)return"";t||(t="utf8");while(1)switch(t){case"hex":return B(this,e,i);case"utf8":case"utf-8":return P(this,e,i);case"ascii":return D(this,e,i);case"latin1":case"binary":return N(this,e,i);case"base64":return O(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,e,i);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function w(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function S(t,e,i,n,r){if(0===t.length)return-1;if("string"===typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=r?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(r)return-1;i=t.length-1}else if(i<0){if(!r)return-1;i=0}if("string"===typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:E(t,e,i,n,r);if("number"===typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):E(t,[e],i,n,r);throw new TypeError("val must be string, number or Buffer")}function E(t,e,i,n,r){var s,a=1,o=t.length,l=e.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,o/=2,l/=2,i/=2}function u(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(r){var h=-1;for(s=i;s<o;s++)if(u(t,s)===u(e,-1===h?0:s-h)){if(-1===h&&(h=s),s-h+1===l)return h*a}else-1!==h&&(s-=s-h),h=-1}else for(i+l>o&&(i=o-l),s=i;s>=0;s--){for(var c=!0,d=0;d<l;d++)if(u(t,s+d)!==u(e,d)){c=!1;break}if(c)return s}return-1}function C(t,e,i,n){i=Number(i)||0;var r=t.length-i;n?(n=Number(n),n>r&&(n=r)):n=r;var s=e.length;if(s%2!==0)throw new TypeError("Invalid hex string");n>s/2&&(n=s/2);for(var a=0;a<n;++a){var o=parseInt(e.substr(2*a,2),16);if(isNaN(o))return a;t[i+a]=o}return a}function k(t,e,i,n){return tt(X(e,t.length-i),t,i,n)}function x(t,e,i,n){return tt(Y(e),t,i,n)}function M(t,e,i,n){return x(t,e,i,n)}function A(t,e,i,n){return tt(J(e),t,i,n)}function I(t,e,i,n){return tt(Q(e,t.length-i),t,i,n)}function O(t,e,i){return 0===e&&i===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,i))}function P(t,e,i){i=Math.min(t.length,i);var n=[],r=e;while(r<i){var s,a,o,l,u=t[r],h=null,c=u>239?4:u>223?3:u>191?2:1;if(r+c<=i)switch(c){case 1:u<128&&(h=u);break;case 2:s=t[r+1],128===(192&s)&&(l=(31&u)<<6|63&s,l>127&&(h=l));break;case 3:s=t[r+1],a=t[r+2],128===(192&s)&&128===(192&a)&&(l=(15&u)<<12|(63&s)<<6|63&a,l>2047&&(l<55296||l>57343)&&(h=l));break;case 4:s=t[r+1],a=t[r+2],o=t[r+3],128===(192&s)&&128===(192&a)&&128===(192&o)&&(l=(15&u)<<18|(63&s)<<12|(63&a)<<6|63&o,l>65535&&l<1114112&&(h=l))}null===h?(h=65533,c=1):h>65535&&(h-=65536,n.push(h>>>10&1023|55296),h=56320|1023&h),n.push(h),r+=c}return R(n)}e.Buffer=u,e.SlowBuffer=y,e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:a(),e.kMaxLength=o(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,i){return h(null,t,e,i)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,i){return d(null,t,e,i)},u.allocUnsafe=function(t){return p(null,t)},u.allocUnsafeSlow=function(t){return p(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,n=e.length,r=0,s=Math.min(i,n);r<s;++r)if(t[r]!==e[r]){i=t[r],n=e[r];break}return i<n?-1:n<i?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!s(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var n=u.allocUnsafe(e),r=0;for(i=0;i<t.length;++i){var a=t[i];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,r),r+=a.length}return n},u.byteLength=b,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)w(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)w(this,e,e+3),w(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)w(this,e,e+7),w(this,e+1,e+6),w(this,e+2,e+5),w(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?P(this,0,t):T.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",i=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,i,n,r){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),e<0||i>t.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&e>=i)return 0;if(n>=r)return-1;if(e>=i)return 1;if(e>>>=0,i>>>=0,n>>>=0,r>>>=0,this===t)return 0;for(var s=r-n,a=i-e,o=Math.min(s,a),l=this.slice(n,r),h=t.slice(e,i),c=0;c<o;++c)if(l[c]!==h[c]){s=l[c],a=h[c];break}return s<a?-1:a<s?1:0},u.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},u.prototype.indexOf=function(t,e,i){return S(this,t,e,i,!0)},u.prototype.lastIndexOf=function(t,e,i){return S(this,t,e,i,!1)},u.prototype.write=function(t,e,i,n){if(void 0===e)n="utf8",i=this.length,e=0;else if(void 0===i&&"string"===typeof e)n=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-e;if((void 0===i||i>r)&&(i=r),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return C(this,t,e,i);case"utf8":case"utf-8":return k(this,t,e,i);case"ascii":return x(this,t,e,i);case"latin1":case"binary":return M(this,t,e,i);case"base64":return A(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,e,i);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var L=4096;function R(t){var e=t.length;if(e<=L)return String.fromCharCode.apply(String,t);var i="",n=0;while(n<e)i+=String.fromCharCode.apply(String,t.slice(n,n+=L));return i}function D(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(127&t[r]);return n}function N(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(t[r]);return n}function B(t,e,i){var n=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>n)&&(i=n);for(var r="",s=e;s<i;++s)r+=Z(t[s]);return r}function j(t,e,i){for(var n=t.slice(e,i),r="",s=0;s<n.length;s+=2)r+=String.fromCharCode(n[s]+256*n[s+1]);return r}function U(t,e,i){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function F(t,e,i,n,r,s){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<s)throw new RangeError('"value" argument is out of bounds');if(i+n>t.length)throw new RangeError("Index out of range")}function z(t,e,i,n){e<0&&(e=65535+e+1);for(var r=0,s=Math.min(t.length-i,2);r<s;++r)t[i+r]=(e&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function V(t,e,i,n){e<0&&(e=4294967295+e+1);for(var r=0,s=Math.min(t.length-i,4);r<s;++r)t[i+r]=e>>>8*(n?r:3-r)&255}function H(t,e,i,n,r,s){if(i+n>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function q(t,e,i,n,s){return s||H(t,e,i,4,34028234663852886e22,-34028234663852886e22),r.write(t,e,i,n,23,4),i+4}function G(t,e,i,n,s){return s||H(t,e,i,8,17976931348623157e292,-17976931348623157e292),r.write(t,e,i,n,52,8),i+8}u.prototype.slice=function(t,e){var i,n=this.length;if(t=~~t,e=void 0===e?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)i=this.subarray(t,e),i.__proto__=u.prototype;else{var r=e-t;i=new u(r,void 0);for(var s=0;s<r;++s)i[s]=this[s+t]}return i},u.prototype.readUIntLE=function(t,e,i){t|=0,e|=0,i||U(t,e,this.length);var n=this[t],r=1,s=0;while(++s<e&&(r*=256))n+=this[t+s]*r;return n},u.prototype.readUIntBE=function(t,e,i){t|=0,e|=0,i||U(t,e,this.length);var n=this[t+--e],r=1;while(e>0&&(r*=256))n+=this[t+--e]*r;return n},u.prototype.readUInt8=function(t,e){return e||U(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||U(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||U(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||U(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||U(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,i){t|=0,e|=0,i||U(t,e,this.length);var n=this[t],r=1,s=0;while(++s<e&&(r*=256))n+=this[t+s]*r;return r*=128,n>=r&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,i){t|=0,e|=0,i||U(t,e,this.length);var n=e,r=1,s=this[t+--n];while(n>0&&(r*=256))s+=this[t+--n]*r;return r*=128,s>=r&&(s-=Math.pow(2,8*e)),s},u.prototype.readInt8=function(t,e){return e||U(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||U(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},u.prototype.readInt16BE=function(t,e){e||U(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},u.prototype.readInt32LE=function(t,e){return e||U(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||U(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||U(t,4,this.length),r.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||U(t,4,this.length),r.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||U(t,8,this.length),r.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||U(t,8,this.length),r.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,i,n){if(t=+t,e|=0,i|=0,!n){var r=Math.pow(2,8*i)-1;F(this,t,e,i,r,0)}var s=1,a=0;this[e]=255&t;while(++a<i&&(s*=256))this[e+a]=t/s&255;return e+i},u.prototype.writeUIntBE=function(t,e,i,n){if(t=+t,e|=0,i|=0,!n){var r=Math.pow(2,8*i)-1;F(this,t,e,i,r,0)}var s=i-1,a=1;this[e+s]=255&t;while(--s>=0&&(a*=256))this[e+s]=t/a&255;return e+i},u.prototype.writeUInt8=function(t,e,i){return t=+t,e|=0,i||F(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,i){return t=+t,e|=0,i||F(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):z(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,i){return t=+t,e|=0,i||F(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):z(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,i){return t=+t,e|=0,i||F(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):V(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,i){return t=+t,e|=0,i||F(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):V(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,i,n){if(t=+t,e|=0,!n){var r=Math.pow(2,8*i-1);F(this,t,e,i,r-1,-r)}var s=0,a=1,o=0;this[e]=255&t;while(++s<i&&(a*=256))t<0&&0===o&&0!==this[e+s-1]&&(o=1),this[e+s]=(t/a>>0)-o&255;return e+i},u.prototype.writeIntBE=function(t,e,i,n){if(t=+t,e|=0,!n){var r=Math.pow(2,8*i-1);F(this,t,e,i,r-1,-r)}var s=i-1,a=1,o=0;this[e+s]=255&t;while(--s>=0&&(a*=256))t<0&&0===o&&0!==this[e+s+1]&&(o=1),this[e+s]=(t/a>>0)-o&255;return e+i},u.prototype.writeInt8=function(t,e,i){return t=+t,e|=0,i||F(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,i){return t=+t,e|=0,i||F(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):z(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,i){return t=+t,e|=0,i||F(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):z(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,i){return t=+t,e|=0,i||F(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):V(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,i){return t=+t,e|=0,i||F(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):V(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,i){return q(this,t,e,!0,i)},u.prototype.writeFloatBE=function(t,e,i){return q(this,t,e,!1,i)},u.prototype.writeDoubleLE=function(t,e,i){return G(this,t,e,!0,i)},u.prototype.writeDoubleBE=function(t,e,i){return G(this,t,e,!1,i)},u.prototype.copy=function(t,e,i,n){if(i||(i=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-i&&(n=t.length-e+i);var r,s=n-i;if(this===t&&i<e&&e<n)for(r=s-1;r>=0;--r)t[r+e]=this[r+i];else if(s<1e3||!u.TYPED_ARRAY_SUPPORT)for(r=0;r<s;++r)t[r+e]=this[r+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+s),e);return s},u.prototype.fill=function(t,e,i,n){if("string"===typeof t){if("string"===typeof e?(n=e,e=0,i=this.length):"string"===typeof i&&(n=i,i=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;var s;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"===typeof t)for(s=e;s<i;++s)this[s]=t;else{var a=u.isBuffer(t)?t:X(new u(t,n).toString()),o=a.length;for(s=0;s<i-e;++s)this[s+e]=a[s%o]}return this};var W=/[^+\/0-9A-Za-z-_]/g;function $(t){if(t=K(t).replace(W,""),t.length<2)return"";while(t.length%4!==0)t+="=";return t}function K(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Z(t){return t<16?"0"+t.toString(16):t.toString(16)}function X(t,e){var i;e=e||1/0;for(var n=t.length,r=null,s=[],a=0;a<n;++a){if(i=t.charCodeAt(a),i>55295&&i<57344){if(!r){if(i>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&s.push(239,191,189);continue}r=i;continue}if(i<56320){(e-=3)>-1&&s.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(e-=3)>-1&&s.push(239,191,189);if(r=null,i<128){if((e-=1)<0)break;s.push(i)}else if(i<2048){if((e-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return s}function Y(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}function Q(t,e){for(var i,n,r,s=[],a=0;a<t.length;++a){if((e-=2)<0)break;i=t.charCodeAt(a),n=i>>8,r=i%256,s.push(r),s.push(n)}return s}function J(t){return n.toByteArray($(t))}function tt(t,e,i,n){for(var r=0;r<n;++r){if(r+i>=e.length||r>=t.length)break;e[r+i]=t[r]}return r}function et(t){return t!==t}}).call(this,i("c8ba"))},b848:function(t,e,i){"use strict";var n=i("58df");function r(t){const e=[];for(let i=0;i<t.length;i++){const n=t[i];n.isActive&&n.isDependent?e.push(n):e.push(...r(n.$children))}return e}e["a"]=Object(n["a"])().extend({name:"dependent",data(){return{closeDependents:!0,isActive:!1,isDependent:!0}},watch:{isActive(t){if(t)return;const e=this.getOpenDependents();for(let i=0;i<e.length;i++)e[i].isActive=!1}},methods:{getOpenDependents(){return this.closeDependents?r(this.$children):[]},getOpenDependentElements(){const t=[],e=this.getOpenDependents();for(let i=0;i<e.length;i++)t.push(...e[i].getClickableDependentElements());return t},getClickableDependentElements(){const t=[this.$el];return this.$refs.content&&t.push(this.$refs.content),this.overlay&&t.push(this.overlay.$el),t.push(...this.getOpenDependentElements()),t}}})},bbc3:function(t,e,i){"use strict";e.__esModule=!0,e.setTextContent=e.createStyleElement=void 0;var n=i("9869"),r=s(n);function s(t){return t&&t.__esModule?t:{default:t}}e.createStyleElement=function(t){var e=r["default"].createElement("style");return e.className=t,e},e.setTextContent=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e}},bced:function(t,e,i){"use strict";e.__esModule=!0;var n=i("96d3"),r=h(n),s=i("61b0"),a=h(s),o=i("f545"),l=u(o);function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function h(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function p(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(i,n,r){c(this,e);var s=d(this,t.call(this,i,n,r));s.el_.setAttribute("aria-label","Descriptions Menu");var a=i.textTracks();if(a){var o=l.bind(s,s.handleTracksChange);a.addEventListener("change",o),s.on("dispose",(function(){a.removeEventListener("change",o)}))}return s}return p(e,t),e.prototype.handleTracksChange=function(t){for(var e=this.player().textTracks(),i=!1,n=0,r=e.length;n<r;n++){var s=e[n];if(s.kind!==this.kind_&&"showing"===s.mode){i=!0;break}}i?this.disable():this.enable()},e.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},e}(r["default"]);f.prototype.kind_="descriptions",f.prototype.controlText_="Descriptions",a["default"].registerComponent("DescriptionsButton",f),e["default"]=f},be09:function(t,e,i){(function(e){var i;i="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},t.exports=i}).call(this,i("c8ba"))},c1dd:function(t,e){function i(t,e){for(var i in t)e[i]=t[i]}function n(t,e){var n=t.prototype;if(!(n instanceof e)){function r(){}r.prototype=e.prototype,r=new r,i(n,r),t.prototype=n=r}n.constructor!=t&&("function"!=typeof t&&console.error("unknow Class:"+t),n.constructor=t)}var r="http://www.w3.org/1999/xhtml",s={},a=s.ELEMENT_NODE=1,o=s.ATTRIBUTE_NODE=2,l=s.TEXT_NODE=3,u=s.CDATA_SECTION_NODE=4,h=s.ENTITY_REFERENCE_NODE=5,c=s.ENTITY_NODE=6,d=s.PROCESSING_INSTRUCTION_NODE=7,p=s.COMMENT_NODE=8,f=s.DOCUMENT_NODE=9,m=s.DOCUMENT_TYPE_NODE=10,g=s.DOCUMENT_FRAGMENT_NODE=11,_=s.NOTATION_NODE=12,v={},y={},b=(v.INDEX_SIZE_ERR=(y[1]="Index size error",1),v.DOMSTRING_SIZE_ERR=(y[2]="DOMString size error",2),v.HIERARCHY_REQUEST_ERR=(y[3]="Hierarchy request error",3)),T=(v.WRONG_DOCUMENT_ERR=(y[4]="Wrong document",4),v.INVALID_CHARACTER_ERR=(y[5]="Invalid character",5),v.NO_DATA_ALLOWED_ERR=(y[6]="No data allowed",6),v.NO_MODIFICATION_ALLOWED_ERR=(y[7]="No modification allowed",7),v.NOT_FOUND_ERR=(y[8]="Not found",8)),w=(v.NOT_SUPPORTED_ERR=(y[9]="Not supported",9),v.INUSE_ATTRIBUTE_ERR=(y[10]="Attribute in use",10));v.INVALID_STATE_ERR=(y[11]="Invalid state",11),v.SYNTAX_ERR=(y[12]="Syntax error",12),v.INVALID_MODIFICATION_ERR=(y[13]="Invalid modification",13),v.NAMESPACE_ERR=(y[14]="Invalid namespace",14),v.INVALID_ACCESS_ERR=(y[15]="Invalid access",15);function S(t,e){if(e instanceof Error)var i=e;else i=this,Error.call(this,y[t]),this.message=y[t],Error.captureStackTrace&&Error.captureStackTrace(this,S);return i.code=t,e&&(this.message=this.message+": "+e),i}function E(){}function C(t,e){this._node=t,this._refresh=e,k(this)}function k(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var n=t._refresh(t._node);at(t,"length",n.length),i(n,t),t._inc=e}}function x(){}function M(t,e){var i=t.length;while(i--)if(t[i]===e)return i}function A(t,e,i,n){if(n?e[M(e,n)]=i:e[e.length++]=i,t){i.ownerElement=t;var r=t.ownerDocument;r&&(n&&B(r,t,n),N(r,t,i))}}function I(t,e,i){var n=M(e,i);if(!(n>=0))throw S(T,new Error(t.tagName+"@"+i));var r=e.length-1;while(n<r)e[n]=e[++n];if(e.length=r,t){var s=t.ownerDocument;s&&(B(s,t,i),i.ownerElement=null)}}function O(t){if(this._features={},t)for(var e in t)this._features=t[e]}function P(){}function L(t){return("<"==t?"&lt;":">"==t&&"&gt;")||"&"==t&&"&amp;"||'"'==t&&"&quot;"||"&#"+t.charCodeAt()+";"}function R(t,e){if(e(t))return!0;if(t=t.firstChild)do{if(R(t,e))return!0}while(t=t.nextSibling)}function D(){}function N(t,e,i){t&&t._inc++;var n=i.namespaceURI;"http://www.w3.org/2000/xmlns/"==n&&(e._nsMap[i.prefix?i.localName:""]=i.value)}function B(t,e,i,n){t&&t._inc++;var r=i.namespaceURI;"http://www.w3.org/2000/xmlns/"==r&&delete e._nsMap[i.prefix?i.localName:""]}function j(t,e,i){if(t&&t._inc){t._inc++;var n=e.childNodes;if(i)n[n.length++]=i;else{var r=e.firstChild,s=0;while(r)n[s++]=r,r=r.nextSibling;n.length=s}}}function U(t,e){var i=e.previousSibling,n=e.nextSibling;return i?i.nextSibling=n:t.firstChild=n,n?n.previousSibling=i:t.lastChild=i,j(t.ownerDocument,t),e}function F(t,e,i){var n=e.parentNode;if(n&&n.removeChild(e),e.nodeType===g){var r=e.firstChild;if(null==r)return e;var s=e.lastChild}else r=s=e;var a=i?i.previousSibling:t.lastChild;r.previousSibling=a,s.nextSibling=i,a?a.nextSibling=r:t.firstChild=r,null==i?t.lastChild=s:i.previousSibling=s;do{r.parentNode=t}while(r!==s&&(r=r.nextSibling));return j(t.ownerDocument||t,t),e.nodeType==g&&(e.firstChild=e.lastChild=null),e}function z(t,e){var i=e.parentNode;if(i){var n=t.lastChild;i.removeChild(e);n=t.lastChild}n=t.lastChild;return e.parentNode=t,e.previousSibling=n,e.nextSibling=null,n?n.nextSibling=e:t.firstChild=e,t.lastChild=e,j(t.ownerDocument,t,e),e}function V(){this._nsMap={}}function H(){}function q(){}function G(){}function W(){}function $(){}function K(){}function Z(){}function X(){}function Y(){}function Q(){}function J(){}function tt(){}function et(t,e){var i=[],n=9==this.nodeType&&this.documentElement||this,r=n.prefix,s=n.namespaceURI;if(s&&null==r){r=n.lookupPrefix(s);if(null==r)var a=[{namespace:s,prefix:null}]}return nt(this,i,t,e,a),i.join("")}function it(t,e,i){var n=t.prefix||"",r=t.namespaceURI;if(!n&&!r)return!1;if("xml"===n&&"http://www.w3.org/XML/1998/namespace"===r||"http://www.w3.org/2000/xmlns/"==r)return!1;var s=i.length;while(s--){var a=i[s];if(a.prefix==n)return a.namespace!=r}return!0}function nt(t,e,i,n,s){if(n){if(t=n(t),!t)return;if("string"==typeof t)return void e.push(t)}switch(t.nodeType){case a:s||(s=[]);s.length;var c=t.attributes,_=c.length,v=t.firstChild,y=t.tagName;i=r===t.namespaceURI||i,e.push("<",y);for(var b=0;b<_;b++){var T=c.item(b);"xmlns"==T.prefix?s.push({prefix:T.localName,namespace:T.value}):"xmlns"==T.nodeName&&s.push({prefix:"",namespace:T.value})}for(b=0;b<_;b++){T=c.item(b);if(it(T,i,s)){var w=T.prefix||"",S=T.namespaceURI,E=w?" xmlns:"+w:" xmlns";e.push(E,'="',S,'"'),s.push({prefix:w,namespace:S})}nt(T,e,i,n,s)}if(it(t,i,s)){w=t.prefix||"",S=t.namespaceURI,E=w?" xmlns:"+w:" xmlns";e.push(E,'="',S,'"'),s.push({prefix:w,namespace:S})}if(v||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(y)){if(e.push(">"),i&&/^script$/i.test(y))while(v)v.data?e.push(v.data):nt(v,e,i,n,s),v=v.nextSibling;else while(v)nt(v,e,i,n,s),v=v.nextSibling;e.push("</",y,">")}else e.push("/>");return;case f:case g:v=t.firstChild;while(v)nt(v,e,i,n,s),v=v.nextSibling;return;case o:return e.push(" ",t.name,'="',t.value.replace(/[&"]/g,L),'"');case l:return e.push(t.data.replace(/[<&]/g,L).replace(/]]>/g,"]]&gt;"));case u:return e.push("<![CDATA[",t.data,"]]>");case p:return e.push("\x3c!--",t.data,"--\x3e");case m:var C=t.publicId,k=t.systemId;if(e.push("<!DOCTYPE ",t.name),C)e.push(" PUBLIC ",C),k&&"."!=k&&e.push(" ",k),e.push(">");else if(k&&"."!=k)e.push(" SYSTEM ",k,">");else{var x=t.internalSubset;x&&e.push(" [",x,"]"),e.push(">")}return;case d:return e.push("<?",t.target," ",t.data,"?>");case h:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function rt(t,e,i){var n;switch(e.nodeType){case a:n=e.cloneNode(!1),n.ownerDocument=t;case g:break;case o:i=!0;break}if(n||(n=e.cloneNode(!1)),n.ownerDocument=t,n.parentNode=null,i){var r=e.firstChild;while(r)n.appendChild(rt(t,r,i)),r=r.nextSibling}return n}function st(t,e,i){var n=new e.constructor;for(var r in e){var s=e[r];"object"!=typeof s&&s!=n[r]&&(n[r]=s)}switch(e.childNodes&&(n.childNodes=new E),n.ownerDocument=t,n.nodeType){case a:var l=e.attributes,u=n.attributes=new x,h=l.length;u._ownerElement=n;for(var c=0;c<h;c++)n.setAttributeNode(st(t,l.item(c),!0));break;case o:i=!0}if(i){var d=e.firstChild;while(d)n.appendChild(st(t,d,i)),d=d.nextSibling}return n}function at(t,e,i){t[e]=i}S.prototype=Error.prototype,i(v,S),E.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var i=[],n=0;n<this.length;n++)nt(this[n],i,t,e);return i.join("")}},C.prototype.item=function(t){return k(this),this[t]},n(C,E),x.prototype={length:0,item:E.prototype.item,getNamedItem:function(t){var e=this.length;while(e--){var i=this[e];if(i.nodeName==t)return i}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new S(w);var i=this.getNamedItem(t.nodeName);return A(this._ownerElement,this,t,i),i},setNamedItemNS:function(t){var e,i=t.ownerElement;if(i&&i!=this._ownerElement)throw new S(w);return e=this.getNamedItemNS(t.namespaceURI,t.localName),A(this._ownerElement,this,t,e),e},removeNamedItem:function(t){var e=this.getNamedItem(t);return I(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var i=this.getNamedItemNS(t,e);return I(this._ownerElement,this,i),i},getNamedItemNS:function(t,e){var i=this.length;while(i--){var n=this[i];if(n.localName==e&&n.namespaceURI==t)return n}return null}},O.prototype={hasFeature:function(t,e){var i=this._features[t.toLowerCase()];return!(!i||e&&!(e in i))},createDocument:function(t,e,i){var n=new D;if(n.implementation=this,n.childNodes=new E,n.doctype=i,i&&n.appendChild(i),e){var r=n.createElementNS(t,e);n.appendChild(r)}return n},createDocumentType:function(t,e,i){var n=new K;return n.name=t,n.nodeName=t,n.publicId=e,n.systemId=i,n}},P.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return F(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return U(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return st(this.ownerDocument||this,this,t)},normalize:function(){var t=this.firstChild;while(t){var e=t.nextSibling;e&&e.nodeType==l&&t.nodeType==l?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){var e=this;while(e){var i=e._nsMap;if(i)for(var n in i)if(i[n]==t)return n;e=e.nodeType==o?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){var e=this;while(e){var i=e._nsMap;if(i&&t in i)return i[t];e=e.nodeType==o?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return null==e}},i(s,P),i(s,P.prototype),D.prototype={nodeName:"#document",nodeType:f,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==g){var i=t.firstChild;while(i){var n=i.nextSibling;this.insertBefore(i,e),i=n}return t}return null==this.documentElement&&t.nodeType==a&&(this.documentElement=t),F(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),U(this,t)},importNode:function(t,e){return rt(this,t,e)},getElementById:function(t){var e=null;return R(this.documentElement,(function(i){if(i.nodeType==a&&i.getAttribute("id")==t)return e=i,!0})),e},getElementsByClassName:function(t){var e=new RegExp("(^|\\s)"+t+"(\\s|$)");return new C(this,(function(t){var i=[];return R(t.documentElement,(function(n){n!==t&&n.nodeType==a&&e.test(n.getAttribute("class"))&&i.push(n)})),i}))},createElement:function(t){var e=new V;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.childNodes=new E;var i=e.attributes=new x;return i._ownerElement=e,e},createDocumentFragment:function(){var t=new Q;return t.ownerDocument=this,t.childNodes=new E,t},createTextNode:function(t){var e=new G;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new W;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new $;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var i=new J;return i.ownerDocument=this,i.tagName=i.target=t,i.nodeValue=i.data=e,i},createAttribute:function(t){var e=new H;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new Y;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var i=new V,n=e.split(":"),r=i.attributes=new x;return i.childNodes=new E,i.ownerDocument=this,i.nodeName=e,i.tagName=e,i.namespaceURI=t,2==n.length?(i.prefix=n[0],i.localName=n[1]):i.localName=e,r._ownerElement=i,i},createAttributeNS:function(t,e){var i=new H,n=e.split(":");return i.ownerDocument=this,i.nodeName=e,i.name=e,i.namespaceURI=t,i.specified=!0,2==n.length?(i.prefix=n[0],i.localName=n[1]):i.localName=e,i}},n(D,P),V.prototype={nodeType:a,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var i=this.ownerDocument.createAttribute(t);i.value=i.nodeValue=""+e,this.setAttributeNode(i)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===g?this.insertBefore(t,null):z(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var i=this.getAttributeNodeNS(t,e);i&&this.removeAttributeNode(i)},hasAttributeNS:function(t,e){return null!=this.getAttributeNodeNS(t,e)},getAttributeNS:function(t,e){var i=this.getAttributeNodeNS(t,e);return i&&i.value||""},setAttributeNS:function(t,e,i){var n=this.ownerDocument.createAttributeNS(t,e);n.value=n.nodeValue=""+i,this.setAttributeNode(n)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new C(this,(function(e){var i=[];return R(e,(function(n){n===e||n.nodeType!=a||"*"!==t&&n.tagName!=t||i.push(n)})),i}))},getElementsByTagNameNS:function(t,e){return new C(this,(function(i){var n=[];return R(i,(function(r){r===i||r.nodeType!==a||"*"!==t&&r.namespaceURI!==t||"*"!==e&&r.localName!=e||n.push(r)})),n}))}},D.prototype.getElementsByTagName=V.prototype.getElementsByTagName,D.prototype.getElementsByTagNameNS=V.prototype.getElementsByTagNameNS,n(V,P),H.prototype.nodeType=o,n(H,P),q.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(y[b])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,i){var n=this.data.substring(0,t),r=this.data.substring(t+e);i=n+i+r,this.nodeValue=this.data=i,this.length=i.length}},n(q,P),G.prototype={nodeName:"#text",nodeType:l,splitText:function(t){var e=this.data,i=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var n=this.ownerDocument.createTextNode(i);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}},n(G,q),W.prototype={nodeName:"#comment",nodeType:p},n(W,q),$.prototype={nodeName:"#cdata-section",nodeType:u},n($,q),K.prototype.nodeType=m,n(K,P),Z.prototype.nodeType=_,n(Z,P),X.prototype.nodeType=c,n(X,P),Y.prototype.nodeType=h,n(Y,P),Q.prototype.nodeName="#document-fragment",Q.prototype.nodeType=g,n(Q,P),J.prototype.nodeType=d,n(J,P),tt.prototype.serializeToString=function(t,e,i){return et.call(t,e,i)},P.prototype.toString=et;try{if(Object.defineProperty){function ot(t){switch(t.nodeType){case a:case g:var e=[];t=t.firstChild;while(t)7!==t.nodeType&&8!==t.nodeType&&e.push(ot(t)),t=t.nextSibling;return e.join("");default:return t.nodeValue}}Object.defineProperty(C.prototype,"length",{get:function(){return k(this),this.$$length}}),Object.defineProperty(P.prototype,"textContent",{get:function(){return ot(this)},set:function(t){switch(this.nodeType){case a:case g:while(this.firstChild)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),at=function(t,e,i){t["$$"+e]=i}}}catch(lt){}e.Node=P,e.DOMException=S,e.DOMImplementation=O,e.XMLSerializer=tt},c419:function(t,e,i){"use strict";e.__esModule=!0;var n=i("3e51"),r=o(n),s=i("61b0"),a=o(s);function o(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function h(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(i,n){l(this,e),n.track={player:i,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1;var r=u(this,t.call(this,i,n));return r.addClass("vjs-texttrack-settings"),r.controlText(", opens "+n.kind+" settings dialog"),r}return h(e,t),e.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").show(),this.player().getChild("textTrackSettings").el_.focus()},e}(r["default"]);a["default"].registerComponent("CaptionSettingsMenuItem",c),e["default"]=c},c881:function(t,e,i){"use strict";e.__esModule=!0;var n=i("a178"),r=m(n),s=i("61b0"),a=m(s),o=i("702d"),l=i("f545"),u=f(l),h=i("cff3"),c=f(h),d=i("320e"),p=m(d);function f(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function m(t){return t&&t.__esModule?t:{default:t}}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function v(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var y="vjs-text-track-settings",b=["#000","Black"],T=["#00F","Blue"],w=["#0FF","Cyan"],S=["#0F0","Green"],E=["#F0F","Magenta"],C=["#F00","Red"],k=["#FFF","White"],x=["#FF0","Yellow"],M=["1","Opaque"],A=["0.5","Semi-Transparent"],I=["0","Transparent"],O={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[b,k,C,S,T,x,E,w]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[M,A,I]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[k,b,C,S,T,x,E,w]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[M,A]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[I,A,M]}};function P(t,e){if(e&&(t=e(t)),t&&"none"!==t)return t}function L(t,e){var i=t.options[t.options.selectedIndex].value;return P(i,e)}function R(t,e,i){if(e)for(var n=0;n<t.options.length;n++)if(P(t.options[n].value,i)===e){t.selectedIndex=n;break}}O.windowColor.options=O.backgroundColor.options;var D=function(t){function e(i,n){g(this,e);var r=_(this,t.call(this,i,n));return r.setDefaults(),r.hide(),r.updateDisplay=u.bind(r,r.updateDisplay),void 0===n.persistTextTrackSettings&&(r.options_.persistTextTrackSettings=r.options_.playerOptions.persistTextTrackSettings),r.on(r.$(".vjs-done-button"),"click",(function(){r.saveSettings(),r.hide()})),r.on(r.$(".vjs-default-button"),"click",(function(){r.setDefaults(),r.updateDisplay()})),c.each(O,(function(t){r.on(r.$(t.selector),"change",r.updateDisplay)})),r.options_.persistTextTrackSettings&&r.restoreSettings(),r}return v(e,t),e.prototype.createElSelect_=function(t){var e=this,i=O[t],n=i.id.replace("%s",this.id_);return[(0,o.createEl)("label",{className:"vjs-label",textContent:i.label},{for:n}),(0,o.createEl)("select",{id:n},void 0,i.options.map((function(t){return(0,o.createEl)("option",{textContent:e.localize(t[1]),value:t[0]})})))]},e.prototype.createElFgColor_=function(){var t=(0,o.createEl)("legend",{textContent:this.localize("Text")}),e=this.createElSelect_("color"),i=(0,o.createEl)("span",{className:"vjs-text-opacity vjs-opacity"},void 0,this.createElSelect_("textOpacity"));return(0,o.createEl)("fieldset",{className:"vjs-fg-color vjs-tracksetting"},void 0,[t].concat(e,i))},e.prototype.createElBgColor_=function(){var t=(0,o.createEl)("legend",{textContent:this.localize("Background")}),e=this.createElSelect_("backgroundColor"),i=(0,o.createEl)("span",{className:"vjs-bg-opacity vjs-opacity"},void 0,this.createElSelect_("backgroundOpacity"));return(0,o.createEl)("fieldset",{className:"vjs-bg-color vjs-tracksetting"},void 0,[t].concat(e,i))},e.prototype.createElWinColor_=function(){var t=(0,o.createEl)("legend",{textContent:this.localize("Window")}),e=this.createElSelect_("windowColor"),i=(0,o.createEl)("span",{className:"vjs-window-opacity vjs-opacity"},void 0,this.createElSelect_("windowOpacity"));return(0,o.createEl)("fieldset",{className:"vjs-window-color vjs-tracksetting"},void 0,[t].concat(e,i))},e.prototype.createElColors_=function(){return(0,o.createEl)("div",{className:"vjs-tracksettings-colors"},void 0,[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()])},e.prototype.createElFont_=function(){var t=(0,o.createEl)("div",{className:"vjs-font-percent vjs-tracksetting"},void 0,this.createElSelect_("fontPercent")),e=(0,o.createEl)("div",{className:"vjs-edge-style vjs-tracksetting"},void 0,this.createElSelect_("edgeStyle")),i=(0,o.createEl)("div",{className:"vjs-font-family vjs-tracksetting"},void 0,this.createElSelect_("fontFamily"));return(0,o.createEl)("div",{className:"vjs-tracksettings-font"},void 0,[t,e,i])},e.prototype.createElControls_=function(){var t=(0,o.createEl)("button",{className:"vjs-default-button",textContent:this.localize("Defaults")}),e=(0,o.createEl)("button",{className:"vjs-done-button",textContent:"Done"});return(0,o.createEl)("div",{className:"vjs-tracksettings-controls"},void 0,[t,e])},e.prototype.createEl=function(){var t=(0,o.createEl)("div",{className:"vjs-tracksettings"},void 0,[this.createElColors_(),this.createElFont_(),this.createElControls_()]),e=(0,o.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogLabel-"+this.id_,textContent:"Caption Settings Dialog"},{"aria-level":"1",role:"heading"}),i=(0,o.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogDescription-"+this.id_,textContent:"Beginning of dialog window. Escape will cancel and close the window."}),n=(0,o.createEl)("div",void 0,{role:"document"},[e,i,t]);return(0,o.createEl)("div",{className:"vjs-caption-settings vjs-modal-overlay",tabIndex:-1},{role:"dialog","aria-labelledby":e.id,"aria-describedby":i.id},n)},e.prototype.getValues=function(){var t=this;return c.reduce(O,(function(e,i,n){var r=L(t.$(i.selector),i.parser);return void 0!==r&&(e[n]=r),e}),{})},e.prototype.setValues=function(t){var e=this;c.each(O,(function(i,n){R(e.$(i.selector),t[n],i.parser)}))},e.prototype.setDefaults=function(){var t=this;c.each(O,(function(e){var i=e.hasOwnProperty("default")?e["default"]:0;t.$(e.selector).selectedIndex=i}))},e.prototype.restoreSettings=function(){var t=void 0;try{t=JSON.parse(r["default"].localStorage.getItem(y))}catch(e){p["default"].warn(e)}t&&this.setValues(t)},e.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?r["default"].localStorage.setItem(y,JSON.stringify(t)):r["default"].localStorage.removeItem(y)}catch(e){p["default"].warn(e)}}},e.prototype.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},e}(a["default"]);a["default"].registerComponent("TextTrackSettings",D),e["default"]=D},cb64:function(t,e,i){"use strict";e.__esModule=!0;var n=i("96d3"),r=c(n),s=i("61b0"),a=c(s),o=i("9e17"),l=c(o),u=i("d016"),h=c(u);function c(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function f(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var m=function(t){function e(i,n,r){d(this,e);var s=p(this,t.call(this,i,n,r));return s.el_.setAttribute("aria-label","Chapters Menu"),s}return f(e,t),e.prototype.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},e.prototype.update=function(e){this.track_&&(!e||"addtrack"!==e.type&&"removetrack"!==e.type)||this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},e.prototype.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);i&&i.addEventListener("load",this.updateHandler_)}}},e.prototype.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],e=t.length-1;e>=0;e--){var i=t[e];if(i.kind===this.kind_)return i}},e.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize((0,h["default"])(this.kind_))},e.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},e.prototype.createItems=function(){var t=[];if(!this.track_)return t;var e=this.track_.cues;if(!e)return t;for(var i=0,n=e.length;i<n;i++){var r=e[i],s=new l["default"](this.player_,{track:this.track_,cue:r});t.push(s)}return t},e}(r["default"]);m.prototype.kind_="chapters",m.prototype.controlText_="Chapters",a["default"].registerComponent("ChaptersButton",m),e["default"]=m},cf31:function(t,e,i){"use strict";e.__esModule=!0;var n=i("61b0"),r=L(n),s=i("e8cc"),a=L(s),o=i("7664"),l=L(o),u=i("3afa"),h=L(u),c=i("12a0"),d=L(c),p=i("ee84"),f=L(p),m=i("0029"),g=L(m),_=i("fc20"),v=L(_),y=i("f545"),b=P(y),T=i("320e"),w=L(T),S=i("7a67"),E=i("4ed8"),C=i("e34b"),k=L(C),x=i("a178"),M=L(x),A=i("9869"),I=L(A),O=i("cff3");function P(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function L(t){return t&&t.__esModule?t:{default:t}}function R(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function N(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function B(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=t.textTracks();r.kind=e,i&&(r.label=i),n&&(r.language=n),r.tech=t;var a=new d["default"](r);return s.addTrack_(a),a}var j=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};R(this,e),i.reportTouchActivity=!1;var r=D(this,t.call(this,null,i,n));return r.hasStarted_=!1,r.on("playing",(function(){this.hasStarted_=!0})),r.on("loadstart",(function(){this.hasStarted_=!1})),r.textTracks_=i.textTracks,r.videoTracks_=i.videoTracks,r.audioTracks_=i.audioTracks,r.featuresProgressEvents||r.manualProgressOn(),r.featuresTimeupdateEvents||r.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((function(t){!1===i["native"+t+"Tracks"]&&(r["featuresNative"+t+"Tracks"]=!1)})),!1===i.nativeCaptions&&(r.featuresNativeTextTracks=!1),r.featuresNativeTextTracks||r.emulateTextTracks(),r.autoRemoteTextTracks_=new f["default"],r.initTextTrackListeners(),r.initTrackListeners(),i.nativeControlsForTouch||r.emitTapEvents(),r.constructor&&(r.name_=r.constructor.name||"Unknown Tech"),r}return N(e,t),e.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},e.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},e.prototype.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(b.bind(this,(function(){var t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),this.bufferedPercent_=t,1===t&&this.stopTrackingProgress()})),500)},e.prototype.onDurationChange=function(t){this.duration_=this.duration()},e.prototype.buffered=function(){return(0,S.createTimeRange)(0,0)},e.prototype.bufferedPercent=function(){return(0,E.bufferedPercent)(this.buffered(),this.duration_)},e.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},e.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},e.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},e.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)},e.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.prototype.dispose=function(){this.clearTracks(["audio","video","text"]),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},e.prototype.clearTracks=function(t){var e=this;t=[].concat(t),t.forEach((function(t){var i=e[t+"Tracks"]()||[],n=i.length;while(n--){var r=i[n];"text"===t&&e.removeRemoteTextTrack(r),i.removeTrack_(r)}}))},e.prototype.cleanupAutoTextTracks=function(){var t=this.autoRemoteTextTracks_||[],e=t.length;while(e--){var i=t[e];this.removeRemoteTextTrack(i)}},e.prototype.reset=function(){},e.prototype.error=function(t){return void 0!==t&&(this.error_=new k["default"](t),this.trigger("error")),this.error_},e.prototype.played=function(){return this.hasStarted_?(0,S.createTimeRange)(0,0):(0,S.createTimeRange)()},e.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.prototype.initTextTrackListeners=function(){var t=b.bind(this,(function(){this.trigger("texttrackchange")})),e=this.textTracks();e&&(e.addEventListener("removetrack",t),e.addEventListener("addtrack",t),this.on("dispose",b.bind(this,(function(){e.removeEventListener("removetrack",t),e.removeEventListener("addtrack",t)}))))},e.prototype.initTrackListeners=function(){var t=this,e=["video","audio"];e.forEach((function(e){var i=function(){t.trigger(e+"trackchange")},n=t[e+"Tracks"]();n.addEventListener("removetrack",i),n.addEventListener("addtrack",i),t.on("dispose",(function(){n.removeEventListener("removetrack",i),n.removeEventListener("addtrack",i)}))}))},e.prototype.addWebVttScript_=function(){var t=this;if(!M["default"].WebVTT)if(I["default"].body.contains(this.el())){var e=i("9988");if(!this.options_["vtt.js"]&&(0,O.isPlain)(e)&&Object.keys(e).length>0)return void this.trigger("vttjsloaded");var n=I["default"].createElement("script");n.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js",n.onload=function(){t.trigger("vttjsloaded")},n.onerror=function(){t.trigger("vttjserror")},this.on("dispose",(function(){n.onload=null,n.onerror=null})),M["default"].WebVTT=!0,this.el().parentNode.appendChild(n)}else this.ready(this.addWebVttScript_)},e.prototype.emulateTextTracks=function(){var t=this,e=this.textTracks();if(e){var i=this.remoteTextTracks(),n=function(t){return e.addTrack_(t.track)},r=function(t){return e.removeTrack_(t.track)};i.on("addtrack",n),i.on("removetrack",r),this.addWebVttScript_();var s=function(){return t.trigger("texttrackchange")},a=function(){s();for(var t=0;t<e.length;t++){var i=e[t];i.removeEventListener("cuechange",s),"showing"===i.mode&&i.addEventListener("cuechange",s)}};a(),e.addEventListener("change",a),e.addEventListener("addtrack",a),e.addEventListener("removetrack",a),this.on("dispose",(function(){i.off("addtrack",n),i.off("removetrack",r),e.removeEventListener("change",a),e.removeEventListener("addtrack",a),e.removeEventListener("removetrack",a);for(var t=0;t<e.length;t++){var o=e[t];o.removeEventListener("cuechange",s)}}))}},e.prototype.videoTracks=function(){return this.videoTracks_=this.videoTracks_||new g["default"],this.videoTracks_},e.prototype.audioTracks=function(){return this.audioTracks_=this.audioTracks_||new v["default"],this.audioTracks_},e.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||new f["default"],this.textTracks_},e.prototype.remoteTextTracks=function(){return this.remoteTextTracks_=this.remoteTextTracks_||new f["default"],this.remoteTextTracks_},e.prototype.remoteTextTrackEls=function(){return this.remoteTextTrackEls_=this.remoteTextTrackEls_||new l["default"],this.remoteTextTrackEls_},e.prototype.addTextTrack=function(t,e,i){if(!t)throw new Error("TextTrack kind is required but was not provided");return B(this,t,e,i)},e.prototype.createRemoteTextTrack=function(t){var e=(0,h["default"])(t,{tech:this});return new a["default"](e)},e.prototype.addRemoteTextTrack=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],i=this.createRemoteTextTrack(t);return!0!==e&&!1!==e&&(w["default"].warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),e=!0),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack_(i.track),!0!==e&&this.autoRemoteTextTracks_.addTrack_(i.track),i},e.prototype.removeRemoteTextTrack=function(t){var e=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(e),this.remoteTextTracks().removeTrack_(t),this.autoRemoteTextTracks_.removeTrack_(t)},e.prototype.getVideoPlaybackQuality=function(){return{}},e.prototype.setPoster=function(){},e.prototype.playsinline=function(){},e.prototype.setPlaysinline=function(){},e.prototype.canPlayType=function(){return""},e.isTech=function(t){return t.prototype instanceof e||t instanceof e||t===e},e.registerTech=function(t,i){if(e.techs_||(e.techs_={}),!e.isTech(i))throw new Error("Tech "+t+" must be a Tech");return e.techs_[t]=i,i},e.getTech=function(t){return e.techs_&&e.techs_[t]?e.techs_[t]:M["default"]&&M["default"].videojs&&M["default"].videojs[t]?(w["default"].warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),M["default"].videojs[t]):void 0},e}(r["default"]);j.prototype.textTracks_,j.prototype.audioTracks_,j.prototype.videoTracks_,j.prototype.featuresVolumeControl=!0,j.prototype.featuresFullscreenResize=!1,j.prototype.featuresPlaybackRate=!1,j.prototype.featuresProgressEvents=!1,j.prototype.featuresTimeupdateEvents=!1,j.prototype.featuresNativeTextTracks=!1,j.withSourceHandlers=function(t){t.registerSourceHandler=function(e,i){var n=t.sourceHandlers;n||(n=t.sourceHandlers=[]),void 0===i&&(i=n.length),n.splice(i,0,e)},t.canPlayType=function(e){for(var i=t.sourceHandlers||[],n=void 0,r=0;r<i.length;r++)if(n=i[r].canPlayType(e),n)return n;return""},t.selectSourceHandler=function(e,i){for(var n=t.sourceHandlers||[],r=void 0,s=0;s<n.length;s++)if(r=n[s].canHandleSource(e,i),r)return n[s];return null},t.canPlaySource=function(e,i){var n=t.selectSourceHandler(e,i);return n?n.canHandleSource(e,i):""};var e=["seekable","duration"];e.forEach((function(t){var e=this[t];"function"===typeof e&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):e.apply(this,arguments)})}),t.prototype),t.prototype.setSource=function(e){var i=t.selectSourceHandler(e,this.options_);return i||(t.nativeSourceHandler?i=t.nativeSourceHandler:w["default"].error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),i!==t.nativeSourceHandler&&(this.currentSource_=e,this.off(this.el_,"loadstart",t.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",t.prototype.successiveLoadStartListener_),this.one(this.el_,"loadstart",t.prototype.firstLoadStartListener_)),this.sourceHandler_=i.handleSource(e,this,this.options_),this.on("dispose",this.disposeSourceHandler),this},t.prototype.firstLoadStartListener_=function(){this.one(this.el_,"loadstart",t.prototype.successiveLoadStartListener_)},t.prototype.successiveLoadStartListener_=function(){this.disposeSourceHandler(),this.one(this.el_,"loadstart",t.prototype.successiveLoadStartListener_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.off(this.el_,"loadstart",t.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",t.prototype.successiveLoadStartListener_),this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},r["default"].registerComponent("Tech",j),r["default"].registerComponent("MediaTechController",j),j.registerTech("Tech",j),e["default"]=j},cf36:function(t,e,i){},cfb5:function(t,e,i){"use strict";e.__esModule=!0;var n=i("6c5b"),r=h(n),s=i("61b0"),a=h(s),o=i("f545"),l=u(o);function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function h(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function p(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(i,n){c(this,e);var r=n.tracks,s=d(this,t.call(this,i,n));if(s.items.length<=1&&s.hide(),!r)return d(s);var a=l.bind(s,s.update);return r.addEventListener("removetrack",a),r.addEventListener("addtrack",a),s.player_.on("dispose",(function(){r.removeEventListener("removetrack",a),r.removeEventListener("addtrack",a)})),s}return p(e,t),e}(r["default"]);a["default"].registerComponent("TrackButton",f),e["default"]=f},cff3:function(t,e,i){"use strict";e.__esModule=!0;var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.each=a,e.reduce=o,e.assign=l,e.isObject=u,e.isPlain=h;var r=Object.prototype.toString,s=function(t){return u(t)?Object.keys(t):[]};function a(t,e){s(t).forEach((function(i){return e(t[i],i)}))}function o(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return s(t).reduce((function(i,n){return e(i,t[n],n)}),i)}function l(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return Object.assign?Object.assign.apply(Object,[t].concat(i)):(i.forEach((function(e){e&&a(e,(function(e,i){t[i]=e}))})),t)}function u(t){return!!t&&"object"===("undefined"===typeof t?"undefined":n(t))}function h(t){return u(t)&&"[object Object]"===r.call(t)&&t.constructor===Object}},d016:function(t,e,i){"use strict";function n(t){return"string"!==typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}e.__esModule=!0,e["default"]=n},d02c:function(t,e,i){var n=i("ef34"),r=Object.create||function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function s(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}function a(t){function e(t,e,i,n){return 3600*(0|t)+60*(0|e)+(0|i)+(0|n)/1e3}var i=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return i?i[3]?e(i[1],i[2],i[3].replace(":",""),i[4]):i[1]>59?e(i[1],i[2],0,i[4]):e(0,i[1],i[2],i[4]):null}function o(){this.values=r(null)}function l(t,e,i,n){var r=n?t.split(n):[t];for(var s in r)if("string"===typeof r[s]){var a=r[s].split(i);if(2===a.length){var o=a[0],l=a[1];e(o,l)}}}function u(t,e,i){var n=t;function r(){var e=a(t);if(null===e)throw new s(s.Errors.BadTimeStamp,"Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function u(t,e){var n=new o;l(t,(function(t,e){switch(t){case"region":for(var r=i.length-1;r>=0;r--)if(i[r].id===e){n.set(t,i[r].region);break}break;case"vertical":n.alt(t,e,["rl","lr"]);break;case"line":var s=e.split(","),a=s[0];n.integer(t,a),n.percent(t,a)&&n.set("snapToLines",!1),n.alt(t,a,["auto"]),2===s.length&&n.alt("lineAlign",s[1],["start","center","end"]);break;case"position":s=e.split(","),n.percent(t,s[0]),2===s.length&&n.alt("positionAlign",s[1],["start","center","end"]);break;case"size":n.percent(t,e);break;case"align":n.alt(t,e,["start","center","end","left","right"]);break}}),/:/,/\s/),e.region=n.get("region",null),e.vertical=n.get("vertical","");try{e.line=n.get("line","auto")}catch(r){}e.lineAlign=n.get("lineAlign","start"),e.snapToLines=n.get("snapToLines",!0),e.size=n.get("size",100);try{e.align=n.get("align","center")}catch(r){e.align=n.get("align","middle")}try{e.position=n.get("position","auto")}catch(r){e.position=n.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},e.align)}e.positionAlign=n.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},e.align)}function h(){t=t.replace(/^\s+/,"")}if(h(),e.startTime=r(),h(),"--\x3e"!==t.substr(0,3))throw new s(s.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+n);t=t.substr(3),h(),e.endTime=r(),h(),u(t,e)}s.prototype=r(Error.prototype),s.prototype.constructor=s,s.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},o.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,i){return i?this.has(t)?this.values[t]:e[i]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,i){for(var n=0;n<i.length;++n)if(e===i[n]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100))&&(this.set(t,e),!0)}};var h=n.createElement&&n.createElement("textarea"),c={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},d={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},p={v:"title",lang:"lang"},f={rt:"ruby"};function m(t,e){function i(){if(!e)return null;function t(t){return e=e.substr(t.length),t}var i=e.match(/^([^<]*)(<[^>]*>?)?/);return t(i[1]?i[1]:i[2])}function n(t){return h.innerHTML=t,t=h.textContent,h.textContent="",t}function r(t,e){return!f[e.localName]||f[e.localName]===t.localName}function s(e,i){var n=c[e];if(!n)return null;var r=t.document.createElement(n),s=p[e];return s&&i&&(r[s]=i.trim()),r}var o,l=t.document.createElement("div"),u=l,m=[];while(null!==(o=i()))if("<"!==o[0])u.appendChild(t.document.createTextNode(n(o)));else{if("/"===o[1]){m.length&&m[m.length-1]===o.substr(2).replace(">","")&&(m.pop(),u=u.parentNode);continue}var g,_=a(o.substr(1,o.length-2));if(_){g=t.document.createProcessingInstruction("timestamp",_),u.appendChild(g);continue}var v=o.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!v)continue;if(g=s(v[1],v[3]),!g)continue;if(!r(u,g))continue;if(v[2]){var y=v[2].split(".");y.forEach((function(t){var e=/^bg_/.test(t),i=e?t.slice(3):t;if(d.hasOwnProperty(i)){var n=e?"background-color":"color",r=d[i];g.style[n]=r}})),g.className=y.join(" ")}m.push(v[1]),u.appendChild(g),u=g}return l}var g=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function _(t){for(var e=0;e<g.length;e++){var i=g[e];if(t>=i[0]&&t<=i[1])return!0}return!1}function v(t){var e,i=[],n="";if(!t||!t.childNodes)return"ltr";function r(t,e){for(var i=e.childNodes.length-1;i>=0;i--)t.push(e.childNodes[i])}function s(t){if(!t||!t.length)return null;var e=t.pop(),i=e.textContent||e.innerText;if(i){var n=i.match(/^.*(\n|\r)/);return n?(t.length=0,n[0]):i}return"ruby"===e.tagName?s(t):e.childNodes?(r(t,e),s(t)):void 0}r(i,t);while(n=s(i))for(var a=0;a<n.length;a++)if(e=n.charCodeAt(a),_(e))return"rtl";return"ltr"}function y(t){if("number"===typeof t.line&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,i=e.textTrackList,n=0,r=0;r<i.length&&i[r]!==e;r++)"showing"===i[r].mode&&n++;return-1*++n}function b(){}function T(t,e,i){b.call(this),this.cue=e,this.cueDiv=m(t,e.text);var n={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(n,this.cueDiv),this.div=t.document.createElement("div"),n={direction:v(this.cueDiv),writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===e.align?"center":e.align,font:i.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(n),this.div.appendChild(this.cueDiv);var r=0;switch(e.positionAlign){case"start":r=e.position;break;case"center":r=e.position-e.size/2;break;case"end":r=e.position-e.size;break}""===e.vertical?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}function w(t){var e,i,n,r;if(t.div){i=t.div.offsetHeight,n=t.div.offsetWidth,r=t.div.offsetTop;var s=(s=t.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();t=t.div.getBoundingClientRect(),e=s?Math.max(s[0]&&s[0].height||0,t.height/s.length):0}this.left=t.left,this.right=t.right,this.top=t.top||r,this.height=t.height||i,this.bottom=t.bottom||r+(t.height||i),this.width=t.width||n,this.lineHeight=void 0!==e?e:t.lineHeight}function S(t,e,i,n){function r(t,e){for(var r,s=new w(t),a=1,o=0;o<e.length;o++){while(t.overlapsOppositeAxis(i,e[o])||t.within(i)&&t.overlapsAny(n))t.move(e[o]);if(t.within(i))return t;var l=t.intersectPercentage(i);a>l&&(r=new w(t),a=l),t=new w(s)}return r||s}var s=new w(e),a=e.cue,o=y(a),l=[];if(a.snapToLines){var u;switch(a.vertical){case"":l=["+y","-y"],u="height";break;case"rl":l=["+x","-x"],u="width";break;case"lr":l=["-x","+x"],u="width";break}var h=s.lineHeight,c=h*Math.round(o),d=i[u]+h,p=l[0];Math.abs(c)>d&&(c=c<0?-1:1,c*=Math.ceil(d/h)*h),o<0&&(c+=""===a.vertical?i.height:i.width,l=l.reverse()),s.move(p,c)}else{var f=s.lineHeight/i.height*100;switch(a.lineAlign){case"center":o-=f/2;break;case"end":o-=f;break}switch(a.vertical){case"":e.applyStyles({top:e.formatStyle(o,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(o,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(o,"%")});break}l=["+y","-x","+x","-y"],s=new w(e)}var m=r(s,l);e.move(m.toCSSCompatValues(i))}function E(){}b.prototype.applyStyles=function(t,e){for(var i in e=e||this.div,t)t.hasOwnProperty(i)&&(e.style[i]=t[i])},b.prototype.formatStyle=function(t,e){return 0===t?0:t+e},T.prototype=r(b.prototype),T.prototype.constructor=T,w.prototype.move=function(t,e){switch(e=void 0!==e?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}},w.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},w.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},w.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},w.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},w.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),i=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),n=e*i;return n/(this.height*this.width)},w.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},w.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,i=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,n=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var r={left:t.left,right:t.right,top:t.top||n,height:t.height||e,bottom:t.bottom||n+(t.height||e),width:t.width||i};return r},E.StringDecoder=function(){return{decode:function(t){if(!t)return"";if("string"!==typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},E.convertCueToDOMTree=function(t,e){return t&&e?m(t,e):null};var C=.05,k="sans-serif",x="1.5%";E.processCues=function(t,e,i){if(!t||!e||!i)return null;while(i.firstChild)i.removeChild(i.firstChild);var n=t.document.createElement("div");function r(t){for(var e=0;e<t.length;e++)if(t[e].hasBeenReset||!t[e].displayState)return!0;return!1}if(n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin=x,i.appendChild(n),r(e)){var s=[],a=w.getSimpleBoxPosition(n),o=Math.round(a.height*C*100)/100,l={font:o+"px "+k};(function(){for(var i,r,o=0;o<e.length;o++)r=e[o],i=new T(t,r,l),n.appendChild(i.div),S(t,i,a,s),r.displayState=i.div,s.push(w.getSimpleBoxPosition(i))})()}else for(var u=0;u<e.length;u++)n.appendChild(e[u].displayState)},E.Parser=function(t,e,i){i||(i=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=i||new TextDecoder("utf8"),this.regionList=[]},E.Parser.prototype={reportOrThrowError:function(t){if(!(t instanceof s))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(t){var e=this;function i(){var t=e.buffer,i=0;while(i<t.length&&"\r"!==t[i]&&"\n"!==t[i])++i;var n=t.substr(0,i);return"\r"===t[i]&&++i,"\n"===t[i]&&++i,e.buffer=t.substr(i),n}function n(t){var i=new o;if(l(t,(function(t,e){switch(t){case"id":i.set(t,e);break;case"width":i.percent(t,e);break;case"lines":i.integer(t,e);break;case"regionanchor":case"viewportanchor":var n=e.split(",");if(2!==n.length)break;var r=new o;if(r.percent("x",n[0]),r.percent("y",n[1]),!r.has("x")||!r.has("y"))break;i.set(t+"X",r.get("x")),i.set(t+"Y",r.get("y"));break;case"scroll":i.alt(t,e,["up"]);break}}),/=/,/\s/),i.has("id")){var n=new(e.vttjs.VTTRegion||e.window.VTTRegion);n.width=i.get("width",100),n.lines=i.get("lines",3),n.regionAnchorX=i.get("regionanchorX",0),n.regionAnchorY=i.get("regionanchorY",100),n.viewportAnchorX=i.get("viewportanchorX",0),n.viewportAnchorY=i.get("viewportanchorY",100),n.scroll=i.get("scroll",""),e.onregion&&e.onregion(n),e.regionList.push({id:i.get("id"),region:n})}}function r(t){var i=new o;l(t,(function(t,e){switch(t){case"MPEGT":i.integer(t+"S",e);break;case"LOCA":i.set(t+"L",a(e));break}}),/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:i.get("MPEGTS"),LOCAL:i.get("LOCAL")})}function h(t){t.match(/X-TIMESTAMP-MAP/)?l(t,(function(t,e){switch(t){case"X-TIMESTAMP-MAP":r(e);break}}),/=/):l(t,(function(t,e){switch(t){case"Region":n(e);break}}),/:/)}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var c;if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;c=i();var d=c.match(/^WEBVTT([ \t].*)?$/);if(!d||!d[0])throw new s(s.Errors.BadSignature);e.state="HEADER"}var p=!1;while(e.buffer){if(!/\r\n|\n/.test(e.buffer))return this;switch(p?p=!1:c=i(),e.state){case"HEADER":/:/.test(c)?h(c):c||(e.state="ID");continue;case"NOTE":c||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(c)){e.state="NOTE";break}if(!c)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch(m){e.cue.align="middle"}if(e.state="CUE",-1===c.indexOf("--\x3e")){e.cue.id=c;continue}case"CUE":try{u(c,e.cue,e.regionList)}catch(m){e.reportOrThrowError(m),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var f=-1!==c.indexOf("--\x3e");if(!c||f&&(p=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+="\n"),e.cue.text+=c.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":c||(e.state="ID");continue}}}catch(m){e.reportOrThrowError(m),"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new s(s.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}},t.exports=E},d136:function(t,e,i){(function(e){var i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,n=/^([^\/?#]*)([^]*)$/,r=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={buildAbsoluteURL:function(t,e,i){if(i=i||{},t=t.trim(),e=e.trim(),!e){if(!i.alwaysNormalize)return t;var r=a.parseURL(t);if(!r)throw new Error("Error trying to parse base URL.");return r.path=a.normalizePath(r.path),a.buildURLFromParts(r)}var s=a.parseURL(e);if(!s)throw new Error("Error trying to parse relative URL.");if(s.scheme)return i.alwaysNormalize?(s.path=a.normalizePath(s.path),a.buildURLFromParts(s)):e;var o=a.parseURL(t);if(!o)throw new Error("Error trying to parse base URL.");if(!o.netLoc&&o.path&&"/"!==o.path[0]){var l=n.exec(o.path);o.netLoc=l[1],o.path=l[2]}o.netLoc&&!o.path&&(o.path="/");var u={scheme:o.scheme,netLoc:s.netLoc,path:null,params:s.params,query:s.query,fragment:s.fragment};if(!s.netLoc&&(u.netLoc=o.netLoc,"/"!==s.path[0]))if(s.path){var h=o.path,c=h.substring(0,h.lastIndexOf("/")+1)+s.path;u.path=a.normalizePath(c)}else u.path=o.path,s.params||(u.params=o.params,s.query||(u.query=o.query));return null===u.path&&(u.path=i.alwaysNormalize?a.normalizePath(s.path):s.path),a.buildURLFromParts(u)},parseURL:function(t){var e=i.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){t=t.split("").reverse().join("").replace(r,"");while(t.length!==(t=t.replace(s,"")).length);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}};t.exports=a})()},d191:function(t,e,i){},d2be:function(t,e){var i=arguments[3],n=arguments[4],r=arguments[5],s=JSON.stringify;t.exports=function(t,e){for(var a,o=Object.keys(r),l=0,u=o.length;l<u;l++){var h=o[l],c=r[h].exports;if(c===t||c&&c.default===t){a=h;break}}if(!a){a=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var d={};for(l=0,u=o.length;l<u;l++){h=o[l];d[h]=h}n[a]=["function(require,module,exports){"+t+"(self); }",d]}var p=Math.floor(Math.pow(16,8)*Math.random()).toString(16),f={};f[a]=a,n[p]=["function(require,module,exports){var f = require("+s(a)+");(f.default ? f.default : f)(self);}",f];var m={};function g(t){for(var e in m[t]=!0,n[t][1]){var i=n[t][1][e];m[i]||g(i)}}g(p);var _="("+i+")({"+Object.keys(m).map((function(t){return s(t)+":["+n[t][0]+","+s(n[t][1])+"]"})).join(",")+"},{},["+s(p)+"])",v=window.URL||window.webkitURL||window.mozURL||window.msURL,y=new Blob([_],{type:"text/javascript"});if(e&&e.bare)return y;var b=v.createObjectURL(y),T=new Worker(b);return T.objectURL=b,T}},d4a2:function(t,e){e.entityMap={lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",times:"×",divide:"÷",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",euro:"€",trade:"™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"}},d664:function(t,e,i){"use strict";var n=i("a178"),r=i("8362"),s=i("6444"),a=i("53a8");function o(t,e){for(var i=0;i<t.length;i++)e(t[i])}function l(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function u(t,e,i){var n=t;return r(e)?(i=e,"string"===typeof t&&(n={uri:t})):n=a(e,{uri:t}),n.callback=i,n}function h(t,e,i){return e=u(t,e,i),c(e)}function c(t){if("undefined"===typeof t.callback)throw new Error("callback argument missing");var e=!1,i=function(i,n,r){e||(e=!0,t.callback(i,n,r))};function n(){4===f.readyState&&u()}function r(){var t=void 0;if(t=f.response?f.response:f.responseText||d(f),T)try{t=JSON.parse(t)}catch(e){}return t}var a={body:void 0,headers:{},statusCode:0,method:_,url:g,rawRequest:f};function o(t){return clearTimeout(m),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,i(t,a)}function u(){if(!p){var e;clearTimeout(m),e=t.useXDR&&void 0===f.status?200:1223===f.status?204:f.status;var n=a,o=null;return 0!==e?(n={body:r(),statusCode:e,method:_,headers:{},url:g,rawRequest:f},f.getAllResponseHeaders&&(n.headers=s(f.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),i(o,n,n.body)}}var c,p,f=t.xhr||null;f||(f=t.cors||t.useXDR?new h.XDomainRequest:new h.XMLHttpRequest);var m,g=f.url=t.uri||t.url,_=f.method=t.method||"GET",v=t.body||t.data||null,y=f.headers=t.headers||{},b=!!t.sync,T=!1;if("json"in t&&(T=!0,y["accept"]||y["Accept"]||(y["Accept"]="application/json"),"GET"!==_&&"HEAD"!==_&&(y["content-type"]||y["Content-Type"]||(y["Content-Type"]="application/json"),v=JSON.stringify(t.json))),f.onreadystatechange=n,f.onload=u,f.onerror=o,f.onprogress=function(){},f.ontimeout=o,f.open(_,g,!b,t.username,t.password),b||(f.withCredentials=!!t.withCredentials),!b&&t.timeout>0&&(m=setTimeout((function(){p=!0,f.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",o(t)}),t.timeout)),f.setRequestHeader)for(c in y)y.hasOwnProperty(c)&&f.setRequestHeader(c,y[c]);else if(t.headers&&!l(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(f.responseType=t.responseType),"beforeSend"in t&&"function"===typeof t.beforeSend&&t.beforeSend(f),f.send(v),f}function d(t){if("document"===t.responseType)return t.responseXML;var e=204===t.status&&t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;return""!==t.responseType||e?null:t.responseXML}function p(){}t.exports=h,h.XMLHttpRequest=n.XMLHttpRequest||p,h.XDomainRequest="withCredentials"in new h.XMLHttpRequest?h.XMLHttpRequest:n.XDomainRequest,o(["get","put","post","patch","head","delete"],(function(t){h["delete"===t?"del":t]=function(e,i,n){return i=u(e,i,n),i.method=t.toUpperCase(),c(i)}}))},d706:function(t,e,i){"use strict";e.__esModule=!0;var n=i("61b0"),r=l(n),s=i("702d"),a=o(s);function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function l(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function c(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=function(t){function e(i,n){u(this,e);var r=h(this,t.call(this,i,n));return r.partEls_=[],r.on(i,"progress",r.update),r}return c(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},e.prototype.update=function(t){var e=this.player_.buffered(),i=this.player_.duration(),n=this.player_.bufferedEnd(),r=this.partEls_,s=function(t,e){var i=t/e||0;return 100*(i>=1?1:i)+"%"};this.el_.style.width=s(n,i);for(var o=0;o<e.length;o++){var l=e.start(o),u=e.end(o),h=r[o];h||(h=this.el_.appendChild(a.createEl()),r[o]=h),h.style.left=s(l,n),h.style.width=s(u-l,n)}for(var c=r.length;c>e.length;c--)this.el_.removeChild(r[c-1]);r.length=e.length},e}(r["default"]);r["default"].registerComponent("LoadProgressBar",d),e["default"]=d},d745:function(t,e,i){"use strict";e.__esModule=!0;var n=i("3770"),r=i("0bb7"),s=c(r),a=i("3afa"),o=c(a),l=i("4e2d"),u=h(l);function h(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function c(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function f(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var m=function(t){function e(){var i,r,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d(this,e);var a=(0,o["default"])(s,{kind:n.AudioTrackKind[s.kind]||""}),l=(i=p(this,t.call(this,a)),i),h=!1;if(u.IS_IE8)for(var c in e.prototype)"constructor"!==c&&(l[c]=e.prototype[c]);return Object.defineProperty(l,"enabled",{get:function(){return h},set:function(t){"boolean"===typeof t&&t!==h&&(h=t,this.trigger("enabledchange"))}}),a.enabled&&(l.enabled=a.enabled),l.loaded_=!0,r=l,p(i,r)}return f(e,t),e}(s["default"]);e["default"]=m},d8e3:function(t,e,i){"use strict";e.__esModule=!0,e.newGUID=r;var n=1;function r(){return n++}},d9ce:function(t,e,i){"use strict";function n(t){return t.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},t.streamFromParts=function(t,e){return t+"&"+e},t.streamToParts=function(t){var e={connection:"",stream:""};if(!t)return e;var i=t.search(/&(?!\w+=)/),n=void 0;return-1!==i?n=i+1:(i=n=t.lastIndexOf("/")+1,0===i&&(i=n=t.length)),e.connection=t.substring(0,i),e.stream=t.substring(n,t.length),e},t.isStreamingType=function(e){return e in t.streamingFormats},t.RTMP_RE=/^rtmp[set]?:\/\//i,t.isStreamingSrc=function(e){return t.RTMP_RE.test(e)},t.rtmpSourceHandler={},t.rtmpSourceHandler.canPlayType=function(e){return t.isStreamingType(e)?"maybe":""},t.rtmpSourceHandler.canHandleSource=function(e,i){var n=t.rtmpSourceHandler.canPlayType(e.type);return n||(t.isStreamingSrc(e.src)?"maybe":"")},t.rtmpSourceHandler.handleSource=function(e,i,n){var r=t.streamToParts(e.src);i.setRtmpConnection(r.connection),i.setRtmpStream(r.stream)},t.registerSourceHandler(t.rtmpSourceHandler),t}e.__esModule=!0,e["default"]=n},da13:function(t,e,i){"use strict";i("61d2");var n=i("a9ad"),r=i("1c87"),s=i("4e82"),a=i("7560"),o=i("f2e7"),l=i("5607"),u=i("80d2"),h=i("d9bd"),c=i("58df");const d=Object(c["a"])(n["a"],r["a"],a["a"],Object(s["a"])("listItemGroup"),Object(o["b"])("inputValue"));e["a"]=d.extend().extend({name:"v-list-item",directives:{Ripple:l["a"]},inject:{isInGroup:{default:!1},isInList:{default:!1},isInMenu:{default:!1},isInNav:{default:!1}},inheritAttrs:!1,props:{activeClass:{type:String,default(){return this.listItemGroup?this.listItemGroup.activeClass:""}},dense:Boolean,inactive:Boolean,link:Boolean,selectable:{type:Boolean},tag:{type:String,default:"div"},threeLine:Boolean,twoLine:Boolean,value:null},data:()=>({proxyClass:"v-list-item--active"}),computed:{classes(){return{"v-list-item":!0,...r["a"].options.computed.classes.call(this),"v-list-item--dense":this.dense,"v-list-item--disabled":this.disabled,"v-list-item--link":this.isClickable&&!this.inactive,"v-list-item--selectable":this.selectable,"v-list-item--three-line":this.threeLine,"v-list-item--two-line":this.twoLine,...this.themeClasses}},isClickable(){return Boolean(r["a"].options.computed.isClickable.call(this)||this.listItemGroup)}},created(){this.$attrs.hasOwnProperty("avatar")&&Object(h["e"])("avatar",this)},methods:{click(t){t.detail&&this.$el.blur(),this.$emit("click",t),this.to||this.toggle()},genAttrs(){const t={"aria-disabled":!!this.disabled||void 0,tabindex:this.isClickable&&!this.disabled?0:-1,...this.$attrs};return this.$attrs.hasOwnProperty("role")||this.isInNav||(this.isInGroup?(t.role="option",t["aria-selected"]=String(this.isActive)):this.isInMenu?(t.role=this.isClickable?"menuitem":void 0,t.id=t.id||"list-item-"+this._uid):this.isInList&&(t.role="listitem")),t}},render(t){let{tag:e,data:i}=this.generateRouteLink();i.attrs={...i.attrs,...this.genAttrs()},i[this.to?"nativeOn":"on"]={...i[this.to?"nativeOn":"on"],keydown:t=>{t.keyCode===u["t"].enter&&this.click(t),this.$emit("keydown",t)}},this.inactive&&(e="div"),this.inactive&&this.to&&(i.on=i.nativeOn,delete i.nativeOn);const n=this.$scopedSlots.default?this.$scopedSlots.default({active:this.isActive,toggle:this.toggle}):this.$slots.default;return t(e,this.setTextColor(this.color,i),n)}})},db42:function(t,e,i){},de2e:function(t,e,i){"use strict";e.__esModule=!0;var n=i("61b0"),r=s(n);function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(t){function e(){return a(this,e),o(this,t.apply(this,arguments))}return l(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},e}(r["default"]);r["default"].registerComponent("TimeDivider",u),e["default"]=u},dec4:function(t,e,i){"use strict";e.__esModule=!0;var n=i("af98"),r=h(n),s=i("61b0"),a=h(s),o=i("320e"),l=h(o),u=i("cff3");function h(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function p(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(){return c(this,e),d(this,t.apply(this,arguments))}return p(e,t),e.prototype.createEl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"button",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=(0,u.assign)({className:this.buildCSSClass()},e),"button"!==t&&(l["default"].warn("Creating a Button with an HTML element of "+t+" is deprecated; use ClickableComponent instead."),e=(0,u.assign)({tabIndex:0},e),i=(0,u.assign)({role:"button"},i)),i=(0,u.assign)({type:"button","aria-live":"polite"},i);var n=a["default"].prototype.createEl.call(this,t,e,i);return this.createControlTextEl(n),n},e.prototype.addChild=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.constructor.name;return l["default"].warn("Adding an actionable (user controllable) child to a Button ("+i+") is not supported; use a ClickableComponent instead."),a["default"].prototype.addChild.call(this,t,e)},e.prototype.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},e.prototype.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},e.prototype.handleKeyPress=function(e){32!==e.which&&13!==e.which&&t.prototype.handleKeyPress.call(this,e)},e}(r["default"]);a["default"].registerComponent("Button",f),e["default"]=f},df33:function(t,e){function i(t){if(t&&"object"===typeof t){var e=t.which||t.keyCode||t.charCode;e&&(t=e)}if("number"===typeof t)return a[t];var i=String(t),s=n[i.toLowerCase()];if(s)return s;s=r[i.toLowerCase()];return s||(1===i.length?i.charCodeAt(0):void 0)}i.isEventKey=function(t,e){if(t&&"object"===typeof t){var i=t.which||t.keyCode||t.charCode;if(null===i||void 0===i)return!1;if("string"===typeof e){var s=n[e.toLowerCase()];if(s)return s===i;s=r[e.toLowerCase()];if(s)return s===i}else if("number"===typeof e)return e===i;return!1}},e=t.exports=i;var n=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=e.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};
/*!
 * Programatically add the following
 */
for(s=97;s<123;s++)n[String.fromCharCode(s)]=s-32;for(var s=48;s<58;s++)n[s-48]=s;for(s=1;s<13;s++)n["f"+s]=s+111;for(s=0;s<10;s++)n["numpad "+s]=s+96;var a=e.names=e.title={};for(s in n)a[n[s]]=s;for(var o in r)n[o]=r[o]},e11e:function(t,e,i){
/* @preserve
 * Leaflet 1.7.1, a JS library for interactive maps. http://leafletjs.com
 * (c) 2010-2019 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */
(function(t,i){i(e)})(0,(function(t){"use strict";var e="1.7.1";function i(t){var e,i,n,r;for(i=1,n=arguments.length;i<n;i++)for(e in r=arguments[i],r)t[e]=r[e];return t}var n=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function r(t,e){var i=Array.prototype.slice;if(t.bind)return t.bind.apply(t,i.call(arguments,1));var n=i.call(arguments,2);return function(){return t.apply(e,n.length?n.concat(i.call(arguments)):arguments)}}var s=0;function a(t){return t._leaflet_id=t._leaflet_id||++s,t._leaflet_id}function o(t,e,i){var n,r,s,a;return a=function(){n=!1,r&&(s.apply(i,r),r=!1)},s=function(){n?r=arguments:(t.apply(i,arguments),setTimeout(a,e),n=!0)},s}function l(t,e,i){var n=e[1],r=e[0],s=n-r;return t===n&&i?t:((t-r)%s+s)%s+r}function u(){return!1}function h(t,e){var i=Math.pow(10,void 0===e?6:e);return Math.round(t*i)/i}function c(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function d(t){return c(t).split(/\s+/)}function p(t,e){for(var i in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?n(t.options):{}),e)t.options[i]=e[i];return t.options}function f(t,e,i){var n=[];for(var r in t)n.push(encodeURIComponent(i?r.toUpperCase():r)+"="+encodeURIComponent(t[r]));return(e&&-1!==e.indexOf("?")?"&":"?")+n.join("&")}var m=/\{ *([\w_-]+) *\}/g;function g(t,e){return t.replace(m,(function(t,i){var n=e[i];if(void 0===n)throw new Error("No value provided for variable "+t);return"function"===typeof n&&(n=n(e)),n}))}var _=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function v(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1}var y="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function b(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var T=0;function w(t){var e=+new Date,i=Math.max(0,16-(e-T));return T=e+i,window.setTimeout(t,i)}var S=window.requestAnimationFrame||b("RequestAnimationFrame")||w,E=window.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function C(t,e,i){if(!i||S!==w)return S.call(window,r(t,e));t.call(e)}function k(t){t&&E.call(window,t)}var x={extend:i,create:n,bind:r,lastId:s,stamp:a,throttle:o,wrapNum:l,falseFn:u,formatNum:h,trim:c,splitWords:d,setOptions:p,getParamString:f,template:g,isArray:_,indexOf:v,emptyImageUrl:y,requestFn:S,cancelFn:E,requestAnimFrame:C,cancelAnimFrame:k};function M(){}function A(t){if("undefined"!==typeof L&&L&&L.Mixin){t=_(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}M.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=e.__super__=this.prototype,s=n(r);for(var a in s.constructor=e,e.prototype=s,this)Object.prototype.hasOwnProperty.call(this,a)&&"prototype"!==a&&"__super__"!==a&&(e[a]=this[a]);return t.statics&&(i(e,t.statics),delete t.statics),t.includes&&(A(t.includes),i.apply(null,[s].concat(t.includes)),delete t.includes),s.options&&(t.options=i(n(s.options),t.options)),i(s,t),s._initHooks=[],s.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=s._initHooks.length;t<e;t++)s._initHooks[t].call(this)}},e},M.include=function(t){return i(this.prototype,t),this},M.mergeOptions=function(t){return i(this.prototype.options,t),this},M.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i="function"===typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this};var I={on:function(t,e,i){if("object"===typeof t)for(var n in t)this._on(n,t[n],e);else{t=d(t);for(var r=0,s=t.length;r<s;r++)this._on(t[r],e,i)}return this},off:function(t,e,i){if(t)if("object"===typeof t)for(var n in t)this._off(n,t[n],e);else{t=d(t);for(var r=0,s=t.length;r<s;r++)this._off(t[r],e,i)}else delete this._events;return this},_on:function(t,e,i){this._events=this._events||{};var n=this._events[t];n||(n=[],this._events[t]=n),i===this&&(i=void 0);for(var r={fn:e,ctx:i},s=n,a=0,o=s.length;a<o;a++)if(s[a].fn===e&&s[a].ctx===i)return;s.push(r)},_off:function(t,e,i){var n,r,s;if(this._events&&(n=this._events[t],n))if(e){if(i===this&&(i=void 0),n)for(r=0,s=n.length;r<s;r++){var a=n[r];if(a.ctx===i&&a.fn===e)return a.fn=u,this._firingCount&&(this._events[t]=n=n.slice()),void n.splice(r,1)}}else{for(r=0,s=n.length;r<s;r++)n[r].fn=u;delete this._events[t]}},fire:function(t,e,n){if(!this.listens(t,n))return this;var r=i({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var s=this._events[t];if(s){this._firingCount=this._firingCount+1||1;for(var a=0,o=s.length;a<o;a++){var l=s[a];l.fn.call(l.ctx||this,r)}this._firingCount--}}return n&&this._propagateEvent(r),this},listens:function(t,e){var i=this._events&&this._events[t];if(i&&i.length)return!0;if(e)for(var n in this._eventParents)if(this._eventParents[n].listens(t,e))return!0;return!1},once:function(t,e,i){if("object"===typeof t){for(var n in t)this.once(n,t[n],e);return this}var s=r((function(){this.off(t,e,i).off(t,s,i)}),this);return this.on(t,e,i).on(t,s,i)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[a(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[a(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,i({layer:t.target,propagatedFrom:t.target},t),!0)}};I.addEventListener=I.on,I.removeEventListener=I.clearAllEventListeners=I.off,I.addOneTimeEventListener=I.once,I.fireEvent=I.fire,I.hasEventListeners=I.listens;var O=M.extend(I);function P(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e}var R=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function D(t,e,i){return t instanceof P?t:_(t)?new P(t[0],t[1]):void 0===t||null===t?t:"object"===typeof t&&"x"in t&&"y"in t?new P(t.x,t.y):new P(t,e,i)}function N(t,e){if(t)for(var i=e?[t,e]:t,n=0,r=i.length;n<r;n++)this.extend(i[n])}function B(t,e){return!t||t instanceof N?t:new N(t,e)}function j(t,e){if(t)for(var i=e?[t,e]:t,n=0,r=i.length;n<r;n++)this.extend(i[n])}function U(t,e){return t instanceof j?t:new j(t,e)}function F(t,e,i){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==i&&(this.alt=+i)}function z(t,e,i){return t instanceof F?t:_(t)&&"object"!==typeof t[0]?3===t.length?new F(t[0],t[1],t[2]):2===t.length?new F(t[0],t[1]):null:void 0===t||null===t?t:"object"===typeof t&&"lat"in t?new F(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new F(t,e,i)}P.prototype={clone:function(){return new P(this.x,this.y)},add:function(t){return this.clone()._add(D(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(D(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new P(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new P(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=R(this.x),this.y=R(this.y),this},distanceTo:function(t){t=D(t);var e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},equals:function(t){return t=D(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=D(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+h(this.x)+", "+h(this.y)+")"}},N.prototype={extend:function(t){return t=D(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new P((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new P(this.min.x,this.max.y)},getTopRight:function(){return new P(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,i;return t="number"===typeof t[0]||t instanceof P?D(t):B(t),t instanceof N?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=B(t);var e=this.min,i=this.max,n=t.min,r=t.max,s=r.x>=e.x&&n.x<=i.x,a=r.y>=e.y&&n.y<=i.y;return s&&a},overlaps:function(t){t=B(t);var e=this.min,i=this.max,n=t.min,r=t.max,s=r.x>e.x&&n.x<i.x,a=r.y>e.y&&n.y<i.y;return s&&a},isValid:function(){return!(!this.min||!this.max)}},j.prototype={extend:function(t){var e,i,n=this._southWest,r=this._northEast;if(t instanceof F)e=t,i=t;else{if(!(t instanceof j))return t?this.extend(z(t)||U(t)):this;if(e=t._southWest,i=t._northEast,!e||!i)return this}return n||r?(n.lat=Math.min(e.lat,n.lat),n.lng=Math.min(e.lng,n.lng),r.lat=Math.max(i.lat,r.lat),r.lng=Math.max(i.lng,r.lng)):(this._southWest=new F(e.lat,e.lng),this._northEast=new F(i.lat,i.lng)),this},pad:function(t){var e=this._southWest,i=this._northEast,n=Math.abs(e.lat-i.lat)*t,r=Math.abs(e.lng-i.lng)*t;return new j(new F(e.lat-n,e.lng-r),new F(i.lat+n,i.lng+r))},getCenter:function(){return new F((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new F(this.getNorth(),this.getWest())},getSouthEast:function(){return new F(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"===typeof t[0]||t instanceof F||"lat"in t?z(t):U(t);var e,i,n=this._southWest,r=this._northEast;return t instanceof j?(e=t.getSouthWest(),i=t.getNorthEast()):e=i=t,e.lat>=n.lat&&i.lat<=r.lat&&e.lng>=n.lng&&i.lng<=r.lng},intersects:function(t){t=U(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),r=t.getNorthEast(),s=r.lat>=e.lat&&n.lat<=i.lat,a=r.lng>=e.lng&&n.lng<=i.lng;return s&&a},overlaps:function(t){t=U(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),r=t.getNorthEast(),s=r.lat>e.lat&&n.lat<i.lat,a=r.lng>e.lng&&n.lng<i.lng;return s&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=U(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},F.prototype={equals:function(t,e){if(!t)return!1;t=z(t);var i=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return i<=(void 0===e?1e-9:e)},toString:function(t){return"LatLng("+h(this.lat,t)+", "+h(this.lng,t)+")"},distanceTo:function(t){return H.distance(this,z(t))},wrap:function(){return H.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return U([this.lat-e,this.lng-i],[this.lat+e,this.lng+i])},clone:function(){return new F(this.lat,this.lng,this.alt)}};var V={latLngToPoint:function(t,e){var i=this.projection.project(t),n=this.scale(e);return this.transformation._transform(i,n)},pointToLatLng:function(t,e){var i=this.scale(e),n=this.transformation.untransform(t,i);return this.projection.unproject(n)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,i=this.scale(t),n=this.transformation.transform(e.min,i),r=this.transformation.transform(e.max,i);return new N(n,r)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?l(t.lng,this.wrapLng,!0):t.lng,i=this.wrapLat?l(t.lat,this.wrapLat,!0):t.lat,n=t.alt;return new F(i,e,n)},wrapLatLngBounds:function(t){var e=t.getCenter(),i=this.wrapLatLng(e),n=e.lat-i.lat,r=e.lng-i.lng;if(0===n&&0===r)return t;var s=t.getSouthWest(),a=t.getNorthEast(),o=new F(s.lat-n,s.lng-r),l=new F(a.lat-n,a.lng-r);return new j(o,l)}},H=i({},V,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var i=Math.PI/180,n=t.lat*i,r=e.lat*i,s=Math.sin((e.lat-t.lat)*i/2),a=Math.sin((e.lng-t.lng)*i/2),o=s*s+Math.cos(n)*Math.cos(r)*a*a,l=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o));return this.R*l}}),q=6378137,G={R:q,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,t.lat),-i),r=Math.sin(n*e);return new P(this.R*t.lng*e,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(t){var e=180/Math.PI;return new F((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=q*Math.PI;return new N([-t,-t],[t,t])}()};function W(t,e,i,n){if(_(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=i,this._d=n}function $(t,e,i,n){return new W(t,e,i,n)}W.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new P((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var K=i({},H,{code:"EPSG:3857",projection:G,transformation:function(){var t=.5/(Math.PI*G.R);return $(t,.5,-t,.5)}()}),Z=i({},K,{code:"EPSG:900913"});function X(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Y(t,e){var i,n,r,s,a,o,l="";for(i=0,r=t.length;i<r;i++){for(a=t[i],n=0,s=a.length;n<s;n++)o=a[n],l+=(n?"L":"M")+o.x+" "+o.y;l+=e?At?"z":"x":""}return l||"M0 0"}var Q=document.documentElement.style,J="ActiveXObject"in window,tt=J&&!document.addEventListener,et="msLaunchUri"in navigator&&!("documentMode"in document),it=Ot("webkit"),nt=Ot("android"),rt=Ot("android 2")||Ot("android 3"),st=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),at=nt&&Ot("Google")&&st<537&&!("AudioNode"in window),ot=!!window.opera,lt=!et&&Ot("chrome"),ut=Ot("gecko")&&!it&&!ot&&!J,ht=!lt&&Ot("safari"),ct=Ot("phantom"),dt="OTransition"in Q,pt=0===navigator.platform.indexOf("Win"),ft=J&&"transition"in Q,mt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!rt,gt="MozPerspective"in Q,_t=!window.L_DISABLE_3D&&(ft||mt||gt)&&!dt&&!ct,vt="undefined"!==typeof orientation||Ot("mobile"),yt=vt&&it,bt=vt&&mt,Tt=!window.PointerEvent&&window.MSPointerEvent,wt=!(!window.PointerEvent&&!Tt),St=!window.L_NO_TOUCH&&(wt||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Et=vt&&ot,Ct=vt&&ut,kt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,xt=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",u,e),window.removeEventListener("testPassiveEventSupport",u,e)}catch(i){}return t}(),Mt=function(){return!!document.createElement("canvas").getContext}(),At=!(!document.createElementNS||!X("svg").createSVGRect),It=!At&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"===typeof e.adj}catch(i){return!1}}();function Ot(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Pt={ie:J,ielt9:tt,edge:et,webkit:it,android:nt,android23:rt,androidStock:at,opera:ot,chrome:lt,gecko:ut,safari:ht,phantom:ct,opera12:dt,win:pt,ie3d:ft,webkit3d:mt,gecko3d:gt,any3d:_t,mobile:vt,mobileWebkit:yt,mobileWebkit3d:bt,msPointer:Tt,pointer:wt,touch:St,mobileOpera:Et,mobileGecko:Ct,retina:kt,passiveEvents:xt,canvas:Mt,svg:At,vml:It},Lt=Tt?"MSPointerDown":"pointerdown",Rt=Tt?"MSPointerMove":"pointermove",Dt=Tt?"MSPointerUp":"pointerup",Nt=Tt?"MSPointerCancel":"pointercancel",Bt={},jt=!1;function Ut(t,e,i,n){return"touchstart"===e?zt(t,i,n):"touchmove"===e?Wt(t,i,n):"touchend"===e&&$t(t,i,n),this}function Ft(t,e,i){var n=t["_leaflet_"+e+i];return"touchstart"===e?t.removeEventListener(Lt,n,!1):"touchmove"===e?t.removeEventListener(Rt,n,!1):"touchend"===e&&(t.removeEventListener(Dt,n,!1),t.removeEventListener(Nt,n,!1)),this}function zt(t,e,i){var n=r((function(t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&He(t),Gt(t,e)}));t["_leaflet_touchstart"+i]=n,t.addEventListener(Lt,n,!1),jt||(document.addEventListener(Lt,Vt,!0),document.addEventListener(Rt,Ht,!0),document.addEventListener(Dt,qt,!0),document.addEventListener(Nt,qt,!0),jt=!0)}function Vt(t){Bt[t.pointerId]=t}function Ht(t){Bt[t.pointerId]&&(Bt[t.pointerId]=t)}function qt(t){delete Bt[t.pointerId]}function Gt(t,e){for(var i in t.touches=[],Bt)t.touches.push(Bt[i]);t.changedTouches=[t],e(t)}function Wt(t,e,i){var n=function(t){t.pointerType===(t.MSPOINTER_TYPE_MOUSE||"mouse")&&0===t.buttons||Gt(t,e)};t["_leaflet_touchmove"+i]=n,t.addEventListener(Rt,n,!1)}function $t(t,e,i){var n=function(t){Gt(t,e)};t["_leaflet_touchend"+i]=n,t.addEventListener(Dt,n,!1),t.addEventListener(Nt,n,!1)}var Kt=Tt?"MSPointerDown":wt?"pointerdown":"touchstart",Zt=Tt?"MSPointerUp":wt?"pointerup":"touchend",Xt="_leaflet_";function Yt(t,e,i){var n,r,s=!1,a=250;function o(t){if(wt){if(!t.isPrimary)return;if("mouse"===t.pointerType)return}else if(t.touches.length>1)return;var e=Date.now(),i=e-(n||e);r=t.touches?t.touches[0]:t,s=i>0&&i<=a,n=e}function l(t){if(s&&!r.cancelBubble){if(wt){if("mouse"===t.pointerType)return;var i,a,o={};for(a in r)i=r[a],o[a]=i&&i.bind?i.bind(r):i;r=o}r.type="dblclick",r.button=0,e(r),n=null}}return t[Xt+Kt+i]=o,t[Xt+Zt+i]=l,t[Xt+"dblclick"+i]=e,t.addEventListener(Kt,o,!!xt&&{passive:!1}),t.addEventListener(Zt,l,!!xt&&{passive:!1}),t.addEventListener("dblclick",e,!1),this}function Qt(t,e){var i=t[Xt+Kt+e],n=t[Xt+Zt+e],r=t[Xt+"dblclick"+e];return t.removeEventListener(Kt,i,!!xt&&{passive:!1}),t.removeEventListener(Zt,n,!!xt&&{passive:!1}),t.removeEventListener("dblclick",r,!1),this}var Jt,te,ee,ie,ne,re=Te(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),se=Te(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ae="webkitTransition"===se||"OTransition"===se?se+"End":"transitionend";function oe(t){return"string"===typeof t?document.getElementById(t):t}function le(t,e){var i=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!i||"auto"===i)&&document.defaultView){var n=document.defaultView.getComputedStyle(t,null);i=n?n[e]:null}return"auto"===i?null:i}function ue(t,e,i){var n=document.createElement(t);return n.className=e||"",i&&i.appendChild(n),n}function he(t){var e=t.parentNode;e&&e.removeChild(t)}function ce(t){while(t.firstChild)t.removeChild(t.firstChild)}function de(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function pe(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function fe(t,e){if(void 0!==t.classList)return t.classList.contains(e);var i=ve(t);return i.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(i)}function me(t,e){if(void 0!==t.classList)for(var i=d(e),n=0,r=i.length;n<r;n++)t.classList.add(i[n]);else if(!fe(t,e)){var s=ve(t);_e(t,(s?s+" ":"")+e)}}function ge(t,e){void 0!==t.classList?t.classList.remove(e):_e(t,c((" "+ve(t)+" ").replace(" "+e+" "," ")))}function _e(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function ve(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function ye(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&be(t,e)}function be(t,e){var i=!1,n="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(n)}catch(r){if(1===e)return}e=Math.round(100*e),i?(i.Enabled=100!==e,i.Opacity=e):t.style.filter+=" progid:"+n+"(opacity="+e+")"}function Te(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1}function we(t,e,i){var n=e||new P(0,0);t.style[re]=(ft?"translate("+n.x+"px,"+n.y+"px)":"translate3d("+n.x+"px,"+n.y+"px,0)")+(i?" scale("+i+")":"")}function Se(t,e){t._leaflet_pos=e,_t?we(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function Ee(t){return t._leaflet_pos||new P(0,0)}if("onselectstart"in document)Jt=function(){Le(window,"selectstart",He)},te=function(){De(window,"selectstart",He)};else{var Ce=Te(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Jt=function(){if(Ce){var t=document.documentElement.style;ee=t[Ce],t[Ce]="none"}},te=function(){Ce&&(document.documentElement.style[Ce]=ee,ee=void 0)}}function ke(){Le(window,"dragstart",He)}function xe(){De(window,"dragstart",He)}function Me(t){while(-1===t.tabIndex)t=t.parentNode;t.style&&(Ae(),ie=t,ne=t.style.outline,t.style.outline="none",Le(window,"keydown",Ae))}function Ae(){ie&&(ie.style.outline=ne,ie=void 0,ne=void 0,De(window,"keydown",Ae))}function Ie(t){do{t=t.parentNode}while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Oe(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Pe={TRANSFORM:re,TRANSITION:se,TRANSITION_END:ae,get:oe,getStyle:le,create:ue,remove:he,empty:ce,toFront:de,toBack:pe,hasClass:fe,addClass:me,removeClass:ge,setClass:_e,getClass:ve,setOpacity:ye,testProp:Te,setTransform:we,setPosition:Se,getPosition:Ee,disableTextSelection:Jt,enableTextSelection:te,disableImageDrag:ke,enableImageDrag:xe,preventOutline:Me,restoreOutline:Ae,getSizedParentNode:Ie,getScale:Oe};function Le(t,e,i,n){if("object"===typeof e)for(var r in e)je(t,r,e[r],i);else{e=d(e);for(var s=0,a=e.length;s<a;s++)je(t,e[s],i,n)}return this}var Re="_leaflet_events";function De(t,e,i,n){if("object"===typeof e)for(var r in e)Ue(t,r,e[r],i);else if(e){e=d(e);for(var s=0,a=e.length;s<a;s++)Ue(t,e[s],i,n)}else{for(var o in t[Re])Ue(t,o,t[Re][o]);delete t[Re]}return this}function Ne(){if(wt)return!(et||ht)}var Be={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function je(t,e,i,n){var r=e+a(i)+(n?"_"+a(n):"");if(t[Re]&&t[Re][r])return this;var s=function(e){return i.call(n||t,e||window.event)},o=s;wt&&0===e.indexOf("touch")?Ut(t,e,s,r):St&&"dblclick"===e&&!Ne()?Yt(t,s,r):"addEventListener"in t?"touchstart"===e||"touchmove"===e||"wheel"===e||"mousewheel"===e?t.addEventListener(Be[e]||e,s,!!xt&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?(s=function(e){e=e||window.event,Ye(t,e)&&o(e)},t.addEventListener(Be[e],s,!1)):t.addEventListener(e,o,!1):"attachEvent"in t&&t.attachEvent("on"+e,s),t[Re]=t[Re]||{},t[Re][r]=s}function Ue(t,e,i,n){var r=e+a(i)+(n?"_"+a(n):""),s=t[Re]&&t[Re][r];if(!s)return this;wt&&0===e.indexOf("touch")?Ft(t,e,r):St&&"dblclick"===e&&!Ne()?Qt(t,r):"removeEventListener"in t?t.removeEventListener(Be[e]||e,s,!1):"detachEvent"in t&&t.detachEvent("on"+e,s),t[Re][r]=null}function Fe(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,Xe(t),this}function ze(t){return je(t,"wheel",Fe),this}function Ve(t){return Le(t,"mousedown touchstart dblclick",Fe),je(t,"click",Ze),this}function He(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function qe(t){return He(t),Fe(t),this}function Ge(t,e){if(!e)return new P(t.clientX,t.clientY);var i=Oe(e),n=i.boundingClientRect;return new P((t.clientX-n.left)/i.x-e.clientLeft,(t.clientY-n.top)/i.y-e.clientTop)}var We=pt&&lt?2*window.devicePixelRatio:ut?window.devicePixelRatio:1;function $e(t){return et?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/We:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}var Ke={};function Ze(t){Ke[t.type]=!0}function Xe(t){var e=Ke[t.type];return Ke[t.type]=!1,e}function Ye(t,e){var i=e.relatedTarget;if(!i)return!0;try{while(i&&i!==t)i=i.parentNode}catch(n){return!1}return i!==t}var Qe={on:Le,off:De,stopPropagation:Fe,disableScrollPropagation:ze,disableClickPropagation:Ve,preventDefault:He,stop:qe,getMousePosition:Ge,getWheelDelta:$e,fakeStop:Ze,skipped:Xe,isExternalTarget:Ye,addListener:Le,removeListener:De},Je=O.extend({run:function(t,e,i,n){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=Ee(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=C(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,i=1e3*this._duration;e<i?this._runFrame(this._easeOut(e/i),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var i=this._startPos.add(this._offset.multiplyBy(t));e&&i._round(),Se(this._el,i),this.fire("step")},_complete:function(){k(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),ti=O.extend({options:{crs:K,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=p(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=r(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(z(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=se&&_t&&!Et&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Le(this._proxy,ae,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,n){if(e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(z(t),e,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&!0!==n){void 0!==n.animate&&(n.zoom=i({animate:n.animate},n.zoom),n.pan=i({animate:n.animate,duration:n.duration},n.pan));var r=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan);if(r)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(_t?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(_t?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,i){var n=this.getZoomScale(e),r=this.getSize().divideBy(2),s=t instanceof P?t:this.latLngToContainerPoint(t),a=s.subtract(r).multiplyBy(1-1/n),o=this.containerPointToLatLng(r.add(a));return this.setView(o,e,{zoom:i})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():U(t);var i=D(e.paddingTopLeft||e.padding||[0,0]),n=D(e.paddingBottomRight||e.padding||[0,0]),r=this.getBoundsZoom(t,!1,i.add(n));if(r="number"===typeof e.maxZoom?Math.min(e.maxZoom,r):r,r===1/0)return{center:t.getCenter(),zoom:r};var s=n.subtract(i).divideBy(2),a=this.project(t.getSouthWest(),r),o=this.project(t.getNorthEast(),r),l=this.unproject(a.add(o).divideBy(2).add(s),r);return{center:l,zoom:r}},fitBounds:function(t,e){if(t=U(t),!t.isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(t,e);return this.setView(i.center,i.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=D(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Je,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){me(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,i){if(i=i||{},!1===i.animate||!_t)return this.setView(t,e,i);this._stop();var n=this.project(this.getCenter()),r=this.project(t),s=this.getSize(),a=this._zoom;t=z(t),e=void 0===e?a:e;var o=Math.max(s.x,s.y),l=o*this.getZoomScale(a,e),u=r.distanceTo(n)||1,h=1.42,c=h*h;function d(t){var e=t?-1:1,i=t?l:o,n=l*l-o*o+e*c*c*u*u,r=2*i*c*u,s=n/r,a=Math.sqrt(s*s+1)-s,h=a<1e-9?-18:Math.log(a);return h}function p(t){return(Math.exp(t)-Math.exp(-t))/2}function f(t){return(Math.exp(t)+Math.exp(-t))/2}function m(t){return p(t)/f(t)}var g=d(0);function _(t){return o*(f(g)/f(g+h*t))}function v(t){return o*(f(g)*m(g+h*t)-p(g))/c}function y(t){return 1-Math.pow(1-t,1.5)}var b=Date.now(),T=(d(1)-g)/h,w=i.duration?1e3*i.duration:1e3*T*.8;function S(){var i=(Date.now()-b)/w,s=y(i)*T;i<=1?(this._flyToFrame=C(S,this),this._move(this.unproject(n.add(r.subtract(n).multiplyBy(v(s)/u)),a),this.getScaleZoom(o/_(s),a),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,i.noMoveStart),S.call(this),this},flyToBounds:function(t,e){var i=this._getBoundsCenterZoom(t,e);return this.flyTo(i.center,i.zoom,e)},setMaxBounds:function(t){return t=U(t),t.isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var i=this.getCenter(),n=this._limitCenter(i,this._zoom,U(t));return i.equals(n)||this.panTo(n,e),this._enforcingBounds=!1,this},panInside:function(t,e){e=e||{};var i=D(e.paddingTopLeft||e.padding||[0,0]),n=D(e.paddingBottomRight||e.padding||[0,0]),r=this.getCenter(),s=this.project(r),a=this.project(t),o=this.getPixelBounds(),l=o.getSize().divideBy(2),u=B([o.min.add(i),o.max.subtract(n)]);if(!u.contains(a)){this._enforcingBounds=!0;var h=s.subtract(a),c=D(a.x+h.x,a.y+h.y);(a.x<u.min.x||a.x>u.max.x)&&(c.x=s.x-h.x,h.x>0?c.x+=l.x-i.x:c.x-=l.x-n.x),(a.y<u.min.y||a.y>u.max.y)&&(c.y=s.y-h.y,h.y>0?c.y+=l.y-i.y:c.y-=l.y-n.y),this.panTo(this.unproject(c),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=i({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var n=this.getSize(),s=e.divideBy(2).round(),a=n.divideBy(2).round(),o=s.subtract(a);return o.x||o.y?(t.animate&&t.pan?this.panBy(o):(t.pan&&this._rawPanBy(o),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:n})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=i({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=r(this._handleGeolocationResponse,this),n=r(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,i=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+i+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,i=t.coords.longitude,n=new F(e,i),r=n.toBounds(2*t.coords.accuracy),s=this._locateOptions;if(s.setView){var a=this.getBoundsZoom(r);this.setView(n,s.maxZoom?Math.min(a,s.maxZoom):a)}var o={latlng:n,bounds:r,timestamp:t.timestamp};for(var l in t.coords)"number"===typeof t.coords[l]&&(o[l]=t.coords[l]);this.fire("locationfound",o)},addHandler:function(t,e){if(!e)return this;var i=this[t]=new e(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},remove:function(){if(this._initEvents(!0),this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),he(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(k(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)he(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var i="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),n=ue("div",i,e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),i=this.unproject(t.getTopRight());return new j(e,i)},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,i){t=U(t),i=D(i||[0,0]);var n=this.getZoom()||0,r=this.getMinZoom(),s=this.getMaxZoom(),a=t.getNorthWest(),o=t.getSouthEast(),l=this.getSize().subtract(i),u=B(this.project(o,n),this.project(a,n)).getSize(),h=_t?this.options.zoomSnap:1,c=l.x/u.x,d=l.y/u.y,p=e?Math.max(c,d):Math.min(c,d);return n=this.getScaleZoom(p,n),h&&(n=Math.round(n/(h/100))*(h/100),n=e?Math.ceil(n/h)*h:Math.floor(n/h)*h),Math.max(r,Math.min(s,n))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new P(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var i=this._getTopLeftPoint(t,e);return new N(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"===typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var i=this.options.crs;return e=void 0===e?this._zoom:e,i.scale(t)/i.scale(e)},getScaleZoom:function(t,e){var i=this.options.crs;e=void 0===e?this._zoom:e;var n=i.zoom(t*i.scale(e));return isNaN(n)?1/0:n},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(z(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(D(t),e)},layerPointToLatLng:function(t){var e=D(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(z(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(z(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(U(t))},distance:function(t,e){return this.options.crs.distance(z(t),z(e))},containerPointToLayerPoint:function(t){return D(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return D(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(D(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(z(t)))},mouseEventToContainerPoint:function(t){return Ge(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=oe(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Le(e,"scroll",this._onScroll,this),this._containerId=a(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&_t,me(t,"leaflet-container"+(St?" leaflet-touch":"")+(kt?" leaflet-retina":"")+(tt?" leaflet-oldie":"")+(ht?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=le(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Se(this._mapPane,new P(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(me(t.markerPane,"leaflet-zoom-hide"),me(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){Se(this._mapPane,new P(0,0));var i=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var n=this._zoom!==e;this._moveStart(n,!1)._move(t,e)._moveEnd(n),this.fire("viewreset"),i&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,i){void 0===e&&(e=this._zoom);var n=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(n||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return k(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Se(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[a(this._container)]=this;var e=t?De:Le;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),_t&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){k(this._resizeRequest),this._resizeRequest=C((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){var i,n=[],r="mouseout"===e||"mouseover"===e,s=t.target||t.srcElement,o=!1;while(s){if(i=this._targets[a(s)],i&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(i)){o=!0;break}if(i&&i.listens(e,!0)){if(r&&!Ye(s,t))break;if(n.push(i),r)break}if(s===this._container)break;s=s.parentNode}return n.length||o||r||!Ye(s,t)||(n=[this]),n},_handleDOMEvent:function(t){if(this._loaded&&!Xe(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e&&"keyup"!==e&&"keydown"!==e||Me(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,n){if("click"===t.type){var r=i({},t);r.type="preclick",this._fireDOMEvent(r,r.type,n)}if(!t._stopped&&(n=(n||[]).concat(this._findEventTargets(t,e)),n.length)){var s=n[0];"contextmenu"===e&&s.listens(e,!0)&&He(t);var a={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var o=s.getLatLng&&(!s._radius||s._radius<=10);a.containerPoint=o?this.latLngToContainerPoint(s.getLatLng()):this.mouseEventToContainerPoint(t),a.layerPoint=this.containerPointToLayerPoint(a.containerPoint),a.latlng=o?s.getLatLng():this.layerPointToLatLng(a.layerPoint)}for(var l=0;l<n.length;l++)if(n[l].fire(e,a,!0),a.originalEvent._stopped||!1===n[l].options.bubblingMouseEvents&&-1!==v(this._mouseEvents,e))return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return Ee(this._mapPane)||new P(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var i=t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return i.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,i){var n=this._getNewPixelOrigin(i,e);return this.project(t,e)._subtract(n)},_latLngBoundsToNewLayerBounds:function(t,e,i){var n=this._getNewPixelOrigin(i,e);return B([this.project(t.getSouthWest(),e)._subtract(n),this.project(t.getNorthWest(),e)._subtract(n),this.project(t.getSouthEast(),e)._subtract(n),this.project(t.getNorthEast(),e)._subtract(n)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,i){if(!i)return t;var n=this.project(t,e),r=this.getSize().divideBy(2),s=new N(n.subtract(r),n.add(r)),a=this._getBoundsOffset(s,i,e);return a.round().equals([0,0])?t:this.unproject(n.add(a),e)},_limitOffset:function(t,e){if(!e)return t;var i=this.getPixelBounds(),n=new N(i.min.add(t),i.max.add(t));return t.add(this._getBoundsOffset(n,e))},_getBoundsOffset:function(t,e,i){var n=B(this.project(e.getNorthEast(),i),this.project(e.getSouthWest(),i)),r=n.min.subtract(t.min),s=n.max.subtract(t.max),a=this._rebound(r.x,-s.x),o=this._rebound(r.y,-s.y);return new P(a,o)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom(),n=_t?this.options.zoomSnap:1;return n&&(t=Math.round(t/n)*n),Math.max(e,Math.min(i,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ge(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var i=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(i))&&(this.panBy(i,e),!0)},_createAnimProxy:function(){var t=this._proxy=ue("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",(function(t){var e=re,i=this._proxy.style[e];we(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),i===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){he(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();we(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||!1===i.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(e),r=this._getCenterOffset(t)._divideBy(1-1/n);return!(!0!==i.animate&&!this.getSize().contains(r))&&(C((function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)}),this),!0)},_animateZoom:function(t,e,i,n){this._mapPane&&(i&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,me(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:n}),setTimeout(r(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ge(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),C((function(){this._moveEnd(!0)}),this))}});function ei(t,e){return new ti(t,e)}var ii=M.extend({options:{position:"topright"},initialize:function(t){p(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),n=t._controlCorners[i];return me(e,"leaflet-control"),-1!==i.indexOf("bottom")?n.insertBefore(e,n.firstChild):n.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(he(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),ni=function(t){return new ii(t)};ti.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",i=this._controlContainer=ue("div",e+"control-container",this._container);function n(n,r){var s=e+n+" "+e+r;t[n+r]=ue("div",s,i)}n("top","left"),n("top","right"),n("bottom","left"),n("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)he(this._controlCorners[t]);he(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ri=ii.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,i,n){return i<n?-1:n<i?1:0}},initialize:function(t,e,i){for(var n in p(this,i),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[n],n);for(n in e)this._addLayer(e[n],n,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return ii.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(a(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){me(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(me(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):ge(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ge(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=ue("div",t),i=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Ve(e),ze(e);var n=this._section=ue("section",t+"-list");i&&(this._map.on("click",this.collapse,this),nt||Le(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var r=this._layersLink=ue("a",t+"-toggle",e);r.href="#",r.title="Layers",St?(Le(r,"click",qe),Le(r,"click",this.expand,this)):Le(r,"focus",this.expand,this),i||this.expand(),this._baseLayersList=ue("div",t+"-base",n),this._separator=ue("div",t+"-separator",n),this._overlaysList=ue("div",t+"-overlays",n),e.appendChild(n)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&a(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,i){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:i}),this.options.sortLayers&&this._layers.sort(r((function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)}),this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ce(this._baseLayersList),ce(this._overlaysList),this._layerControlInputs=[];var t,e,i,n,r=0;for(i=0;i<this._layers.length;i++)n=this._layers[i],this._addItem(n),e=e||n.overlay,t=t||!n.overlay,r+=n.overlay?0:1;return this.options.hideSingleBase&&(t=t&&r>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(a(t.target)),i=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;i&&this._map.fire(i,e)},_createRadioElement:function(t,e){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",n=document.createElement("div");return n.innerHTML=i,n.firstChild},_addItem:function(t){var e,i=document.createElement("label"),n=this._map.hasLayer(t.layer);t.overlay?(e=document.createElement("input"),e.type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=n):e=this._createRadioElement("leaflet-base-layers_"+a(this),n),this._layerControlInputs.push(e),e.layerId=a(t.layer),Le(e,"click",this._onInputClick,this);var r=document.createElement("span");r.innerHTML=" "+t.name;var s=document.createElement("div");i.appendChild(s),s.appendChild(e),s.appendChild(r);var o=t.overlay?this._overlaysList:this._baseLayersList;return o.appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){var t,e,i=this._layerControlInputs,n=[],r=[];this._handlingClick=!0;for(var s=i.length-1;s>=0;s--)t=i[s],e=this._getLayer(t.layerId).layer,t.checked?n.push(e):t.checked||r.push(e);for(s=0;s<r.length;s++)this._map.hasLayer(r[s])&&this._map.removeLayer(r[s]);for(s=0;s<n.length;s++)this._map.hasLayer(n[s])||this._map.addLayer(n[s]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,i=this._layerControlInputs,n=this._map.getZoom(),r=i.length-1;r>=0;r--)t=i[r],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&n<e.options.minZoom||void 0!==e.options.maxZoom&&n>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),si=function(t,e,i){return new ri(t,e,i)},ai=ii.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=ue("div",e+" leaflet-bar"),n=this.options;return this._zoomInButton=this._createButton(n.zoomInText,n.zoomInTitle,e+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(n.zoomOutText,n.zoomOutTitle,e+"-out",i,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,i,n,r){var s=ue("a",i,n);return s.innerHTML=t,s.href="#",s.title=e,s.setAttribute("role","button"),s.setAttribute("aria-label",e),Ve(s),Le(s,"click",qe),Le(s,"click",r,this),Le(s,"click",this._refocusOnMap,this),s},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";ge(this._zoomInButton,e),ge(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&me(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&me(this._zoomInButton,e)}});ti.mergeOptions({zoomControl:!0}),ti.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new ai,this.addControl(this.zoomControl))}));var oi=function(t){return new ai(t)},li=ii.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",i=ue("div",e),n=this.options;return this._addScales(n,e+"-line",i),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),i},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=ue("div",e,i)),t.imperial&&(this._iScale=ue("div",e,i))},_update:function(){var t=this._map,e=t.getSize().y/2,i=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(i)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),i=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,i,e/t)},_updateImperial:function(t){var e,i,n,r=3.2808399*t;r>5280?(e=r/5280,i=this._getRoundNum(e),this._updateScale(this._iScale,i+" mi",i/e)):(n=this._getRoundNum(r),this._updateScale(this._iScale,n+" ft",n/r))},_updateScale:function(t,e,i){t.style.width=Math.round(this.options.maxWidth*i)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),i=t/e;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1,e*i}}),ui=function(t){return new li(t)},hi=ii.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){p(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=ue("div","leaflet-control-attribution"),Ve(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(" | ")}}});ti.mergeOptions({attributionControl:!0}),ti.addInitHook((function(){this.options.attributionControl&&(new hi).addTo(this)}));var ci=function(t){return new hi(t)};ii.Layers=ri,ii.Zoom=ai,ii.Scale=li,ii.Attribution=hi,ni.layers=si,ni.zoom=oi,ni.scale=ui,ni.attribution=ci;var di=M.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});di.addTo=function(t,e){return t.addHandler(e,this),this};var pi,fi={Events:I},mi=St?"touchstart mousedown":"mousedown",gi={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},_i={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},vi=O.extend({options:{clickTolerance:3},initialize:function(t,e,i,n){p(this,n),this._element=t,this._dragStartTarget=e||t,this._preventOutline=i},enable:function(){this._enabled||(Le(this._dragStartTarget,mi,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(vi._dragging===this&&this.finishDrag(),De(this._dragStartTarget,mi,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!fe(this._element,"leaflet-zoom-anim")&&!(vi._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches)&&(vi._dragging=this,this._preventOutline&&Me(this._element),ke(),Jt(),!this._moving))){this.fire("down");var e=t.touches?t.touches[0]:t,i=Ie(this._element);this._startPoint=new P(e.clientX,e.clientY),this._parentScale=Oe(i),Le(document,_i[t.type],this._onMove,this),Le(document,gi[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,i=new P(e.clientX,e.clientY)._subtract(this._startPoint);(i.x||i.y)&&(Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(i.x/=this._parentScale.x,i.y/=this._parentScale.y,He(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=Ee(this._element).subtract(i),me(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),me(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,k(this._animRequest),this._lastEvent=t,this._animRequest=C(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Se(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in ge(document.body,"leaflet-dragging"),this._lastTarget&&(ge(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),_i)De(document,_i[t],this._onMove,this),De(document,gi[t],this._onUp,this);xe(),te(),this._moved&&this._moving&&(k(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,vi._dragging=!1}});function yi(t,e){if(!e||!t.length)return t.slice();var i=e*e;return t=Ei(t,i),t=wi(t,i),t}function bi(t,e,i){return Math.sqrt(Ai(t,e,i,!0))}function Ti(t,e,i){return Ai(t,e,i)}function wi(t,e){var i=t.length,n=typeof Uint8Array!==void 0+""?Uint8Array:Array,r=new n(i);r[0]=r[i-1]=1,Si(t,r,e,0,i-1);var s,a=[];for(s=0;s<i;s++)r[s]&&a.push(t[s]);return a}function Si(t,e,i,n,r){var s,a,o,l=0;for(a=n+1;a<=r-1;a++)o=Ai(t[a],t[n],t[r],!0),o>l&&(s=a,l=o);l>i&&(e[s]=1,Si(t,e,i,n,s),Si(t,e,i,s,r))}function Ei(t,e){for(var i=[t[0]],n=1,r=0,s=t.length;n<s;n++)Mi(t[n],t[r])>e&&(i.push(t[n]),r=n);return r<s-1&&i.push(t[s-1]),i}function Ci(t,e,i,n,r){var s,a,o,l=n?pi:xi(t,i),u=xi(e,i);pi=u;while(1){if(!(l|u))return[t,e];if(l&u)return!1;s=l||u,a=ki(t,e,s,i,r),o=xi(a,i),s===l?(t=a,l=o):(e=a,u=o)}}function ki(t,e,i,n,r){var s,a,o=e.x-t.x,l=e.y-t.y,u=n.min,h=n.max;return 8&i?(s=t.x+o*(h.y-t.y)/l,a=h.y):4&i?(s=t.x+o*(u.y-t.y)/l,a=u.y):2&i?(s=h.x,a=t.y+l*(h.x-t.x)/o):1&i&&(s=u.x,a=t.y+l*(u.x-t.x)/o),new P(s,a,r)}function xi(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i}function Mi(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n}function Ai(t,e,i,n){var r,s=e.x,a=e.y,o=i.x-s,l=i.y-a,u=o*o+l*l;return u>0&&(r=((t.x-s)*o+(t.y-a)*l)/u,r>1?(s=i.x,a=i.y):r>0&&(s+=o*r,a+=l*r)),o=t.x-s,l=t.y-a,n?o*o+l*l:new P(s,a)}function Ii(t){return!_(t[0])||"object"!==typeof t[0][0]&&"undefined"!==typeof t[0][0]}function Oi(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ii(t)}var Pi={simplify:yi,pointToSegmentDistance:bi,closestPointOnSegment:Ti,clipSegment:Ci,_getEdgeIntersection:ki,_getBitCode:xi,_sqClosestPointOnSegment:Ai,isFlat:Ii,_flat:Oi};function Li(t,e,i){var n,r,s,a,o,l,u,h,c,d=[1,4,2,8];for(r=0,u=t.length;r<u;r++)t[r]._code=xi(t[r],e);for(a=0;a<4;a++){for(h=d[a],n=[],r=0,u=t.length,s=u-1;r<u;s=r++)o=t[r],l=t[s],o._code&h?l._code&h||(c=ki(l,o,h,e,i),c._code=xi(c,e),n.push(c)):(l._code&h&&(c=ki(l,o,h,e,i),c._code=xi(c,e),n.push(c)),n.push(o));t=n}return t}var Ri={clipPolygon:Li},Di={project:function(t){return new P(t.lng,t.lat)},unproject:function(t){return new F(t.y,t.x)},bounds:new N([-180,-90],[180,90])},Ni={R:6378137,R_MINOR:6356752.314245179,bounds:new N([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,i=this.R,n=t.lat*e,r=this.R_MINOR/i,s=Math.sqrt(1-r*r),a=s*Math.sin(n),o=Math.tan(Math.PI/4-n/2)/Math.pow((1-a)/(1+a),s/2);return n=-i*Math.log(Math.max(o,1e-10)),new P(t.lng*e*i,n)},unproject:function(t){for(var e,i=180/Math.PI,n=this.R,r=this.R_MINOR/n,s=Math.sqrt(1-r*r),a=Math.exp(-t.y/n),o=Math.PI/2-2*Math.atan(a),l=0,u=.1;l<15&&Math.abs(u)>1e-7;l++)e=s*Math.sin(o),e=Math.pow((1-e)/(1+e),s/2),u=Math.PI/2-2*Math.atan(a*e)-o,o+=u;return new F(o*i,t.x*i/n)}},Bi={LonLat:Di,Mercator:Ni,SphericalMercator:G},ji=i({},H,{code:"EPSG:3395",projection:Ni,transformation:function(){var t=.5/(Math.PI*Ni.R);return $(t,.5,-t,.5)}()}),Ui=i({},H,{code:"EPSG:4326",projection:Di,transformation:$(1/180,1,-1/180,.5)}),Fi=i({},V,{projection:Di,transformation:$(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var i=e.lng-t.lng,n=e.lat-t.lat;return Math.sqrt(i*i+n*n)},infinite:!0});V.Earth=H,V.EPSG3395=ji,V.EPSG3857=K,V.EPSG900913=Z,V.EPSG4326=Ui,V.Simple=Fi;var zi=O.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[a(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[a(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var i=this.getEvents();e.on(i,this),this.once("remove",(function(){e.off(i,this)}),this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});ti.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=a(t);return this._layers[e]||(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=a(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&a(t)in this._layers},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},_addLayers:function(t){t=t?_(t)?t:[t]:[];for(var e=0,i=t.length;e<i;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[a(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=a(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,i=this._getZoomSpan();for(var n in this._zoomBoundLayers){var r=this._zoomBoundLayers[n].options;t=void 0===r.minZoom?t:Math.min(t,r.minZoom),e=void 0===r.maxZoom?e:Math.max(e,r.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,i!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Vi=zi.extend({initialize:function(t,e){var i,n;if(p(this,e),this._layers={},t)for(i=0,n=t.length;i<n;i++)this.addLayer(t[i])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){if(!t)return!1;var e="number"===typeof t?t:this.getLayerId(t);return e in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,i,n=Array.prototype.slice.call(arguments,1);for(e in this._layers)i=this._layers[e],i[t]&&i[t].apply(i,n);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return a(t)}}),Hi=function(t,e){return new Vi(t,e)},qi=Vi.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Vi.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Vi.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new j;for(var e in this._layers){var i=this._layers[e];t.extend(i.getBounds?i.getBounds():i.getLatLng())}return t}}),Gi=function(t,e){return new qi(t,e)},Wi=M.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){p(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var n=this._createImg(i,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(n,t),n},_setIconStyles:function(t,e){var i=this.options,n=i[e+"Size"];"number"===typeof n&&(n=[n,n]);var r=D(n),s=D("shadow"===e&&i.shadowAnchor||i.iconAnchor||r&&r.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(i.className||""),s&&(t.style.marginLeft=-s.x+"px",t.style.marginTop=-s.y+"px"),r&&(t.style.width=r.x+"px",t.style.height=r.y+"px")},_createImg:function(t,e){return e=e||document.createElement("img"),e.src=t,e},_getIconUrl:function(t){return kt&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function $i(t){return new Wi(t)}var Ki=Wi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return Ki.imagePath||(Ki.imagePath=this._detectIconPath()),(this.options.imagePath||Ki.imagePath)+Wi.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=ue("div","leaflet-default-icon-path",document.body),e=le(t,"background-image")||le(t,"backgroundImage");return document.body.removeChild(t),e=null===e||0!==e.indexOf("url")?"":e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,""),e}}),Zi=di.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new vi(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),me(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ge(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,i=e._map,n=this._marker.options.autoPanSpeed,r=this._marker.options.autoPanPadding,s=Ee(e._icon),a=i.getPixelBounds(),o=i.getPixelOrigin(),l=B(a.min._subtract(o).add(r),a.max._subtract(o).subtract(r));if(!l.contains(s)){var u=D((Math.max(l.max.x,s.x)-l.max.x)/(a.max.x-l.max.x)-(Math.min(l.min.x,s.x)-l.min.x)/(a.min.x-l.min.x),(Math.max(l.max.y,s.y)-l.max.y)/(a.max.y-l.max.y)-(Math.min(l.min.y,s.y)-l.min.y)/(a.min.y-l.min.y)).multiplyBy(n);i.panBy(u,{animate:!1}),this._draggable._newPos._add(u),this._draggable._startPos._add(u),Se(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=C(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(k(this._panRequest),this._panRequest=C(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,i=e._shadow,n=Ee(e._icon),r=e._map.layerPointToLatLng(n);i&&Se(i,n),e._latlng=r,t.latlng=r,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){k(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Xi=zi.extend({options:{icon:new Ki,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){p(this,e),this._latlng=z(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=z(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=t.icon.createIcon(this._icon),n=!1;i!==this._icon&&(this._icon&&this._removeIcon(),n=!0,t.title&&(i.title=t.title),"IMG"===i.tagName&&(i.alt=t.alt||"")),me(i,e),t.keyboard&&(i.tabIndex="0"),this._icon=i,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var r=t.icon.createShadow(this._shadow),s=!1;r!==this._shadow&&(this._removeShadow(),s=!0),r&&(me(r,e),r.alt=""),this._shadow=r,t.opacity<1&&this._updateOpacity(),n&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&s&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),he(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&he(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Se(this._icon,t),this._shadow&&Se(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(me(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Zi)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Zi(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&ye(this._icon,t),this._shadow&&ye(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Yi(t,e){return new Xi(t,e)}var Qi=zi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return p(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),Ji=Qi.extend({options:{fill:!0,radius:10},initialize:function(t,e){p(this,e),this._latlng=z(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=z(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return Qi.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,i=this._clickTolerance(),n=[t+i,e+i];this._pxBounds=new N(this._point.subtract(n),this._point.add(n))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function tn(t,e){return new Ji(t,e)}var en=Ji.extend({initialize:function(t,e,n){if("number"===typeof e&&(e=i({},n,{radius:e})),p(this,e),this._latlng=z(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new j(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Qi.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,i=this._map,n=i.options.crs;if(n.distance===H.distance){var r=Math.PI/180,s=this._mRadius/H.R/r,a=i.project([e+s,t]),o=i.project([e-s,t]),l=a.add(o).divideBy(2),u=i.unproject(l).lat,h=Math.acos((Math.cos(s*r)-Math.sin(e*r)*Math.sin(u*r))/(Math.cos(e*r)*Math.cos(u*r)))/r;(isNaN(h)||0===h)&&(h=s/Math.cos(Math.PI/180*e)),this._point=l.subtract(i.getPixelOrigin()),this._radius=isNaN(h)?0:l.x-i.project([u,t-h]).x,this._radiusY=l.y-a.y}else{var c=n.unproject(n.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(c).x}this._updateBounds()}});function nn(t,e,i){return new en(t,e,i)}var rn=Qi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){p(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,i,n=1/0,r=null,s=Ai,a=0,o=this._parts.length;a<o;a++)for(var l=this._parts[a],u=1,h=l.length;u<h;u++){e=l[u-1],i=l[u];var c=s(t,e,i,!0);c<n&&(n=c,r=s(t,e,i))}return r&&(r.distance=Math.sqrt(n)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,i,n,r,s,a,o=this._rings[0],l=o.length;if(!l)return null;for(t=0,e=0;t<l-1;t++)e+=o[t].distanceTo(o[t+1])/2;if(0===e)return this._map.layerPointToLatLng(o[0]);for(t=0,n=0;t<l-1;t++)if(r=o[t],s=o[t+1],i=r.distanceTo(s),n+=i,n>e)return a=(n-e)/i,this._map.layerPointToLatLng([s.x-a*(s.x-r.x),s.y-a*(s.y-r.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=z(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new j,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Ii(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],i=Ii(t),n=0,r=t.length;n<r;n++)i?(e[n]=z(t[n]),this._bounds.extend(e[n])):e[n]=this._convertLatLngs(t[n]);return e},_project:function(){var t=new N;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new P(t,t);this._pxBounds=new N([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)])},_projectLatlngs:function(t,e,i){var n,r,s=t[0]instanceof F,a=t.length;if(s){for(r=[],n=0;n<a;n++)r[n]=this._map.latLngToLayerPoint(t[n]),i.extend(r[n]);e.push(r)}else for(n=0;n<a;n++)this._projectLatlngs(t[n],e,i)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,i,n,r,s,a,o,l=this._parts;for(e=0,n=0,r=this._rings.length;e<r;e++)for(o=this._rings[e],i=0,s=o.length;i<s-1;i++)a=Ci(o[i],o[i+1],t,i,!0),a&&(l[n]=l[n]||[],l[n].push(a[0]),a[1]===o[i+1]&&i!==s-2||(l[n].push(a[1]),n++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,i=0,n=t.length;i<n;i++)t[i]=yi(t[i],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var i,n,r,s,a,o,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,s=this._parts.length;i<s;i++)for(o=this._parts[i],n=0,a=o.length,r=a-1;n<a;r=n++)if((e||0!==n)&&bi(t,o[r],o[n])<=l)return!0;return!1}});function sn(t,e){return new rn(t,e)}rn._flat=Oi;var an=rn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,i,n,r,s,a,o,l,u=this._rings[0],h=u.length;if(!h)return null;for(s=a=o=0,t=0,e=h-1;t<h;e=t++)i=u[t],n=u[e],r=i.y*n.x-n.y*i.x,a+=(i.x+n.x)*r,o+=(i.y+n.y)*r,s+=3*r;return l=0===s?u[0]:[a/s,o/s],this._map.layerPointToLatLng(l)},_convertLatLngs:function(t){var e=rn.prototype._convertLatLngs.call(this,t),i=e.length;return i>=2&&e[0]instanceof F&&e[0].equals(e[i-1])&&e.pop(),e},_setLatLngs:function(t){rn.prototype._setLatLngs.call(this,t),Ii(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ii(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,i=new P(e,e);if(t=new N(t.min.subtract(i),t.max.add(i)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var n,r=0,s=this._rings.length;r<s;r++)n=Li(this._rings[r],t,!0),n.length&&this._parts.push(n)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,i,n,r,s,a,o,l,u=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(r=0,o=this._parts.length;r<o;r++)for(e=this._parts[r],s=0,l=e.length,a=l-1;s<l;a=s++)i=e[s],n=e[a],i.y>t.y!==n.y>t.y&&t.x<(n.x-i.x)*(t.y-i.y)/(n.y-i.y)+i.x&&(u=!u);return u||rn.prototype._containsPoint.call(this,t,!0)}});function on(t,e){return new an(t,e)}var ln=qi.extend({initialize:function(t,e){p(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,i,n,r=_(t)?t:t.features;if(r){for(e=0,i=r.length;e<i;e++)n=r[e],(n.geometries||n.geometry||n.features||n.coordinates)&&this.addData(n);return this}var s=this.options;if(s.filter&&!s.filter(t))return this;var a=un(t,s);return a?(a.feature=gn(t),a.defaultOptions=a.options,this.resetStyle(a),s.onEachFeature&&s.onEachFeature(t,a),this.addLayer(a)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=i({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer((function(e){this._setLayerStyle(e,t)}),this)},_setLayerStyle:function(t,e){t.setStyle&&("function"===typeof e&&(e=e(t.feature)),t.setStyle(e))}});function un(t,e){var i,n,r,s,a="Feature"===t.type?t.geometry:t,o=a?a.coordinates:null,l=[],u=e&&e.pointToLayer,h=e&&e.coordsToLatLng||cn;if(!o&&!a)return null;switch(a.type){case"Point":return i=h(o),hn(u,t,i,e);case"MultiPoint":for(r=0,s=o.length;r<s;r++)i=h(o[r]),l.push(hn(u,t,i,e));return new qi(l);case"LineString":case"MultiLineString":return n=dn(o,"LineString"===a.type?0:1,h),new rn(n,e);case"Polygon":case"MultiPolygon":return n=dn(o,"Polygon"===a.type?1:2,h),new an(n,e);case"GeometryCollection":for(r=0,s=a.geometries.length;r<s;r++){var c=un({geometry:a.geometries[r],type:"Feature",properties:t.properties},e);c&&l.push(c)}return new qi(l);default:throw new Error("Invalid GeoJSON object.")}}function hn(t,e,i,n){return t?t(e,i):new Xi(i,n&&n.markersInheritOptions&&n)}function cn(t){return new F(t[1],t[0],t[2])}function dn(t,e,i){for(var n,r=[],s=0,a=t.length;s<a;s++)n=e?dn(t[s],e-1,i):(i||cn)(t[s]),r.push(n);return r}function pn(t,e){return e="number"===typeof e?e:6,void 0!==t.alt?[h(t.lng,e),h(t.lat,e),h(t.alt,e)]:[h(t.lng,e),h(t.lat,e)]}function fn(t,e,i,n){for(var r=[],s=0,a=t.length;s<a;s++)r.push(e?fn(t[s],e-1,i,n):pn(t[s],n));return!e&&i&&r.push(r[0]),r}function mn(t,e){return t.feature?i({},t.feature,{geometry:e}):gn(e)}function gn(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var _n={toGeoJSON:function(t){return mn(this,{type:"Point",coordinates:pn(this.getLatLng(),t)})}};function vn(t,e){return new ln(t,e)}Xi.include(_n),en.include(_n),Ji.include(_n),rn.include({toGeoJSON:function(t){var e=!Ii(this._latlngs),i=fn(this._latlngs,e?1:0,!1,t);return mn(this,{type:(e?"Multi":"")+"LineString",coordinates:i})}}),an.include({toGeoJSON:function(t){var e=!Ii(this._latlngs),i=e&&!Ii(this._latlngs[0]),n=fn(this._latlngs,i?2:e?1:0,!0,t);return e||(n=[n]),mn(this,{type:(i?"Multi":"")+"Polygon",coordinates:n})}}),Vi.include({toMultiPoint:function(t){var e=[];return this.eachLayer((function(i){e.push(i.toGeoJSON(t).geometry.coordinates)})),mn(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var i="GeometryCollection"===e,n=[];return this.eachLayer((function(e){if(e.toGeoJSON){var r=e.toGeoJSON(t);if(i)n.push(r.geometry);else{var s=gn(r);"FeatureCollection"===s.type?n.push.apply(n,s.features):n.push(s)}}})),i?mn(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}});var yn=vn,bn=zi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,i){this._url=t,this._bounds=U(e),p(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(me(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){he(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&de(this._image),this},bringToBack:function(){return this._map&&pe(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=U(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:ue("img");me(e,"leaflet-image-layer"),this._zoomAnimated&&me(e,"leaflet-zoom-animated"),this.options.className&&me(e,this.options.className),e.onselectstart=u,e.onmousemove=u,e.onload=r(this.fire,this,"load"),e.onerror=r(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),i=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;we(this._image,i,e)},_reset:function(){var t=this._image,e=new N(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=e.getSize();Se(t,e.min),t.style.width=i.x+"px",t.style.height=i.y+"px"},_updateOpacity:function(){ye(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),Tn=function(t,e,i){return new bn(t,e,i)},wn=bn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:ue("video");if(me(e,"leaflet-image-layer"),this._zoomAnimated&&me(e,"leaflet-zoom-animated"),this.options.className&&me(e,this.options.className),e.onselectstart=u,e.onmousemove=u,e.onloadeddata=r(this.fire,this,"load"),t){for(var i=e.getElementsByTagName("source"),n=[],s=0;s<i.length;s++)n.push(i[s].src);this._url=i.length>0?n:[e.src]}else{_(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style["objectFit"]="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted;for(var a=0;a<this._url.length;a++){var o=ue("source");o.src=this._url[a],e.appendChild(o)}}}});function Sn(t,e,i){return new wn(t,e,i)}var En=bn.extend({_initImage:function(){var t=this._image=this._url;me(t,"leaflet-image-layer"),this._zoomAnimated&&me(t,"leaflet-zoom-animated"),this.options.className&&me(t,this.options.className),t.onselectstart=u,t.onmousemove=u}});function Cn(t,e,i){return new En(t,e,i)}var kn=zi.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){p(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&ye(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&ye(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(ye(this._container,0),this._removeTimeout=setTimeout(r(he,void 0,this._container),200)):he(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=z(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&de(this._container),this},bringToBack:function(){return this._map&&pe(this._container),this},_prepareOpen:function(t,e,i){if(e instanceof zi||(i=e,e=t),e instanceof qi)for(var n in t._layers){e=t._layers[n];break}if(!i)if(e.getCenter)i=e.getCenter();else{if(!e.getLatLng)throw new Error("Unable to get source layer LatLng.");i=e.getLatLng()}return this._source=e,this.update(),i},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof e)t.innerHTML=e;else{while(t.hasChildNodes())t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=D(this.options.offset),i=this._getAnchor();this._zoomAnimated?Se(this._container,t.add(i)):e=e.add(t).add(i);var n=this._containerBottom=-e.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=n+"px",this._container.style.left=r+"px"}},_getAnchor:function(){return[0,0]}}),xn=kn.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){kn.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Qi||this._source.on("preclick",Fe))},onRemove:function(t){kn.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Qi||this._source.off("preclick",Fe))},getEvents:function(){var t=kn.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=ue("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),i=this._wrapper=ue("div",t+"-content-wrapper",e);if(this._contentNode=ue("div",t+"-content",i),Ve(e),ze(this._contentNode),Le(e,"contextmenu",Fe),this._tipContainer=ue("div",t+"-tip-container",e),this._tip=ue("div",t+"-tip",this._tipContainer),this.options.closeButton){var n=this._closeButton=ue("a",t+"-close-button",e);n.href="#close",n.innerHTML="&#215;",Le(n,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var n=t.offsetHeight,r=this.options.maxHeight,s="leaflet-popup-scrolled";r&&n>r?(e.height=r+"px",me(t,s)):ge(t,s),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),i=this._getAnchor();Se(this._container,e.add(i))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var t=this._map,e=parseInt(le(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+e,n=this._containerWidth,r=new P(this._containerLeft,-i-this._containerBottom);r._add(Ee(this._container));var s=t.layerPointToContainerPoint(r),a=D(this.options.autoPanPadding),o=D(this.options.autoPanPaddingTopLeft||a),l=D(this.options.autoPanPaddingBottomRight||a),u=t.getSize(),h=0,c=0;s.x+n+l.x>u.x&&(h=s.x+n-u.x+l.x),s.x-h-o.x<0&&(h=s.x-o.x),s.y+i+l.y>u.y&&(c=s.y+i-u.y+l.y),s.y-c-o.y<0&&(c=s.y-o.y),(h||c)&&t.fire("autopanstart").panBy([h,c])}},_onCloseButtonClick:function(t){this._close(),qe(t)},_getAnchor:function(){return D(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Mn=function(t,e){return new xn(t,e)};ti.mergeOptions({closePopupOnClick:!0}),ti.include({openPopup:function(t,e,i){return t instanceof xn||(t=new xn(i).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),zi.include({bindPopup:function(t,e){return t instanceof xn?(p(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new xn(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){return this._popup&&this._map&&(e=this._popup._prepareOpen(this,t,e),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(qe(t),e instanceof Qi?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var An=kn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){kn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){kn.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=kn.prototype.getEvents.call(this);return St&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip",e=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ue("div",e)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,i,n=this._map,r=this._container,s=n.latLngToContainerPoint(n.getCenter()),a=n.layerPointToContainerPoint(t),o=this.options.direction,l=r.offsetWidth,u=r.offsetHeight,h=D(this.options.offset),c=this._getAnchor();"top"===o?(e=l/2,i=u):"bottom"===o?(e=l/2,i=0):"center"===o?(e=l/2,i=u/2):"right"===o?(e=0,i=u/2):"left"===o?(e=l,i=u/2):a.x<s.x?(o="right",e=0,i=u/2):(o="left",e=l+2*(h.x+c.x),i=u/2),t=t.subtract(D(e,i,!0)).add(h).add(c),ge(r,"leaflet-tooltip-right"),ge(r,"leaflet-tooltip-left"),ge(r,"leaflet-tooltip-top"),ge(r,"leaflet-tooltip-bottom"),me(r,"leaflet-tooltip-"+o),Se(r,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&ye(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return D(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),In=function(t,e){return new An(t,e)};ti.include({openTooltip:function(t,e,i){return t instanceof An||(t=new An(i).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),zi.include({bindTooltip:function(t,e){return t instanceof An?(p(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=new An(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),St&&(i.click=this._openTooltip)),this[e](i),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){return this._tooltip&&this._map&&(e=this._tooltip._prepareOpen(this,t,e),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(me(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(ge(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,i,n=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),i=this._map.containerPointToLayerPoint(e),n=this._map.layerPointToLatLng(i)),this._tooltip.setLatLng(n)}});var On=Wi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),i=this.options;if(i.html instanceof Element?(ce(e),e.appendChild(i.html)):e.innerHTML=!1!==i.html?i.html:"",i.bgPos){var n=D(i.bgPos);e.style.backgroundPosition=-n.x+"px "+-n.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function Pn(t){return new On(t)}Wi.Default=Ki;var Ln=zi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:vt,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){p(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),he(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(de(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(pe(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=o(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof P?t:new P(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,i=this.getPane().children,n=-t(-1/0,1/0),r=0,s=i.length;r<s;r++)e=i[r].style.zIndex,i[r]!==this._container&&e&&(n=t(n,+e));isFinite(n)&&(this.options.zIndex=n+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!tt){ye(this._container,this.options.opacity);var t=+new Date,e=!1,i=!1;for(var n in this._tiles){var r=this._tiles[n];if(r.current&&r.loaded){var s=Math.min(1,(t-r.loaded)/200);ye(r.el,s),s<1?e=!0:(r.active?i=!0:this._onOpaqueTile(r),r.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),e&&(k(this._fadeFrame),this._fadeFrame=C(this._updateOpacity,this))}},_onOpaqueTile:u,_initContainer:function(){this._container||(this._container=ue("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var i in this._levels)i=Number(i),this._levels[i].el.children.length||i===t?(this._levels[i].el.style.zIndex=e-Math.abs(t-i),this._onUpdateLevel(i)):(he(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var n=this._levels[t],r=this._map;return n||(n=this._levels[t]={},n.el=ue("div","leaflet-tile-container leaflet-zoom-animated",this._container),n.el.style.zIndex=e,n.origin=r.project(r.unproject(r.getPixelOrigin()),t).round(),n.zoom=t,this._setZoomTransform(n,r.getCenter(),r.getZoom()),u(n.el.offsetWidth),this._onCreateLevel(n)),this._level=n,n}},_onUpdateLevel:u,_onRemoveLevel:u,_onCreateLevel:u,_pruneTiles:function(){if(this._map){var t,e,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var n=e.coords;this._retainParent(n.x,n.y,n.z,n.z-5)||this._retainChildren(n.x,n.y,n.z,n.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)he(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,i,n){var r=Math.floor(t/2),s=Math.floor(e/2),a=i-1,o=new P(+r,+s);o.z=+a;var l=this._tileCoordsToKey(o),u=this._tiles[l];return u&&u.active?(u.retain=!0,!0):(u&&u.loaded&&(u.retain=!0),a>n&&this._retainParent(r,s,a,n))},_retainChildren:function(t,e,i,n){for(var r=2*t;r<2*t+2;r++)for(var s=2*e;s<2*e+2;s++){var a=new P(r,s);a.z=i+1;var o=this._tileCoordsToKey(a),l=this._tiles[o];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),i+1<n&&this._retainChildren(r,s,i+1,n))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,i,n){var r=Math.round(e);r=void 0!==this.options.maxZoom&&r>this.options.maxZoom||void 0!==this.options.minZoom&&r<this.options.minZoom?void 0:this._clampZoom(r);var s=this.options.updateWhenZooming&&r!==this._tileZoom;n&&!s||(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==r&&this._update(t),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var i in this._levels)this._setZoomTransform(this._levels[i],t,e)},_setZoomTransform:function(t,e,i){var n=this._map.getZoomScale(i,t.zoom),r=t.origin.multiplyBy(n).subtract(this._map._getNewPixelOrigin(e,i)).round();_t?we(t.el,r,n):Se(t.el,r)},_resetGrid:function(){var t=this._map,e=t.options.crs,i=this._tileSize=this.getTileSize(),n=this._tileZoom,r=this._map.getPixelWorldBounds(this._tileZoom);r&&(this._globalTileRange=this._pxBoundsToTileRange(r)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],n).x/i.x),Math.ceil(t.project([0,e.wrapLng[1]],n).x/i.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],n).y/i.x),Math.ceil(t.project([e.wrapLat[1],0],n).y/i.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,i=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),n=e.getZoomScale(i,this._tileZoom),r=e.project(t,this._tileZoom).floor(),s=e.getSize().divideBy(2*n);return new N(r.subtract(s),r.add(s))},_update:function(t){var e=this._map;if(e){var i=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var n=this._getTiledPixelBounds(t),r=this._pxBoundsToTileRange(n),s=r.getCenter(),a=[],o=this.options.keepBuffer,l=new N(r.getBottomLeft().subtract([o,-o]),r.getTopRight().add([o,-o]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var u in this._tiles){var h=this._tiles[u].coords;h.z===this._tileZoom&&l.contains(new P(h.x,h.y))||(this._tiles[u].current=!1)}if(Math.abs(i-this._tileZoom)>1)this._setView(t,i);else{for(var c=r.min.y;c<=r.max.y;c++)for(var d=r.min.x;d<=r.max.x;d++){var p=new P(d,c);if(p.z=this._tileZoom,this._isValidTile(p)){var f=this._tiles[this._tileCoordsToKey(p)];f?f.current=!0:a.push(p)}}if(a.sort((function(t,e){return t.distanceTo(s)-e.distanceTo(s)})),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(d=0;d<a.length;d++)this._addTile(a[d],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var i=this._globalTileRange;if(!e.wrapLng&&(t.x<i.min.x||t.x>i.max.x)||!e.wrapLat&&(t.y<i.min.y||t.y>i.max.y))return!1}if(!this.options.bounds)return!0;var n=this._tileCoordsToBounds(t);return U(this.options.bounds).overlaps(n)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,i=this.getTileSize(),n=t.scaleBy(i),r=n.add(i),s=e.unproject(n,t.z),a=e.unproject(r,t.z);return[s,a]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),i=new j(e[0],e[1]);return this.options.noWrap||(i=this._map.wrapLatLngBounds(i)),i},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),i=new P(+e[0],+e[1]);return i.z=+e[2],i},_removeTile:function(t){var e=this._tiles[t];e&&(he(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){me(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=u,t.onmousemove=u,tt&&this.options.opacity<1&&ye(t,this.options.opacity),nt&&!rt&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var i=this._getTilePos(t),n=this._tileCoordsToKey(t),s=this.createTile(this._wrapCoords(t),r(this._tileReady,this,t));this._initTile(s),this.createTile.length<2&&C(r(this._tileReady,this,t,null,s)),Se(s,i),this._tiles[n]={el:s,coords:t,current:!0},e.appendChild(s),this.fire("tileloadstart",{tile:s,coords:t})},_tileReady:function(t,e,i){e&&this.fire("tileerror",{error:e,tile:i,coords:t});var n=this._tileCoordsToKey(t);i=this._tiles[n],i&&(i.loaded=+new Date,this._map._fadeAnimated?(ye(i.el,0),k(this._fadeFrame),this._fadeFrame=C(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),e||(me(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),tt||!this._map._fadeAnimated?C(this._pruneTiles,this):setTimeout(r(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new P(this._wrapX?l(t.x,this._wrapX):t.x,this._wrapY?l(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new N(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Rn(t){return new Ln(t)}var Dn=Ln.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,e=p(this,e),e.detectRetina&&kt&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"===typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),nt||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var i=document.createElement("img");return Le(i,"load",r(this._tileOnLoad,this,e,i)),Le(i,"error",r(this._tileOnError,this,e,i)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),i.alt="",i.setAttribute("role","presentation"),i.src=this.getTileUrl(t),i},getTileUrl:function(t){var e={r:kt?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;this.options.tms&&(e["y"]=n),e["-y"]=n}return g(this._url,i(e,this.options))},_tileOnLoad:function(t,e){tt?setTimeout(r(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,i){var n=this.options.errorTileUrl;n&&e.getAttribute("src")!==n&&(e.src=n),t(i,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,i=this.options.zoomReverse,n=this.options.zoomOffset;return i&&(t=e-t),t+n},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=u,e.onerror=u,e.complete||(e.src=y,he(e),delete this._tiles[t]))},_removeTile:function(t){var e=this._tiles[t];if(e)return at||e.el.setAttribute("src",y),Ln.prototype._removeTile.call(this,t)},_tileReady:function(t,e,i){if(this._map&&(!i||i.getAttribute("src")!==y))return Ln.prototype._tileReady.call(this,t,e,i)}});function Nn(t,e){return new Dn(t,e)}var Bn=Dn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var n=i({},this.defaultWmsParams);for(var r in e)r in this.options||(n[r]=e[r]);e=p(this,e);var s=e.detectRetina&&kt?2:1,a=this.getTileSize();n.width=a.x*s,n.height=a.y*s,this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,Dn.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),i=this._crs,n=B(i.project(e[0]),i.project(e[1])),r=n.min,s=n.max,a=(this._wmsVersion>=1.3&&this._crs===Ui?[r.y,r.x,s.y,s.x]:[r.x,r.y,s.x,s.y]).join(","),o=Dn.prototype.getTileUrl.call(this,t);return o+f(this.wmsParams,o,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(t,e){return i(this.wmsParams,t),e||this.redraw(),this}});function jn(t,e){return new Bn(t,e)}Dn.WMS=Bn,Nn.wms=jn;var Un=zi.extend({options:{padding:.1,tolerance:0},initialize:function(t){p(this,t),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&me(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var i=this._map.getZoomScale(e,this._zoom),n=Ee(this._container),r=this._map.getSize().multiplyBy(.5+this.options.padding),s=this._map.project(this._center,e),a=this._map.project(t,e),o=a.subtract(s),l=r.multiplyBy(-i).add(n).add(r).subtract(o);_t?we(this._container,l,i):Se(this._container,l)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),i=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new N(i,i.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Fn=Un.extend({getEvents:function(){var t=Un.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Un.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Le(t,"mousemove",this._onMouseMove,this),Le(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Le(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){k(this._redrawRequest),delete this._ctx,he(this._container),De(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;for(var e in this._redrawBounds=null,this._layers)t=this._layers[e],t._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Un.prototype._update.call(this);var t=this._bounds,e=this._container,i=t.getSize(),n=kt?2:1;Se(e,t.min),e.width=n*i.x,e.height=n*i.y,e.style.width=i.x+"px",e.style.height=i.y+"px",kt&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Un.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[a(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,i=e.next,n=e.prev;i?i.prev=n:this._drawLast=n,n?n.next=i:this._drawFirst=i,delete t._order,delete this._layers[a(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"===typeof t.options.dashArray){var e,i,n=t.options.dashArray.split(/[, ]+/),r=[];for(i=0;i<n.length;i++){if(e=Number(n[i]),isNaN(e))return;r.push(e)}t.options._dashArray=r}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||C(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new N,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var i=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,i.x,i.y),this._ctx.clip()}this._drawing=!0;for(var n=this._drawFirst;n;n=n.next)t=n.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var i,n,r,s,a=t._parts,o=a.length,l=this._ctx;if(o){for(l.beginPath(),i=0;i<o;i++){for(n=0,r=a[i].length;n<r;n++)s=a[i][n],l[n?"lineTo":"moveTo"](s.x,s.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,i=this._ctx,n=Math.max(Math.round(t._radius),1),r=(Math.max(Math.round(t._radiusY),1)||n)/n;1!==r&&(i.save(),i.scale(1,r)),i.beginPath(),i.arc(e.x,e.y/r,n,0,2*Math.PI,!1),1!==r&&i.restore(),this._fillStroke(i,t)}},_fillStroke:function(t,e){var i=e.options;i.fill&&(t.globalAlpha=i.fillOpacity,t.fillStyle=i.fillColor||i.color,t.fill(i.fillRule||"evenodd")),i.stroke&&0!==i.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=i.opacity,t.lineWidth=i.weight,t.strokeStyle=i.color,t.lineCap=i.lineCap,t.lineJoin=i.lineJoin,t.stroke())},_onClick:function(t){for(var e,i,n=this._map.mouseEventToLayerPoint(t),r=this._drawFirst;r;r=r.next)e=r.layer,e.options.interactive&&e._containsPoint(n)&&("click"!==t.type&&"preclick"===t.type||!this._map._draggableMoved(e))&&(i=e);i&&(Ze(t),this._fireEvent([i],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(ge(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var i,n,s=this._drawFirst;s;s=s.next)i=s.layer,i.options.interactive&&i._containsPoint(e)&&(n=i);n!==this._hoveredLayer&&(this._handleMouseOut(t),n&&(me(this._container,"leaflet-interactive"),this._fireEvent([n],t,"mouseover"),this._hoveredLayer=n)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(r((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(t,e,i){this._map._fireDOMEvent(e,i||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var i=e.next,n=e.prev;i&&(i.prev=n,n?n.next=i:i&&(this._drawFirst=i),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var i=e.next,n=e.prev;n&&(n.next=i,i?i.prev=n:n&&(this._drawLast=n),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function zn(t){return Mt?new Fn(t):null}var Vn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),Hn={_initContainer:function(){this._container=ue("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Un.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Vn("shape");me(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Vn("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[a(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;he(e),t.removeInteractiveTarget(e),delete this._layers[a(t)]},_updateStyle:function(t){var e=t._stroke,i=t._fill,n=t.options,r=t._container;r.stroked=!!n.stroke,r.filled=!!n.fill,n.stroke?(e||(e=t._stroke=Vn("stroke")),r.appendChild(e),e.weight=n.weight+"px",e.color=n.color,e.opacity=n.opacity,n.dashArray?e.dashStyle=_(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=n.lineCap.replace("butt","flat"),e.joinstyle=n.lineJoin):e&&(r.removeChild(e),t._stroke=null),n.fill?(i||(i=t._fill=Vn("fill")),r.appendChild(i),i.color=n.fillColor||n.color,i.opacity=n.fillOpacity):i&&(r.removeChild(i),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),i=Math.round(t._radius),n=Math.round(t._radiusY||i);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+i+","+n+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){de(t._container)},_bringToBack:function(t){pe(t._container)}},qn=It?Vn:X,Gn=Un.extend({getEvents:function(){var t=Un.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=qn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=qn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){he(this._container),De(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){Un.prototype._update.call(this);var t=this._bounds,e=t.getSize(),i=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,i.setAttribute("width",e.x),i.setAttribute("height",e.y)),Se(i,t.min),i.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=qn("path");t.options.className&&me(e,t.options.className),t.options.interactive&&me(e,"leaflet-interactive"),this._updateStyle(t),this._layers[a(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){he(t._path),t.removeInteractiveTarget(t._path),delete this._layers[a(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,i=t.options;e&&(i.stroke?(e.setAttribute("stroke",i.color),e.setAttribute("stroke-opacity",i.opacity),e.setAttribute("stroke-width",i.weight),e.setAttribute("stroke-linecap",i.lineCap),e.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?e.setAttribute("stroke-dasharray",i.dashArray):e.removeAttribute("stroke-dasharray"),i.dashOffset?e.setAttribute("stroke-dashoffset",i.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),i.fill?(e.setAttribute("fill",i.fillColor||i.color),e.setAttribute("fill-opacity",i.fillOpacity),e.setAttribute("fill-rule",i.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,Y(t._parts,e))},_updateCircle:function(t){var e=t._point,i=Math.max(Math.round(t._radius),1),n=Math.max(Math.round(t._radiusY),1)||i,r="a"+i+","+n+" 0 1,0 ",s=t._empty()?"M0 0":"M"+(e.x-i)+","+e.y+r+2*i+",0 "+r+2*-i+",0 ";this._setPath(t,s)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){de(t._path)},_bringToBack:function(t){pe(t._path)}});function Wn(t){return At||It?new Gn(t):null}It&&Gn.include(Hn),ti.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&zn(t)||Wn(t)}});var $n=an.extend({initialize:function(t,e){an.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=U(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Kn(t,e){return new $n(t,e)}Gn.create=qn,Gn.pointsToPath=Y,ln.geometryToLayer=un,ln.coordsToLatLng=cn,ln.coordsToLatLngs=dn,ln.latLngToCoords=pn,ln.latLngsToCoords=fn,ln.getFeature=mn,ln.asFeature=gn,ti.mergeOptions({boxZoom:!0});var Zn=di.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Le(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){De(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){he(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),Jt(),ke(),this._startPoint=this._map.mouseEventToContainerPoint(t),Le(document,{contextmenu:qe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=ue("div","leaflet-zoom-box",this._container),me(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new N(this._point,this._startPoint),i=e.getSize();Se(this._box,e.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(he(this._box),ge(this._container,"leaflet-crosshair")),te(),xe(),De(document,{contextmenu:qe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(r(this._resetState,this),0);var e=new j(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});ti.addInitHook("addHandler","boxZoom",Zn),ti.mergeOptions({doubleClickZoom:!0});var Xn=di.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,i=e.getZoom(),n=e.options.zoomDelta,r=t.originalEvent.shiftKey?i-n:i+n;"center"===e.options.doubleClickZoom?e.setZoom(r):e.setZoomAround(t.containerPoint,r)}});ti.addInitHook("addHandler","doubleClickZoom",Xn),ti.mergeOptions({dragging:!0,inertia:!rt,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Yn=di.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new vi(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}me(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ge(this._map._container,"leaflet-grab"),ge(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=U(this._map.options.maxBounds);this._offsetLimit=B(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){while(this._positions.length>1&&t-this._times[0]>50)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,n=this._draggable._newPos.x,r=(n-e+i)%t+e-i,s=(n+e+i)%t-e-i,a=Math.abs(r+i)<Math.abs(s+i)?r:s;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(t){var e=this._map,i=e.options,n=!i.inertia||this._times.length<2;if(e.fire("dragend",t),n)e.fire("moveend");else{this._prunePositions(+new Date);var r=this._lastPos.subtract(this._positions[0]),s=(this._lastTime-this._times[0])/1e3,a=i.easeLinearity,o=r.multiplyBy(a/s),l=o.distanceTo([0,0]),u=Math.min(i.inertiaMaxSpeed,l),h=o.multiplyBy(u/l),c=u/(i.inertiaDeceleration*a),d=h.multiplyBy(-c/2).round();d.x||d.y?(d=e._limitOffset(d,e.options.maxBounds),C((function(){e.panBy(d,{duration:c,easeLinearity:a,noMoveStart:!0,animate:!0})}))):e.fire("moveend")}}});ti.addInitHook("addHandler","dragging",Yn),ti.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Qn=di.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Le(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),De(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,i=t.scrollTop||e.scrollTop,n=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(n,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,i,n=this._panKeys={},r=this.keyCodes;for(e=0,i=r.left.length;e<i;e++)n[r.left[e]]=[-1*t,0];for(e=0,i=r.right.length;e<i;e++)n[r.right[e]]=[t,0];for(e=0,i=r.down.length;e<i;e++)n[r.down[e]]=[0,t];for(e=0,i=r.up.length;e<i;e++)n[r.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,i,n=this._zoomKeys={},r=this.keyCodes;for(e=0,i=r.zoomIn.length;e<i;e++)n[r.zoomIn[e]]=t;for(e=0,i=r.zoomOut.length;e<i;e++)n[r.zoomOut[e]]=-t},_addHooks:function(){Le(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){De(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,i=t.keyCode,n=this._map;if(i in this._panKeys)n._panAnim&&n._panAnim._inProgress||(e=this._panKeys[i],t.shiftKey&&(e=D(e).multiplyBy(3)),n.panBy(e),n.options.maxBounds&&n.panInsideBounds(n.options.maxBounds));else if(i in this._zoomKeys)n.setZoom(n.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else{if(27!==i||!n._popup||!n._popup.options.closeOnEscapeKey)return;n.closePopup()}qe(t)}}});ti.addInitHook("addHandler","keyboard",Qn),ti.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Jn=di.extend({addHooks:function(){Le(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){De(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=$e(t),i=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var n=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(r(this._performZoom,this),n),qe(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),i=this._map.options.zoomSnap||0;t._stop();var n=this._delta/(4*this._map.options.wheelPxPerZoomLevel),r=4*Math.log(2/(1+Math.exp(-Math.abs(n))))/Math.LN2,s=i?Math.ceil(r/i)*i:r,a=t._limitZoom(e+(this._delta>0?s:-s))-e;this._delta=0,this._startTime=null,a&&("center"===t.options.scrollWheelZoom?t.setZoom(e+a):t.setZoomAround(this._lastMousePos,e+a))}});ti.addInitHook("addHandler","scrollWheelZoom",Jn),ti.mergeOptions({tap:!0,tapTolerance:15});var tr=di.extend({addHooks:function(){Le(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){De(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(He(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],i=e.target;this._startPos=this._newPos=new P(e.clientX,e.clientY),i.tagName&&"a"===i.tagName.toLowerCase()&&me(i,"leaflet-active"),this._holdTimeout=setTimeout(r((function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))}),this),1e3),this._simulateEvent("mousedown",e),Le(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),De(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],i=e.target;i&&i.tagName&&"a"===i.tagName.toLowerCase()&&ge(i,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new P(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var i=document.createEvent("MouseEvents");i._simulated=!0,e.target._simulatedClick=!0,i.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i)}});!St||wt&&!ht||ti.addInitHook("addHandler","tap",tr),ti.mergeOptions({touchZoom:St&&!rt,bounceAtZoomLimits:!0});var er=di.extend({addHooks:function(){me(this._map._container,"leaflet-touch-zoom"),Le(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ge(this._map._container,"leaflet-touch-zoom"),De(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var i=e.mouseEventToContainerPoint(t.touches[0]),n=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(i.add(n)._divideBy(2))),this._startDist=i.distanceTo(n),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Le(document,"touchmove",this._onTouchMove,this),Le(document,"touchend",this._onTouchEnd,this),He(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,i=e.mouseEventToContainerPoint(t.touches[0]),n=e.mouseEventToContainerPoint(t.touches[1]),s=i.distanceTo(n)/this._startDist;if(this._zoom=e.getScaleZoom(s,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&s<1||this._zoom>e.getMaxZoom()&&s>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===s)return}else{var a=i._add(n)._divideBy(2)._subtract(this._centerPoint);if(1===s&&0===a.x&&0===a.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),k(this._animRequest);var o=r(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=C(o,this,!0),He(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,k(this._animRequest),De(document,"touchmove",this._onTouchMove,this),De(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});ti.addInitHook("addHandler","touchZoom",er),ti.BoxZoom=Zn,ti.DoubleClickZoom=Xn,ti.Drag=Yn,ti.Keyboard=Qn,ti.ScrollWheelZoom=Jn,ti.Tap=tr,ti.TouchZoom=er,t.version=e,t.Control=ii,t.control=ni,t.Browser=Pt,t.Evented=O,t.Mixin=fi,t.Util=x,t.Class=M,t.Handler=di,t.extend=i,t.bind=r,t.stamp=a,t.setOptions=p,t.DomEvent=Qe,t.DomUtil=Pe,t.PosAnimation=Je,t.Draggable=vi,t.LineUtil=Pi,t.PolyUtil=Ri,t.Point=P,t.point=D,t.Bounds=N,t.bounds=B,t.Transformation=W,t.transformation=$,t.Projection=Bi,t.LatLng=F,t.latLng=z,t.LatLngBounds=j,t.latLngBounds=U,t.CRS=V,t.GeoJSON=ln,t.geoJSON=vn,t.geoJson=yn,t.Layer=zi,t.LayerGroup=Vi,t.layerGroup=Hi,t.FeatureGroup=qi,t.featureGroup=Gi,t.ImageOverlay=bn,t.imageOverlay=Tn,t.VideoOverlay=wn,t.videoOverlay=Sn,t.SVGOverlay=En,t.svgOverlay=Cn,t.DivOverlay=kn,t.Popup=xn,t.popup=Mn,t.Tooltip=An,t.tooltip=In,t.Icon=Wi,t.icon=$i,t.DivIcon=On,t.divIcon=Pn,t.Marker=Xi,t.marker=Yi,t.TileLayer=Dn,t.tileLayer=Nn,t.GridLayer=Ln,t.gridLayer=Rn,t.SVG=Gn,t.svg=Wn,t.Renderer=Un,t.Canvas=Fn,t.canvas=zn,t.Path=Qi,t.CircleMarker=Ji,t.circleMarker=tn,t.Circle=en,t.circle=nn,t.Polyline=rn,t.polyline=sn,t.Polygon=an,t.polygon=on,t.Rectangle=$n,t.rectangle=Kn,t.Map=ti,t.map=ei;var ir=window.L;t.noConflict=function(){return window.L=ir,this},window.L=t}))},e177:function(t,e,i){"use strict";e.__esModule=!0;var n=i("af98"),r=l(n),s=i("61b0"),a=l(s),o=i("cff3");function l(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function c(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=function(t){function e(i,n){u(this,e);var r=h(this,t.call(this,i,n));return r.selectable=n.selectable,r.selected(n.selected),r.selectable?r.el_.setAttribute("role","menuitemcheckbox"):r.el_.setAttribute("role","menuitem"),r}return c(e,t),e.prototype.createEl=function(e,i,n){return this.nonIconControl=!0,t.prototype.createEl.call(this,"li",(0,o.assign)({className:"vjs-menu-item",innerHTML:this.localize(this.options_.label),tabIndex:-1},i),n)},e.prototype.handleClick=function(t){this.selected(!0)},e.prototype.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected")):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText("")))},e}(r["default"]);a["default"].registerComponent("MenuItem",d),e["default"]=d},e229:function(t,e,i){"use strict";e.__esModule=!0;var n=i("6a64"),r=h(n),s=i("4e2d"),a=u(s),o=i("9869"),l=h(o);function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function h(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function p(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(){var i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;c(this,e);var s=d(this,t.call(this));if(!r&&(r=s,a.IS_IE8))for(var o in r=l["default"].createElement("custom"),e.prototype)"constructor"!==o&&(r[o]=e.prototype[o]);r.tracks_=[],Object.defineProperty(r,"length",{get:function(){return this.tracks_.length}});for(var u=0;u<n.length;u++)r.addTrack_(n[u]);return i=r,d(s,i)}return p(e,t),e.prototype.addTrack_=function(t){var e=this.tracks_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.tracks_[e]}}),-1===this.tracks_.indexOf(t)&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack"}))},e.prototype.removeTrack_=function(t){for(var e=void 0,i=0,n=this.length;i<n;i++)if(this[i]===t){e=this[i],e.off&&e.off(),this.tracks_.splice(i,1);break}e&&this.trigger({track:e,type:"removetrack"})},e.prototype.getTrackById=function(t){for(var e=null,i=0,n=this.length;i<n;i++){var r=this[i];if(r.id===t){e=r;break}}return e},e}(r["default"]);for(var m in f.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},f.prototype.allowedEvents_)f.prototype["on"+m]=null;e["default"]=f},e2a3:function(t,e,i){"use strict";e.__esModule=!0;var n=i("61b0"),r=s(n);function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i("1e3d");var u=function(t){function e(i,n){a(this,e);var r=o(this,t.call(this,i,n));return i.tech_&&!1===i.tech_.featuresVolumeControl&&r.addClass("vjs-hidden"),r.on(i,"loadstart",(function(){!1===i.tech_.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})),r}return l(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},e}(r["default"]);u.prototype.options_={children:["volumeBar"]},r["default"].registerComponent("VolumeControl",u),e["default"]=u},e311:function(t,e,i){"use strict";e.__esModule=!0;var n=i("6c5b"),r=f(n),s=i("1c1b"),a=f(s),o=i("6556"),l=f(o),u=i("61b0"),h=f(u),c=i("702d"),d=p(c);function p(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function f(t){return t&&t.__esModule?t:{default:t}}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function _(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v=function(t){function e(i,n){m(this,e);var r=g(this,t.call(this,i,n));return r.updateVisibility(),r.updateLabel(),r.on(i,"loadstart",r.updateVisibility),r.on(i,"ratechange",r.updateLabel),r}return _(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this);return this.labelEl_=d.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),e.appendChild(this.labelEl_),e},e.prototype.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},e.prototype.createMenu=function(){var t=new a["default"](this.player()),e=this.playbackRates();if(e)for(var i=e.length-1;i>=0;i--)t.addChild(new l["default"](this.player(),{rate:e[i]+"x"}));return t},e.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},e.prototype.handleClick=function(t){for(var e=this.player().playbackRate(),i=this.playbackRates(),n=i[0],r=0;r<i.length;r++)if(i[r]>e){n=i[r];break}this.player().playbackRate(n)},e.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},e.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},e.prototype.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},e.prototype.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},e}(r["default"]);v.prototype.controlText_="Playback Rate",h["default"].registerComponent("PlaybackRateMenuButton",v),e["default"]=v},e34b:function(t,e,i){"use strict";e.__esModule=!0;var n=i("cff3");function r(t){if(t instanceof r)return t;"number"===typeof t?this.code=t:"string"===typeof t?this.message=t:(0,n.isObject)(t)&&("number"===typeof t.code&&(this.code=t.code),(0,n.assign)(this,t)),this.message||(this.message=r.defaultMessages[this.code]||"")}r.prototype.code=0,r.prototype.message="",r.prototype.status=null,r.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],r.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var s=0;s<r.errorTypes.length;s++)r[r.errorTypes[s]]=s,r.prototype[r.errorTypes[s]]=s;e["default"]=r},e3db:function(t,e){var i={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},e6f5:function(t,e,i){"use strict";e.__esModule=!0;var n=i("61b0"),r=s(n);function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i("1194"),i("efe3"),i("21e3"),i("de2e"),i("e7b1"),i("815f"),i("7934"),i("61db"),i("e2a3"),i("9000"),i("b553"),i("cb64"),i("bced"),i("7630"),i("1a81"),i("0eef"),i("e311"),i("4080");var u=function(t){function e(){return a(this,e),o(this,t.apply(this,arguments))}return l(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},e}(r["default"]);u.prototype.options_={children:["playToggle","volumeMenuButton","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subtitlesButton","captionsButton","audioTrackButton","fullscreenToggle"]},r["default"].registerComponent("ControlBar",u),e["default"]=u},e7b1:function(t,e,i){"use strict";e.__esModule=!0;var n=i("61b0"),r=h(n),s=i("702d"),a=u(s),o=i("b0f9"),l=h(o);function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function h(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function p(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(i,n){c(this,e);var r=d(this,t.call(this,i,n));return r.on(i,"timeupdate",r.updateContent),r.on(i,"durationchange",r.updateContent),r}return p(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.contentEl_=a.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00"},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},e.prototype.updateContent=function(t){if(this.player_.duration()){var e=this.localize("Remaining Time"),i=(0,l["default"])(this.player_.remainingTime());i!==this.formattedTime_&&(this.formattedTime_=i,this.contentEl_.innerHTML='<span class="vjs-control-text">'+e+"</span> -"+i)}},e}(r["default"]);r["default"].registerComponent("RemainingTimeDisplay",f),e["default"]=f},e8cc:function(t,e,i){"use strict";e.__esModule=!0;var n=i("4e2d"),r=d(n),s=i("9869"),a=c(s),o=i("6a64"),l=c(o),u=i("12a0"),h=c(u);function c(t){return t&&t.__esModule?t:{default:t}}function d(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function m(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var g=0,_=1,v=2,y=3,b=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};p(this,e);var n=f(this,t.call(this)),s=void 0,o=n;if(r.IS_IE8)for(var l in o=a["default"].createElement("custom"),e.prototype)"constructor"!==l&&(o[l]=e.prototype[l]);var u,c=new h["default"](i);return o.kind=c.kind,o.src=c.src,o.srclang=c.language,o.label=c.label,o["default"]=c["default"],Object.defineProperty(o,"readyState",{get:function(){return s}}),Object.defineProperty(o,"track",{get:function(){return c}}),s=g,c.addEventListener("loadeddata",(function(){s=v,o.trigger({type:"load",target:o})})),r.IS_IE8?(u=o,f(n,u)):n}return m(e,t),e}(l["default"]);b.prototype.allowedEvents_={load:"load"},b.NONE=g,b.LOADING=_,b.LOADED=v,b.ERROR=y,e["default"]=b},e9b1:function(t,e,i){},ea17:function(t,e,i){"use strict";e.__esModule=!0;var n=i("61b0"),r=s(n);function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(t){function e(){return a(this,e),o(this,t.apply(this,arguments))}return l(e,t),e.prototype.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},e}(r["default"]);r["default"].registerComponent("Spacer",u),e["default"]=u},ed6d:function(t,e,i){var n=i("4a4b");function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}t.exports=r,t.exports["default"]=t.exports,t.exports.__esModule=!0},ee6f:function(t,e,i){},ee84:function(t,e,i){"use strict";e.__esModule=!0;var n=i("e229"),r=d(n),s=i("f545"),a=c(s),o=i("4e2d"),l=c(o),u=i("9869"),h=d(u);function c(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function d(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function m(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var g=function(t){function e(){var i,n,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];p(this,e);var a=void 0;if(l.IS_IE8){for(var o in a=h["default"].createElement("custom"),r["default"].prototype)"constructor"!==o&&(a[o]=r["default"].prototype[o]);for(var u in e.prototype)"constructor"!==u&&(a[u]=e.prototype[u])}return i=f(this,t.call(this,s,a)),a=i,n=a,f(i,n)}return m(e,t),e.prototype.addTrack_=function(e){t.prototype.addTrack_.call(this,e),e.addEventListener("modechange",a.bind(this,(function(){this.trigger("change")})))},e}(r["default"]);e["default"]=g},eed3:function(t,e,i){"use strict";e.__esModule=!0;var n=i("af98"),r=o(n),s=i("61b0"),a=o(s);function o(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function h(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(this,e);var r=u(this,t.call(this,i,n));return r.update(),r}return h(e,t),e.prototype.update=function(){var t=this.createPopup();this.popup&&this.removeChild(this.popup),this.popup=t,this.addChild(t),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},e.prototype.createPopup=function(){},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},e.prototype.buildCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+t.prototype.buildCSSClass.call(this)},e}(r["default"]);a["default"].registerComponent("PopupButton",c),e["default"]=c},ef34:function(t,e,i){(function(e){var n,r="undefined"!==typeof e?e:"undefined"!==typeof window?window:{},s=i(2);"undefined"!==typeof document?n=document:(n=r["__GLOBAL_DOCUMENT_CACHE@4"],n||(n=r["__GLOBAL_DOCUMENT_CACHE@4"]=s)),t.exports=n}).call(this,i("c8ba"))},efe3:function(t,e,i){"use strict";e.__esModule=!0;var n=i("61b0"),r=h(n),s=i("702d"),a=u(s),o=i("b0f9"),l=h(o);function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function h(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function p(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(i,n){c(this,e);var r=d(this,t.call(this,i,n));return r.on(i,"timeupdate",r.updateContent),r}return p(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.contentEl_=a.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00'},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},e.prototype.updateContent=function(t){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),i=this.localize("Current Time"),n=(0,l["default"])(e,this.player_.duration());n!==this.formattedTime_&&(this.formattedTime_=n,this.contentEl_.innerHTML='<span class="vjs-control-text">'+i+"</span> "+n)},e}(r["default"]);r["default"].registerComponent("CurrentTimeDisplay",f),e["default"]=f},f0e2:function(t,e,i){"use strict";var n,r=i("be09"),s=i.n(r),a=i("ef34"),o=i.n(a),l=i("a559"),u=i.n(l),h=i("3c96"),c=i.n(h),d=i("55b5"),p=i.n(d),f=i("8c10"),m=i.n(f),g=i("df33"),_=i.n(g),v=i("045f"),y=i.n(v),b=i("2b8c"),T=i.n(b),w=i("b17c"),S=i.n(w),E=i("ed6d"),C=i.n(E),k=i("d136"),x=i.n(k),M="http://example.com",A=function(t,e){if(/^[a-z]+:/i.test(e))return e;/^data:/.test(t)&&(t=s.a.location&&s.a.location.href||"");var i="function"===typeof s.a.URL,n=/^\/\//.test(t),r=!s.a.location&&!/\/\//i.test(t);if(i?t=new s.a.URL(t,s.a.location||M):/\/\//i.test(t)||(t=x.a.buildAbsoluteURL(s.a.location&&s.a.location.href||"",t)),i){var a=new URL(e,t);return r?a.href.slice(M.length):n?a.href.slice(a.protocol.length):a.href}return x.a.buildAbsoluteURL(t,e)},I=A,O=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},e.off=function(t,e){if(!this.listeners[t])return!1;var i=this.listeners[t].indexOf(e);return this.listeners[t]=this.listeners[t].slice(0),this.listeners[t].splice(i,1),i>-1},e.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var i=e.length,n=0;n<i;++n)e[n].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),s=e.length,a=0;a<s;++a)e[a].apply(this,r)},e.dispose=function(){this.listeners={}},e.pipe=function(t){this.on("data",(function(e){t.push(e)}))},t}(),P=i("ffdf"),L=function(t){function e(){var e;return e=t.call(this)||this,e.buffer="",e}p()(e,t);var i=e.prototype;return i.push=function(t){var e;for(this.buffer+=t,e=this.buffer.indexOf("\n");e>-1;e=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,e)),this.buffer=this.buffer.substring(e+1)},e}(O),R=String.fromCharCode(9),D=function(t){var e=/([0-9.]*)?@?([0-9.]*)?/.exec(t||""),i={};return e[1]&&(i.length=parseInt(e[1],10)),e[2]&&(i.offset=parseInt(e[2],10)),i},N=function(){var t="[^=]*",e='"[^"]*"|[^,]*',i="(?:"+t+")=(?:"+e+")";return new RegExp("(?:^|,)("+i+")")},B=function(t){var e,i=t.split(N()),n={},r=i.length;while(r--)""!==i[r]&&(e=/([^=]*)=(.*)/.exec(i[r]).slice(1),e[0]=e[0].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^['"](.*)['"]$/g,"$1"),n[e[0]]=e[1]);return n},j=function(t){function e(){var e;return e=t.call(this)||this,e.customParsers=[],e.tagMappers=[],e}p()(e,t);var i=e.prototype;return i.push=function(t){var e,i,n=this;if(t=t.trim(),0!==t.length)if("#"===t[0]){var r=this.tagMappers.reduce((function(e,i){var n=i(t);return n===t?e:e.concat([n])}),[t]);r.forEach((function(t){for(var r=0;r<n.customParsers.length;r++)if(n.customParsers[r].call(n,t))return;if(0===t.indexOf("#EXT"))if(t=t.replace("\r",""),e=/^#EXTM3U/.exec(t),e)n.trigger("data",{type:"tag",tagType:"m3u"});else{if(e=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(t),e)return i={type:"tag",tagType:"inf"},e[1]&&(i.duration=parseFloat(e[1])),e[2]&&(i.title=e[2]),void n.trigger("data",i);if(e=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(t),e)return i={type:"tag",tagType:"targetduration"},e[1]&&(i.duration=parseInt(e[1],10)),void n.trigger("data",i);if(e=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(t),e)return i={type:"tag",tagType:"version"},e[1]&&(i.version=parseInt(e[1],10)),void n.trigger("data",i);if(e=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(t),e)return i={type:"tag",tagType:"media-sequence"},e[1]&&(i.number=parseInt(e[1],10)),void n.trigger("data",i);if(e=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(t),e)return i={type:"tag",tagType:"discontinuity-sequence"},e[1]&&(i.number=parseInt(e[1],10)),void n.trigger("data",i);if(e=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(t),e)return i={type:"tag",tagType:"playlist-type"},e[1]&&(i.playlistType=e[1]),void n.trigger("data",i);if(e=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(t),e)return i=u()(D(e[1]),{type:"tag",tagType:"byterange"}),void n.trigger("data",i);if(e=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(t),e)return i={type:"tag",tagType:"allow-cache"},e[1]&&(i.allowed=!/NO/.test(e[1])),void n.trigger("data",i);if(e=/^#EXT-X-MAP:?(.*)$/.exec(t),e){if(i={type:"tag",tagType:"map"},e[1]){var s=B(e[1]);s.URI&&(i.uri=s.URI),s.BYTERANGE&&(i.byterange=D(s.BYTERANGE))}n.trigger("data",i)}else if(e=/^#EXT-X-STREAM-INF:?(.*)$/.exec(t),e){if(i={type:"tag",tagType:"stream-inf"},e[1]){if(i.attributes=B(e[1]),i.attributes.RESOLUTION){var a=i.attributes.RESOLUTION.split("x"),o={};a[0]&&(o.width=parseInt(a[0],10)),a[1]&&(o.height=parseInt(a[1],10)),i.attributes.RESOLUTION=o}i.attributes.BANDWIDTH&&(i.attributes.BANDWIDTH=parseInt(i.attributes.BANDWIDTH,10)),i.attributes["PROGRAM-ID"]&&(i.attributes["PROGRAM-ID"]=parseInt(i.attributes["PROGRAM-ID"],10))}n.trigger("data",i)}else{if(e=/^#EXT-X-MEDIA:?(.*)$/.exec(t),e)return i={type:"tag",tagType:"media"},e[1]&&(i.attributes=B(e[1])),void n.trigger("data",i);if(e=/^#EXT-X-ENDLIST/.exec(t),e)n.trigger("data",{type:"tag",tagType:"endlist"});else if(e=/^#EXT-X-DISCONTINUITY/.exec(t),e)n.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(e=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(t),e)return i={type:"tag",tagType:"program-date-time"},e[1]&&(i.dateTimeString=e[1],i.dateTimeObject=new Date(e[1])),void n.trigger("data",i);if(e=/^#EXT-X-KEY:?(.*)$/.exec(t),e)return i={type:"tag",tagType:"key"},e[1]&&(i.attributes=B(e[1]),i.attributes.IV&&("0x"===i.attributes.IV.substring(0,2).toLowerCase()&&(i.attributes.IV=i.attributes.IV.substring(2)),i.attributes.IV=i.attributes.IV.match(/.{8}/g),i.attributes.IV[0]=parseInt(i.attributes.IV[0],16),i.attributes.IV[1]=parseInt(i.attributes.IV[1],16),i.attributes.IV[2]=parseInt(i.attributes.IV[2],16),i.attributes.IV[3]=parseInt(i.attributes.IV[3],16),i.attributes.IV=new Uint32Array(i.attributes.IV))),void n.trigger("data",i);if(e=/^#EXT-X-START:?(.*)$/.exec(t),e)return i={type:"tag",tagType:"start"},e[1]&&(i.attributes=B(e[1]),i.attributes["TIME-OFFSET"]=parseFloat(i.attributes["TIME-OFFSET"]),i.attributes.PRECISE=/YES/.test(i.attributes.PRECISE)),void n.trigger("data",i);if(e=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(t),e)return i={type:"tag",tagType:"cue-out-cont"},e[1]?i.data=e[1]:i.data="",void n.trigger("data",i);if(e=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(t),e)return i={type:"tag",tagType:"cue-out"},e[1]?i.data=e[1]:i.data="",void n.trigger("data",i);if(e=/^#EXT-X-CUE-IN:?(.*)?$/.exec(t),e)return i={type:"tag",tagType:"cue-in"},e[1]?i.data=e[1]:i.data="",void n.trigger("data",i);if(e=/^#EXT-X-SKIP:(.*)$/.exec(t),e&&e[1])return i={type:"tag",tagType:"skip"},i.attributes=B(e[1]),i.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(i.attributes["SKIPPED-SEGMENTS"]=parseInt(i.attributes["SKIPPED-SEGMENTS"],10)),i.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(i.attributes["RECENTLY-REMOVED-DATERANGES"]=i.attributes["RECENTLY-REMOVED-DATERANGES"].split(R)),void n.trigger("data",i);if(e=/^#EXT-X-PART:(.*)$/.exec(t),e&&e[1])return i={type:"tag",tagType:"part"},i.attributes=B(e[1]),["DURATION"].forEach((function(t){i.attributes.hasOwnProperty(t)&&(i.attributes[t]=parseFloat(i.attributes[t]))})),["INDEPENDENT","GAP"].forEach((function(t){i.attributes.hasOwnProperty(t)&&(i.attributes[t]=/YES/.test(i.attributes[t]))})),i.attributes.hasOwnProperty("BYTERANGE")&&(i.attributes.byterange=D(i.attributes.BYTERANGE)),void n.trigger("data",i);if(e=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(t),e&&e[1])return i={type:"tag",tagType:"server-control"},i.attributes=B(e[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach((function(t){i.attributes.hasOwnProperty(t)&&(i.attributes[t]=parseFloat(i.attributes[t]))})),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach((function(t){i.attributes.hasOwnProperty(t)&&(i.attributes[t]=/YES/.test(i.attributes[t]))})),void n.trigger("data",i);if(e=/^#EXT-X-PART-INF:(.*)$/.exec(t),e&&e[1])return i={type:"tag",tagType:"part-inf"},i.attributes=B(e[1]),["PART-TARGET"].forEach((function(t){i.attributes.hasOwnProperty(t)&&(i.attributes[t]=parseFloat(i.attributes[t]))})),void n.trigger("data",i);if(e=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(t),e&&e[1])return i={type:"tag",tagType:"preload-hint"},i.attributes=B(e[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach((function(t){if(i.attributes.hasOwnProperty(t)){i.attributes[t]=parseInt(i.attributes[t],10);var e="BYTERANGE-LENGTH"===t?"length":"offset";i.attributes.byterange=i.attributes.byterange||{},i.attributes.byterange[e]=i.attributes[t],delete i.attributes[t]}})),void n.trigger("data",i);if(e=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(t),e&&e[1])return i={type:"tag",tagType:"rendition-report"},i.attributes=B(e[1]),["LAST-MSN","LAST-PART"].forEach((function(t){i.attributes.hasOwnProperty(t)&&(i.attributes[t]=parseInt(i.attributes[t],10))})),void n.trigger("data",i);n.trigger("data",{type:"tag",data:t.slice(4)})}}}else n.trigger("data",{type:"comment",text:t.slice(1)})}))}else this.trigger("data",{type:"uri",uri:t})},i.addParser=function(t){var e=this,i=t.expression,n=t.customType,r=t.dataParser,s=t.segment;"function"!==typeof r&&(r=function(t){return t}),this.customParsers.push((function(t){var a=i.exec(t);if(a)return e.trigger("data",{type:"custom",data:r(t),customType:n,segment:s}),!0}))},i.addTagMapper=function(t){var e=t.expression,i=t.map,n=function(t){return e.test(t)?i(t):t};this.tagMappers.push(n)},e}(O),U=function(t){return t.toLowerCase().replace(/-(\w)/g,(function(t){return t[1].toUpperCase()}))},F=function(t){var e={};return Object.keys(t).forEach((function(i){e[U(i)]=t[i]})),e},z=function(t){var e=t.serverControl,i=t.targetDuration,n=t.partTargetDuration;if(e){var r="#EXT-X-SERVER-CONTROL",s="holdBack",a="partHoldBack",o=i&&3*i,l=n&&2*n;i&&!e.hasOwnProperty(s)&&(e[s]=o,this.trigger("info",{message:r+" defaulting HOLD-BACK to targetDuration * 3 ("+o+")."})),o&&e[s]<o&&(this.trigger("warn",{message:r+" clamping HOLD-BACK ("+e[s]+") to targetDuration * 3 ("+o+")"}),e[s]=o),n&&!e.hasOwnProperty(a)&&(e[a]=3*n,this.trigger("info",{message:r+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+e[a]+")."})),n&&e[a]<l&&(this.trigger("warn",{message:r+" clamping PART-HOLD-BACK ("+e[a]+") to partTargetDuration * 2 ("+l+")."}),e[a]=l)}},V=function(t){function e(){var e;e=t.call(this)||this,e.lineStream=new L,e.parseStream=new j,e.lineStream.pipe(e.parseStream);var i,n,r=c()(e),s=[],a={},o=!1,l=function(){},h={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},d="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",p=0;e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var f=0,m=0;return e.on("end",(function(){a.uri||!a.parts&&!a.preloadHints||(!a.map&&i&&(a.map=i),!a.key&&n&&(a.key=n),a.timeline||"number"!==typeof p||(a.timeline=p),e.manifest.preloadSegment=a)})),e.parseStream.on("data",(function(t){var e,c;({tag:function(){({version:function(){t.version&&(this.manifest.version=t.version)},"allow-cache":function(){this.manifest.allowCache=t.allowed,"allowed"in t||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var e={};"length"in t&&(a.byterange=e,e.length=t.length,"offset"in t||(t.offset=f)),"offset"in t&&(a.byterange=e,e.offset=t.offset),f=e.offset+e.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),t.duration>0&&(a.duration=t.duration),0===t.duration&&(a.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=s},key:function(){if(t.attributes)if("NONE"!==t.attributes.METHOD)if(t.attributes.URI){if("com.apple.streamingkeydelivery"===t.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:t.attributes});if(t.attributes.KEYFORMAT===d){var e=["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"];return-1===e.indexOf(t.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===t.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==t.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):t.attributes.KEYID&&"0x"===t.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:t.attributes.KEYFORMAT,keyId:t.attributes.KEYID.substring(2)},pssh:Object(P["a"])(t.attributes.URI.split(",")[1])})):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}))}t.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),n={method:t.attributes.METHOD||"AES-128",uri:t.attributes.URI},"undefined"!==typeof t.attributes.IV&&(n.iv=t.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else n=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(t.number)?this.manifest.mediaSequence=t.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+t.number})},"discontinuity-sequence":function(){isFinite(t.number)?(this.manifest.discontinuitySequence=t.number,p=t.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+t.number})},"playlist-type":function(){/VOD|EVENT/.test(t.playlistType)?this.manifest.playlistType=t.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+t.playlist})},map:function(){i={},t.uri&&(i.uri=t.uri),t.byterange&&(i.byterange=t.byterange),n&&(i.key=n)},"stream-inf":function(){this.manifest.playlists=s,this.manifest.mediaGroups=this.manifest.mediaGroups||h,t.attributes?(a.attributes||(a.attributes={}),u()(a.attributes,t.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||h,t.attributes&&t.attributes.TYPE&&t.attributes["GROUP-ID"]&&t.attributes.NAME){var i=this.manifest.mediaGroups[t.attributes.TYPE];i[t.attributes["GROUP-ID"]]=i[t.attributes["GROUP-ID"]]||{},e=i[t.attributes["GROUP-ID"]],c={default:/yes/i.test(t.attributes.DEFAULT)},c.default?c.autoselect=!0:c.autoselect=/yes/i.test(t.attributes.AUTOSELECT),t.attributes.LANGUAGE&&(c.language=t.attributes.LANGUAGE),t.attributes.URI&&(c.uri=t.attributes.URI),t.attributes["INSTREAM-ID"]&&(c.instreamId=t.attributes["INSTREAM-ID"]),t.attributes.CHARACTERISTICS&&(c.characteristics=t.attributes.CHARACTERISTICS),t.attributes.FORCED&&(c.forced=/yes/i.test(t.attributes.FORCED)),e[t.attributes.NAME]=c}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){p+=1,a.discontinuity=!0,this.manifest.discontinuityStarts.push(s.length)},"program-date-time":function(){"undefined"===typeof this.manifest.dateTimeString&&(this.manifest.dateTimeString=t.dateTimeString,this.manifest.dateTimeObject=t.dateTimeObject),a.dateTimeString=t.dateTimeString,a.dateTimeObject=t.dateTimeObject},targetduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+t.duration}):(this.manifest.targetDuration=t.duration,z.call(this,this.manifest))},start:function(){t.attributes&&!isNaN(t.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:t.attributes["TIME-OFFSET"],precise:t.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){a.cueOut=t.data},"cue-out-cont":function(){a.cueOutCont=t.data},"cue-in":function(){a.cueIn=t.data},skip:function(){this.manifest.skip=F(t.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",t.attributes,["SKIPPED-SEGMENTS"])},part:function(){var e=this;o=!0;var i=this.manifest.segments.length,n=F(t.attributes);a.parts=a.parts||[],a.parts.push(n),n.byterange&&(n.byterange.hasOwnProperty("offset")||(n.byterange.offset=m),m=n.byterange.offset+n.byterange.length);var r=a.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+r+" for segment #"+i,t.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((function(t,i){t.hasOwnProperty("lastPart")||e.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+i+" lacks required attribute(s): LAST-PART"})}))},"server-control":function(){var e=this.manifest.serverControl=F(t.attributes);e.hasOwnProperty("canBlockReload")||(e.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),z.call(this,this.manifest),e.canSkipDateranges&&!e.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var e=this.manifest.segments.length,i=F(t.attributes),n=i.type&&"PART"===i.type;a.preloadHints=a.preloadHints||[],a.preloadHints.push(i),i.byterange&&(i.byterange.hasOwnProperty("offset")||(i.byterange.offset=n?m:0,n&&(m=i.byterange.offset+i.byterange.length)));var r=a.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+r+" for segment #"+e,t.attributes,["TYPE","URI"]),i.type)for(var s=0;s<a.preloadHints.length-1;s++){var o=a.preloadHints[s];o.type&&(o.type===i.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+r+" for segment #"+e+" has the same TYPE "+i.type+" as preload hint #"+s}))}},"rendition-report":function(){var e=F(t.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(e);var i=this.manifest.renditionReports.length-1,n=["LAST-MSN","URI"];o&&n.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+i,t.attributes,n)},"part-inf":function(){this.manifest.partInf=F(t.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",t.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),z.call(this,this.manifest)}}[t.tagType]||l).call(r)},uri:function(){a.uri=t.uri,s.push(a),this.manifest.targetDuration&&!("duration"in a)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),a.duration=this.manifest.targetDuration),n&&(a.key=n),a.timeline=p,i&&(a.map=i),m=0,a={}},comment:function(){},custom:function(){t.segment?(a.custom=a.custom||{},a.custom[t.customType]=t.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[t.customType]=t.data)}})[t.type].call(r)})),e}p()(e,t);var i=e.prototype;return i.warnOnMissingAttributes_=function(t,e,i){var n=[];i.forEach((function(t){e.hasOwnProperty(t)||n.push(t)})),n.length&&this.trigger("warn",{message:t+" lacks required attribute(s): "+n.join(", ")})},i.push=function(t){this.lineStream.push(t)},i.end=function(){this.lineStream.push("\n"),this.trigger("end")},i.addParser=function(t){this.parseStream.addParser(t)},i.addTagMapper=function(t){this.parseStream.addTagMapper(t)},e}(O),H={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},q=["video","audio","text"],G=["Video","Audio","Text"],W=function(t){return t?t.replace(/avc1\.(\d+)\.(\d+)/i,(function(t,e,i){var n=("00"+Number(e).toString(16)).slice(-2),r=("00"+Number(i).toString(16)).slice(-2);return"avc1."+n+"00"+r})):t},$=function(t){void 0===t&&(t="");var e=t.split(","),i=[];return e.forEach((function(t){var e;t=t.trim(),q.forEach((function(n){var r=H[n].exec(t.toLowerCase());if(r&&!(r.length<=1)){e=n;var s=t.substring(0,r[1].length),a=t.replace(s,"");i.push({type:s,details:a,mediaType:n})}})),e||i.push({type:t,details:"",mediaType:"unknown"})})),i},K=function(t,e){if(!t.mediaGroups.AUDIO||!e)return null;var i=t.mediaGroups.AUDIO[e];if(!i)return null;for(var n in i){var r=i[n];if(r.default&&r.playlists)return $(r.playlists[0].attributes.CODECS)}return null},Z=function(t){return void 0===t&&(t=""),H.audio.test(t.trim().toLowerCase())},X=function(t){return void 0===t&&(t=""),H.text.test(t.trim().toLowerCase())},Y=function(t){if(t&&"string"===typeof t){var e=t.toLowerCase().split(",").map((function(t){return W(t.trim())})),i="video";1===e.length&&Z(e[0])?i="audio":1===e.length&&X(e[0])&&(i="application");var n="mp4";return e.every((function(t){return H.mp4.test(t)}))?n="mp4":e.every((function(t){return H.webm.test(t)}))?n="webm":e.every((function(t){return H.ogg.test(t)}))&&(n="ogg"),i+"/"+n+';codecs="'+t+'"'}},Q=function(t){return void 0===t&&(t=""),s.a.MediaSource&&s.a.MediaSource.isTypeSupported&&s.a.MediaSource.isTypeSupported(Y(t))||!1},J=function(t){return void 0===t&&(t=""),t.toLowerCase().split(",").every((function(t){t=t.trim();for(var e=0;e<G.length;e++){var i=G[e];if(H["muxer"+i].test(t))return!0}return!1}))},tt="mp4a.40.2",et="avc1.4d400d",it=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,nt=/^application\/dash\+xml/i,rt=function(t){return it.test(t)?"hls":nt.test(t)?"dash":"application/vnd.videojs.vhs+json"===t?"vhs-json":null},st=i("1456"),at=function(t){return!!t&&"object"===typeof t},ot=function t(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return i.reduce((function(e,i){return"object"!==typeof i||Object.keys(i).forEach((function(n){Array.isArray(e[n])&&Array.isArray(i[n])?e[n]=e[n].concat(i[n]):at(e[n])&&at(i[n])?e[n]=t(e[n],i[n]):e[n]=i[n]})),e}),{})},lt=function(t){return Object.keys(t).map((function(e){return t[e]}))},ut=function(t,e){for(var i=[],n=t;n<e;n++)i.push(n);return i},ht=function(t){return t.reduce((function(t,e){return t.concat(e)}),[])},ct=function(t){if(!t.length)return[];for(var e=[],i=0;i<t.length;i++)e.push(t[i]);return e},dt=function(t,e){return t.reduce((function(t,i,n){return i[e]&&t.push(n),t}),[])},pt={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},ft=function(t){var e=t.baseUrl,i=void 0===e?"":e,n=t.source,r=void 0===n?"":n,s=t.range,a=void 0===s?"":s,o=t.indexRange,l=void 0===o?"":o,u={uri:r,resolvedUri:I(i||"",r)};if(a||l){var h=a||l,c=h.split("-"),d=parseInt(c[0],10),p=parseInt(c[1],10);u.byterange={length:p-d+1,offset:d}}return u},mt=function(t){var e=t.offset+t.length-1;return t.offset+"-"+e},gt=function(t){return t&&"number"!==typeof t&&(t=parseInt(t,10)),isNaN(t)?null:t},_t={static:function(t){var e=t.duration,i=t.timescale,n=void 0===i?1:i,r=t.sourceDuration,s=gt(t.endNumber);return{start:0,end:"number"===typeof s?s:Math.ceil(r/(e/n))}},dynamic:function(t){var e=t.NOW,i=t.clientOffset,n=t.availabilityStartTime,r=t.timescale,s=void 0===r?1:r,a=t.duration,o=t.start,l=void 0===o?0:o,u=t.minimumUpdatePeriod,h=void 0===u?0:u,c=t.timeShiftBufferDepth,d=void 0===c?1/0:c,p=gt(t.endNumber),f=(e+i)/1e3,m=n+l,g=f+h,_=g-m,v=Math.ceil(_*s/a),y=Math.floor((f-m-d)*s/a),b=Math.floor((f-m)*s/a);return{start:Math.max(0,y),end:"number"===typeof p?p:Math.min(v,b)}}},vt=function(t){return function(e,i){var n=t.duration,r=t.timescale,s=void 0===r?1:r,a=t.periodIndex,o=t.startNumber,l=void 0===o?1:o;return{number:l+e,duration:n/s,timeline:a,time:i*n}}},yt=function(t){var e=t.type,i=void 0===e?"static":e,n=t.duration,r=t.timescale,s=void 0===r?1:r,a=t.sourceDuration,o=_t[i](t),l=o.start,u=o.end,h=ut(l,u).map(vt(t));if("static"===i){var c=h.length-1;h[c].duration=a-n/s*c}return h},bt=function(t){var e=t.baseUrl,i=t.initialization,n=void 0===i?{}:i,r=t.sourceDuration,s=t.indexRange,a=void 0===s?"":s,o=t.duration;if(!e)throw new Error(pt.NO_BASE_URL);var l=ft({baseUrl:e,source:n.sourceURL,range:n.range}),u=ft({baseUrl:e,source:e,indexRange:a});if(u.map=l,o){var h=yt(t);h.length&&(u.duration=h[0].duration,u.timeline=h[0].timeline)}else r&&(u.duration=r,u.timeline=0);return u.number=0,[u]},Tt=function(t,e,i){for(var n=t.sidx.map?t.sidx.map:null,r=t.sidx.duration,s=t.timeline||0,a=t.sidx.byterange,o=a.offset+a.length,l=e.timescale,u=e.references.filter((function(t){return 1!==t.referenceType})),h=[],c=o+e.firstOffset,d=0;d<u.length;d++){var p=e.references[d],f=p.referencedSize,m=p.subsegmentDuration,g=c+f-1,_=c+"-"+g,v={baseUrl:i,timescale:l,timeline:s,periodIndex:s,duration:m,sourceDuration:r,indexRange:_},y=bt(v)[0];n&&(y.map=n),h.push(y),c+=f}return t.segments=h,t},wt=function(t){return t&&t.uri+"-"+mt(t.byterange)},St=function(t){var e=lt(t.reduce((function(t,e){var i,n=e.attributes.id+(e.attributes.lang||"");t[n]?(e.segments[0]&&(e.segments[0].discontinuity=!0),(i=t[n].segments).push.apply(i,e.segments),e.attributes.contentProtection&&(t[n].attributes.contentProtection=e.attributes.contentProtection)):t[n]=e;return t}),{}));return e.map((function(t){return t.discontinuityStarts=dt(t.segments,"discontinuity"),t}))},Et=function(t,e){var i=wt(t.sidx),n=i&&e[i]&&e[i].sidx;return n&&Tt(t,n,t.sidx.resolvedUri),t},Ct=function(t,e){if(void 0===e&&(e={}),!Object.keys(e).length)return t;for(var i in t)t[i]=Et(t[i],e);return t},kt=function(t,e){var i,n=t.attributes,r=t.segments,s=t.sidx,a={attributes:(i={NAME:n.id,BANDWIDTH:n.bandwidth,CODECS:n.codecs},i["PROGRAM-ID"]=1,i),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:r,mediaSequence:r.length?r[0].number:1};return n.contentProtection&&(a.contentProtection=n.contentProtection),s&&(a.sidx=s),e&&(a.attributes.AUDIO="audio",a.attributes.SUBTITLES="subs"),a},xt=function(t){var e,i=t.attributes,n=t.segments;"undefined"===typeof n&&(n=[{uri:i.baseUrl,timeline:i.periodIndex,resolvedUri:i.baseUrl||"",duration:i.sourceDuration,number:0}],i.duration=i.sourceDuration);var r=(e={NAME:i.id,BANDWIDTH:i.bandwidth},e["PROGRAM-ID"]=1,e);return i.codecs&&(r.CODECS=i.codecs),{attributes:r,uri:"",endList:"static"===(i.type||"static"),timeline:i.periodIndex,resolvedUri:i.baseUrl||"",targetDuration:i.duration,segments:n,mediaSequence:n.length?n[0].number:1}},Mt=function(t,e,i){var n;void 0===e&&(e={}),void 0===i&&(i=!1);var r=t.reduce((function(t,r){var s=r.attributes.role&&r.attributes.role.value||"",a=r.attributes.lang||"",o=r.attributes.label||"main";if(a&&!r.attributes.label){var l=s?" ("+s+")":"";o=""+r.attributes.lang+l}t[o]||(t[o]={language:a,autoselect:!0,default:"main"===s,playlists:[],uri:""});var u=Et(kt(r,i),e);return t[o].playlists.push(u),"undefined"===typeof n&&"main"===s&&(n=r,n.default=!0),t}),{});if(!n){var s=Object.keys(r)[0];r[s].default=!0}return r},At=function(t,e){return void 0===e&&(e={}),t.reduce((function(t,i){var n=i.attributes.lang||"text";return t[n]||(t[n]={language:n,default:!1,autoselect:!1,playlists:[],uri:""}),t[n].playlists.push(Et(xt(i),e)),t}),{})},It=function(t){var e,i=t.attributes,n=t.segments,r=t.sidx,s={attributes:(e={NAME:i.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:i.width,height:i.height},CODECS:i.codecs,BANDWIDTH:i.bandwidth},e["PROGRAM-ID"]=1,e),uri:"",endList:"static"===(i.type||"static"),timeline:i.periodIndex,resolvedUri:"",targetDuration:i.duration,segments:n,mediaSequence:n.length?n[0].number:1};return i.contentProtection&&(s.contentProtection=i.contentProtection),r&&(s.sidx=r),s},Ot=function(t){var e=t.attributes;return"video/mp4"===e.mimeType||"video/webm"===e.mimeType||"video"===e.contentType},Pt=function(t){var e=t.attributes;return"audio/mp4"===e.mimeType||"audio/webm"===e.mimeType||"audio"===e.contentType},Lt=function(t){var e=t.attributes;return"text/vtt"===e.mimeType||"text"===e.contentType},Rt=function(t,e,i){var n;if(void 0===i&&(i={}),!t.length)return{};var r=t[0].attributes,s=r.sourceDuration,a=r.type,o=void 0===a?"static":a,l=r.suggestedPresentationDelay,u=r.minimumUpdatePeriod,h=St(t.filter(Ot)).map(It),c=St(t.filter(Pt)),d=t.filter(Lt),p={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(n={AUDIO:{},VIDEO:{}},n["CLOSED-CAPTIONS"]={},n.SUBTITLES={},n),uri:"",duration:s,playlists:Ct(h,i)};u>=0&&(p.minimumUpdatePeriod=1e3*u),e&&(p.locations=e),"dynamic"===o&&(p.suggestedPresentationDelay=l);var f=0===p.playlists.length;return c.length&&(p.mediaGroups.AUDIO.audio=Mt(c,i,f)),d.length&&(p.mediaGroups.SUBTITLES.subs=At(d,i)),p},Dt=function(t,e,i){var n=t.NOW,r=t.clientOffset,s=t.availabilityStartTime,a=t.timescale,o=void 0===a?1:a,l=t.start,u=void 0===l?0:l,h=t.minimumUpdatePeriod,c=void 0===h?0:h,d=(n+r)/1e3,p=s+u,f=d+c,m=f-p;return Math.ceil((m*o-e)/i)},Nt=function(t,e){for(var i=t.type,n=void 0===i?"static":i,r=t.minimumUpdatePeriod,s=void 0===r?0:r,a=t.media,o=void 0===a?"":a,l=t.sourceDuration,u=t.timescale,h=void 0===u?1:u,c=t.startNumber,d=void 0===c?1:c,p=t.periodIndex,f=[],m=-1,g=0;g<e.length;g++){var _=e[g],v=_.d,y=_.r||0,b=_.t||0;m<0&&(m=b),b&&b>m&&(m=b);var T=void 0;if(y<0){var w=g+1;T=w===e.length?"dynamic"===n&&s>0&&o.indexOf("$Number$")>0?Dt(t,m,v):(l*h-m)/v:(e[w].t-m)/v}else T=y+1;var S=d+f.length+T,E=d+f.length;while(E<S)f.push({number:E,duration:v/h,time:m,timeline:p}),m+=v,E++}return f},Bt=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,jt=function(t){return function(e,i,n,r){if("$$"===e)return"$";if("undefined"===typeof t[i])return e;var s=""+t[i];return"RepresentationID"===i?s:(r=n?parseInt(r,10):1,s.length>=r?s:""+new Array(r-s.length+1).join("0")+s)}},Ut=function(t,e){return t.replace(Bt,jt(e))},Ft=function(t,e){return t.duration||e?t.duration?yt(t):Nt(t,e):[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodIndex}]},zt=function(t,e){var i={RepresentationID:t.id,Bandwidth:t.bandwidth||0},n=t.initialization,r=void 0===n?{sourceURL:"",range:""}:n,s=ft({baseUrl:t.baseUrl,source:Ut(r.sourceURL,i),range:r.range}),a=Ft(t,e);return a.map((function(e){i.Number=e.number,i.Time=e.time;var n=Ut(t.media||"",i),r={uri:n,timeline:e.timeline,duration:e.duration,resolvedUri:I(t.baseUrl||"",n),map:s,number:e.number};return t.presentationTimeOffset&&(r.presentationTimeOffset=t.presentationTimeOffset),r}))},Vt=function(t,e){var i=t.baseUrl,n=t.initialization,r=void 0===n?{}:n,s=ft({baseUrl:i,source:r.sourceURL,range:r.range}),a=ft({baseUrl:i,source:e.media,range:e.mediaRange});return a.map=s,a},Ht=function(t,e){var i=t.duration,n=t.segmentUrls,r=void 0===n?[]:n;if(!i&&!e||i&&e)throw new Error(pt.SEGMENT_TIME_UNSPECIFIED);var s,a=r.map((function(e){return Vt(t,e)}));i&&(s=yt(t)),e&&(s=Nt(t,e));var o=s.map((function(t,e){if(a[e]){var i=a[e];return i.timeline=t.timeline,i.duration=t.duration,i.number=t.number,i}})).filter((function(t){return t}));return o},qt=function(t){var e,i,n=t.attributes,r=t.segmentInfo;r.template?(i=zt,e=ot(n,r.template),r.template.presentationTimeOffset&&(e.presentationTimeOffset=r.template.presentationTimeOffset/r.template.timescale)):r.base?(i=bt,e=ot(n,r.base)):r.list&&(i=Ht,e=ot(n,r.list));var s={attributes:n};if(!i)return s;var a=i(e,r.timeline);if(e.duration){var o=e,l=o.duration,u=o.timescale,h=void 0===u?1:u;e.duration=l/h}else a.length?e.duration=a.reduce((function(t,e){return Math.max(t,Math.ceil(e.duration))}),0):e.duration=0;return s.attributes=e,s.segments=a,r.base&&e.indexRange&&(s.sidx=a[0],s.segments=[]),s},Gt=function(t){return t.map(qt)},Wt=function(t,e){return ct(t.childNodes).filter((function(t){var i=t.tagName;return i===e}))},$t=function(t){return t.textContent.trim()},Kt=function(t){var e=31536e3,i=2592e3,n=86400,r=3600,s=60,a=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/,o=a.exec(t);if(!o)return 0;var l=o.slice(1),u=l[0],h=l[1],c=l[2],d=l[3],p=l[4],f=l[5];return parseFloat(u||0)*e+parseFloat(h||0)*i+parseFloat(c||0)*n+parseFloat(d||0)*r+parseFloat(p||0)*s+parseFloat(f||0)},Zt=function(t){var e=/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/;return e.test(t)&&(t+="Z"),Date.parse(t)},Xt={mediaPresentationDuration:function(t){return Kt(t)},availabilityStartTime:function(t){return Zt(t)/1e3},minimumUpdatePeriod:function(t){return Kt(t)},suggestedPresentationDelay:function(t){return Kt(t)},type:function(t){return t},timeShiftBufferDepth:function(t){return Kt(t)},start:function(t){return Kt(t)},width:function(t){return parseInt(t,10)},height:function(t){return parseInt(t,10)},bandwidth:function(t){return parseInt(t,10)},startNumber:function(t){return parseInt(t,10)},timescale:function(t){return parseInt(t,10)},presentationTimeOffset:function(t){return parseInt(t,10)},duration:function(t){var e=parseInt(t,10);return isNaN(e)?Kt(t):e},d:function(t){return parseInt(t,10)},t:function(t){return parseInt(t,10)},r:function(t){return parseInt(t,10)},DEFAULT:function(t){return t}},Yt=function(t){return t&&t.attributes?ct(t.attributes).reduce((function(t,e){var i=Xt[e.name]||Xt.DEFAULT;return t[e.name]=i(e.value),t}),{}):{}},Qt={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},Jt=function(t,e){return e.length?ht(t.map((function(t){return e.map((function(e){return I(t,$t(e))}))}))):t},te=function(t){var e=Wt(t,"SegmentTemplate")[0],i=Wt(t,"SegmentList")[0],n=i&&Wt(i,"SegmentURL").map((function(t){return ot({tag:"SegmentURL"},Yt(t))})),r=Wt(t,"SegmentBase")[0],s=i||e,a=s&&Wt(s,"SegmentTimeline")[0],o=i||r||e,l=o&&Wt(o,"Initialization")[0],u=e&&Yt(e);u&&l?u.initialization=l&&Yt(l):u&&u.initialization&&(u.initialization={sourceURL:u.initialization});var h={template:u,timeline:a&&Wt(a,"S").map((function(t){return Yt(t)})),list:i&&ot(Yt(i),{segmentUrls:n,initialization:Yt(l)}),base:r&&ot(Yt(r),{initialization:Yt(l)})};return Object.keys(h).forEach((function(t){h[t]||delete h[t]})),h},ee=function(t,e,i){return function(n){var r=Wt(n,"BaseURL"),s=Jt(e,r),a=ot(t,Yt(n)),o=te(n);return s.map((function(t){return{segmentInfo:ot(i,o),attributes:ot(a,{baseUrl:t})}}))}},ie=function(t){return t.reduce((function(t,e){var i=Yt(e),n=Qt[i.schemeIdUri];if(n){t[n]={attributes:i};var r=Wt(e,"cenc:pssh")[0];if(r){var s=$t(r),a=s&&Object(P["a"])(s);t[n].pssh=a}}return t}),{})},ne=function(t,e,i){return function(n){var r=Yt(n),s=Jt(e,Wt(n,"BaseURL")),a=Wt(n,"Role")[0],o={role:Yt(a)},l=ot(t,r,o),u=Wt(n,"Label")[0];if(u&&u.childNodes.length){var h=u.childNodes[0].nodeValue.trim();l=ot(l,{label:h})}var c=ie(Wt(n,"ContentProtection"));Object.keys(c).length&&(l=ot(l,{contentProtection:c}));var d=te(n),p=Wt(n,"Representation"),f=ot(i,d);return ht(p.map(ee(l,s,f)))}},re=function(t,e){return function(i,n){var r=Jt(e,Wt(i,"BaseURL")),a=Yt(i),o=parseInt(a.id,10),l=s.a.isNaN(o)?n:o,u=ot(t,{periodIndex:l}),h=Wt(i,"AdaptationSet"),c=te(i);return ht(h.map(ne(u,r,c)))}},se=function(t,e){void 0===e&&(e={});var i=e,n=i.manifestUri,r=void 0===n?"":n,s=i.NOW,a=void 0===s?Date.now():s,o=i.clientOffset,l=void 0===o?0:o,u=Wt(t,"Period");if(!u.length)throw new Error(pt.INVALID_NUMBER_OF_PERIOD);var h=Wt(t,"Location"),c=Yt(t),d=Jt([r],Wt(t,"BaseURL"));return c.sourceDuration=c.mediaPresentationDuration||0,c.NOW=a,c.clientOffset=l,h.length&&(c.locations=h.map($t)),{locations:c.locations,representationInfo:ht(u.map(re(c,d)))}},ae=function(t){if(""===t)throw new Error(pt.DASH_EMPTY_MANIFEST);var e,i,n=new st["DOMParser"];try{e=n.parseFromString(t,"application/xml"),i=e&&"MPD"===e.documentElement.tagName?e.documentElement:null}catch(r){}if(!i||i&&i.getElementsByTagName("parsererror").length>0)throw new Error(pt.DASH_INVALID_XML);return i},oe=function(t){var e=Wt(t,"UTCTiming")[0];if(!e)return null;var i=Yt(e);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(pt.UNSUPPORTED_UTC_TIMING_SCHEME)}return i},le=function(t,e){void 0===e&&(e={});var i=se(ae(t),e),n=Gt(i.representationInfo);return Rt(n,i.locations,e.sidxMapping)},ue=function(t){return oe(ae(t))},he=i("81c0"),ce=i.n(he),de=function(t){return t.toString(2).length},pe=function(t){return Math.ceil(de(t)/8)},fe=function(t){return ArrayBuffer.isView(t)},me=function(t){return t instanceof Uint8Array?t:(Array.isArray(t)||fe(t)||t instanceof ArrayBuffer||(t="number"!==typeof t||"number"===typeof t&&t!==t?0:[t]),new Uint8Array(t&&t.buffer||t,t&&t.byteOffset||0,t&&t.byteLength||0))},ge=s.a.BigInt||Number,_e=[ge("0x1"),ge("0x100"),ge("0x10000"),ge("0x1000000"),ge("0x100000000"),ge("0x10000000000"),ge("0x1000000000000"),ge("0x100000000000000"),ge("0x10000000000000000")],ve=(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);255===e[0]||e[0]}(),function(t,e){var i=void 0===e?{}:e,n=i.signed,r=void 0!==n&&n,s=i.le,a=void 0!==s&&s;t=me(t);var o=a?"reduce":"reduceRight",l=t[o]?t[o]:Array.prototype[o],u=l.call(t,(function(e,i,n){var r=a?n:Math.abs(n+1-t.length);return e+ge(i)*_e[r]}),ge(0));if(r){var h=_e[t.length]/ge(2)-ge(1);u=ge(u),u>h&&(u-=h,u-=h,u-=ge(2))}return Number(u)}),ye=function(t,e){var i=void 0===e?{}:e,n=i.le,r=void 0!==n&&n;("bigint"!==typeof t&&"number"!==typeof t||"number"===typeof t&&t!==t)&&(t=0),t=ge(t);for(var s=pe(t),a=new Uint8Array(new ArrayBuffer(s)),o=0;o<s;o++){var l=r?o:Math.abs(o+1-a.length);a[l]=Number(t/_e[o]&ge(255)),t<0&&(a[l]=Math.abs(~a[l]),a[l]-=0===o?1:2)}return a},be=function(t){if(!t)return"";t=Array.prototype.slice.call(t);var e=String.fromCharCode.apply(null,me(t));try{return decodeURIComponent(escape(e))}catch(i){}return e},Te=function(t,e){if("string"!==typeof t&&t&&"function"===typeof t.toString&&(t=t.toString()),"string"!==typeof t)return new Uint8Array;e||(t=unescape(encodeURIComponent(t)));for(var i=new Uint8Array(t.length),n=0;n<t.length;n++)i[n]=t.charCodeAt(n);return i},we=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if(e=e.filter((function(t){return t&&(t.byteLength||t.length)&&"string"!==typeof t})),e.length<=1)return me(e[0]);var n=e.reduce((function(t,e,i){return t+(e.byteLength||e.length)}),0),r=new Uint8Array(n),s=0;return e.forEach((function(t){t=me(t),r.set(t,s),s+=t.byteLength})),r},Se=function(t,e,i){var n=void 0===i?{}:i,r=n.offset,s=void 0===r?0:r,a=n.mask,o=void 0===a?[]:a;t=me(t),e=me(e);var l=e.every?e.every:Array.prototype.every;return e.length&&t.length-s>=e.length&&l.call(e,(function(e,i){var n=o[i]?o[i]&t[s+i]:t[s+i];return e===n}))},Ee=me([73,68,51]),Ce=function(t,e){void 0===e&&(e=0),t=me(t);var i=t[e+5],n=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9],r=(16&i)>>4;return r?n+20:n+10},ke=function t(e,i){return void 0===i&&(i=0),e=me(e),e.length-i<10||!Se(e,Ee,{offset:i})?i:(i+=Ce(e,i),t(e,i))},xe=(new Uint8Array([79,112,117,115,72,101,97,100]),function(t){return"string"===typeof t?Te(t):t}),Me=function(t){return Array.isArray(t)?t.map((function(t){return xe(t)})):[xe(t)]},Ae=function(t){t=me(t);var e=[],i=0;while(t.length>i){var r=t[i],s=0,a=0;a++;var o=t[a];a++;while(128&o)s=(127&o)<<7,o=t[a],a++;s+=127&o;for(var l=0;l<n.length;l++){var u=n[l],h=u.id,c=u.parser;if(r===h){e.push(c(t.subarray(a,a+s)));break}}i+=s+a}return e};n=[{id:3,parser:function(t){var e={tag:3,id:t[0]<<8|t[1],flags:t[2],size:3,dependsOnEsId:0,ocrEsId:0,descriptors:[],url:""};if(128&e.flags&&(e.dependsOnEsId=t[e.size]<<8|t[e.size+1],e.size+=2),64&e.flags){var i=t[e.size];e.url=be(t.subarray(e.size+1,e.size+1+i)),e.size+=i}return 32&e.flags&&(e.ocrEsId=t[e.size]<<8|t[e.size+1],e.size+=2),e.descriptors=Ae(t.subarray(e.size))||[],e}},{id:4,parser:function(t){var e={tag:4,oti:t[0],streamType:t[1],bufferSize:t[2]<<16|t[3]<<8|t[4],maxBitrate:t[5]<<24|t[6]<<16|t[7]<<8|t[8],avgBitrate:t[9]<<24|t[10]<<16|t[11]<<8|t[12],descriptors:Ae(t.subarray(13))};return e}},{id:5,parser:function(t){return{tag:5,bytes:t}}},{id:6,parser:function(t){return{tag:6,bytes:t}}}];var Ie=function t(e,i,n){void 0===n&&(n=!1),i=Me(i),e=me(e);var r=[];if(!i.length)return r;var s=0;while(s<e.length){var a=(e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3])>>>0,o=e.subarray(s+4,s+8);if(0===a)break;var l=s+a;if(l>e.length){if(n)break;l=e.length}var u=e.subarray(s+8,l);Se(o,i[0])&&(1===i.length?r.push(u):r.push.apply(r,t(u,i.slice(1),n))),s=l}return r},Oe={EBML:me([26,69,223,163]),DocType:me([66,130]),Segment:me([24,83,128,103]),SegmentInfo:me([21,73,169,102]),Tracks:me([22,84,174,107]),Track:me([174]),TrackNumber:me([215]),DefaultDuration:me([35,227,131]),TrackEntry:me([174]),TrackType:me([131]),FlagDefault:me([136]),CodecID:me([134]),CodecPrivate:me([99,162]),VideoTrack:me([224]),AudioTrack:me([225]),Cluster:me([31,67,182,117]),Timestamp:me([231]),TimestampScale:me([42,215,177]),BlockGroup:me([160]),BlockDuration:me([155]),Block:me([161]),SimpleBlock:me([163])},Pe=[128,64,32,16,8,4,2,1],Le=function(t){for(var e=1,i=0;i<Pe.length;i++){if(t&Pe[i])break;e++}return e},Re=function(t,e,i,n){void 0===i&&(i=!0),void 0===n&&(n=!1);var r=Le(t[e]),s=t.subarray(e,e+r);return i&&(s=Array.prototype.slice.call(t,e,e+r),s[0]^=Pe[r-1]),{length:r,value:ve(s,{signed:n}),bytes:s}},De=function t(e){return"string"===typeof e?e.match(/.{1,2}/g).map((function(e){return t(e)})):"number"===typeof e?ye(e):e},Ne=function(t){return Array.isArray(t)?t.map((function(t){return De(t)})):[De(t)]},Be=function t(e,i,n){if(n>=i.length)return i.length;var r=Re(i,n,!1);if(Se(e.bytes,r.bytes))return n;var s=Re(i,n+r.length);return t(e,i,n+s.length+s.value+r.length)},je=function t(e,i){i=Ne(i),e=me(e);var n=[];if(!i.length)return n;var r=0;while(r<e.length){var s=Re(e,r,!1),a=Re(e,r+s.length),o=r+s.length+a.length;127===a.value&&(a.value=Be(s,e,o),a.value!==e.length&&(a.value-=o));var l=o+a.value>e.length?e.length:o+a.value,u=e.subarray(o,l);Se(i[0],s.bytes)&&(1===i.length?n.push(u):n=n.concat(t(u,i.slice(1))));var h=s.length+a.length+u.length;r+=h}return n},Ue=me([0,0,0,1]),Fe=me([0,0,1]),ze=me([0,0,3]),Ve=function(t){var e=[],i=1;while(i<t.length-2)Se(t.subarray(i,i+3),ze)&&(e.push(i+2),i++),i++;if(0===e.length)return t;var n=t.length-e.length,r=new Uint8Array(n),s=0;for(i=0;i<n;s++,i++)s===e[0]&&(s++,e.shift()),r[i]=t[s];return r},He=function(t,e,i,n){void 0===n&&(n=1/0),t=me(t),i=[].concat(i);var r,s=0,a=0;while(s<t.length&&(a<n||r)){var o=void 0;if(Se(t.subarray(s),Ue)?o=4:Se(t.subarray(s),Fe)&&(o=3),o){if(a++,r)return Ve(t.subarray(r,s));var l=void 0;"h264"===e?l=31&t[s+o]:"h265"===e&&(l=t[s+o]>>1&63),-1!==i.indexOf(l)&&(r=s+o),s+=o+("h264"===e?1:2)}else s++}return t.subarray(0,0)},qe=function(t,e,i){return He(t,"h264",e,i)},Ge=function(t,e,i){return He(t,"h265",e,i)},We={webm:me([119,101,98,109]),matroska:me([109,97,116,114,111,115,107,97]),flac:me([102,76,97,67]),ogg:me([79,103,103,83]),ac3:me([11,119]),riff:me([82,73,70,70]),avi:me([65,86,73]),wav:me([87,65,86,69]),"3gp":me([102,116,121,112,51,103]),mp4:me([102,116,121,112]),fmp4:me([115,116,121,112]),mov:me([102,116,121,112,113,116]),moov:me([109,111,111,118]),moof:me([109,111,111,102])},$e={aac:function(t){var e=ke(t);return Se(t,[255,16],{offset:e,mask:[255,22]})},mp3:function(t){var e=ke(t);return Se(t,[255,2],{offset:e,mask:[255,6]})},webm:function(t){var e=je(t,[Oe.EBML,Oe.DocType])[0];return Se(e,We.webm)},mkv:function(t){var e=je(t,[Oe.EBML,Oe.DocType])[0];return Se(e,We.matroska)},mp4:function(t){return!$e["3gp"](t)&&!$e.mov(t)&&(!(!Se(t,We.mp4,{offset:4})&&!Se(t,We.fmp4,{offset:4}))||(!(!Se(t,We.moof,{offset:4})&&!Se(t,We.moov,{offset:4}))||void 0))},mov:function(t){return Se(t,We.mov,{offset:4})},"3gp":function(t){return Se(t,We["3gp"],{offset:4})},ac3:function(t){var e=ke(t);return Se(t,We.ac3,{offset:e})},ts:function(t){if(t.length<189&&t.length>=1)return 71===t[0];var e=0;while(e+188<t.length&&e<188){if(71===t[e]&&71===t[e+188])return!0;e+=1}return!1},flac:function(t){var e=ke(t);return Se(t,We.flac,{offset:e})},ogg:function(t){return Se(t,We.ogg)},avi:function(t){return Se(t,We.riff)&&Se(t,We.avi,{offset:8})},wav:function(t){return Se(t,We.riff)&&Se(t,We.wav,{offset:8})},h264:function(t){return qe(t,7,3).length},h265:function(t){return Ge(t,[32,33],3).length}},Ke=Object.keys($e).filter((function(t){return"ts"!==t&&"h264"!==t&&"h265"!==t})).concat(["ts","h264","h265"]);Ke.forEach((function(t){var e=$e[t];$e[t]=function(t){return e(me(t))}}));for(var Ze,Xe=$e,Ye=function(t){t=me(t);for(var e=0;e<Ke.length;e++){var i=Ke[e];if(Xe[i](t))return i}return""},Qe=function(t){return Ie(t,["moof"]).length>0},Je=i("36c6"),ti="7.12.4",ei={prefixed:!0},ii=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],ni=ii[0],ri=0;ri<ii.length;ri++)if(ii[ri][1]in o.a){Ze=ii[ri];break}if(Ze){for(var si=0;si<Ze.length;si++)ei[ni[si]]=Ze[si];ei.prefixed=Ze[0]!==ni[0]}var ai=[],oi=function(t,e){return function(i,n,r){var a=e.levels[n],o=new RegExp("^("+a+")$");if("log"!==i&&r.unshift(i.toUpperCase()+":"),r.unshift(t+":"),ai){ai.push([].concat(r));var l=ai.length-1e3;ai.splice(0,l>0?l:0)}if(s.a.console){var u=s.a.console[i];u||"debug"!==i||(u=s.a.console.info||s.a.console.log),u&&a&&o.test(i)&&u[Array.isArray(r)?"apply":"call"](s.a.console,r)}}};function li(t){var e,i="info",n=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e("log",i,n)};return e=oi(t,n),n.createLogger=function(e){return li(t+": "+e)},n.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:i},n.level=function(t){if("string"===typeof t){if(!n.levels.hasOwnProperty(t))throw new Error('"'+t+'" in not a valid log level');i=t}return i},n.history=function(){return ai?[].concat(ai):[]},n.history.filter=function(t){return(ai||[]).filter((function(e){return new RegExp(".*"+t+".*").test(e[0])}))},n.history.clear=function(){ai&&(ai.length=0)},n.history.disable=function(){null!==ai&&(ai.length=0,ai=null)},n.history.enable=function(){null===ai&&(ai=[])},n.error=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e("error",i,n)},n.warn=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e("warn",i,n)},n.debug=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e("debug",i,n)},n}var ui=li("VIDEOJS"),hi=ui.createLogger,ci=Object.prototype.toString,di=function(t){return gi(t)?Object.keys(t):[]};function pi(t,e){di(t).forEach((function(i){return e(t[i],i)}))}function fi(t,e,i){return void 0===i&&(i=0),di(t).reduce((function(i,n){return e(i,t[n],n)}),i)}function mi(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return Object.assign?u.a.apply(void 0,[t].concat(i)):(i.forEach((function(e){e&&pi(e,(function(e,i){t[i]=e}))})),t)}function gi(t){return!!t&&"object"===typeof t}function _i(t){return gi(t)&&"[object Object]"===ci.call(t)&&t.constructor===Object}function vi(t,e){if(!t||!e)return"";if("function"===typeof s.a.getComputedStyle){var i;try{i=s.a.getComputedStyle(t)}catch(n){return""}return i?i.getPropertyValue(e)||i[e]:""}return""}var yi=s.a.navigator&&s.a.navigator.userAgent||"",bi=/AppleWebKit\/([\d.]+)/i.exec(yi),Ti=bi?parseFloat(bi.pop()):null,wi=/iPod/i.test(yi),Si=function(){var t=yi.match(/OS (\d+)_/i);return t&&t[1]?t[1]:null}(),Ei=/Android/i.test(yi),Ci=function(){var t=yi.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),i=t[2]&&parseFloat(t[2]);return e&&i?parseFloat(t[1]+"."+t[2]):e||null}(),ki=Ei&&Ci<5&&Ti<537,xi=/Firefox/i.test(yi),Mi=/Edg/i.test(yi),Ai=!Mi&&(/Chrome/i.test(yi)||/CriOS/i.test(yi)),Ii=function(){var t=yi.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),Oi=function(){var t=/MSIE\s(\d+)\.\d/.exec(yi),e=t&&parseFloat(t[1]);return!e&&/Trident\/7.0/i.test(yi)&&/rv:11.0/.test(yi)&&(e=11),e}(),Pi=/Safari/i.test(yi)&&!Ai&&!Ei&&!Mi,Li=/Windows/i.test(yi),Ri=Boolean(Hi()&&("ontouchstart"in s.a||s.a.navigator.maxTouchPoints||s.a.DocumentTouch&&s.a.document instanceof s.a.DocumentTouch)),Di=/iPad/i.test(yi)||Pi&&Ri&&!/iPhone/i.test(yi),Ni=/iPhone/i.test(yi)&&!Di,Bi=Ni||Di||wi,ji=(Pi||Bi)&&!Ai,Ui=Object.freeze({__proto__:null,IS_IPOD:wi,IOS_VERSION:Si,IS_ANDROID:Ei,ANDROID_VERSION:Ci,IS_NATIVE_ANDROID:ki,IS_FIREFOX:xi,IS_EDGE:Mi,IS_CHROME:Ai,CHROME_VERSION:Ii,IE_VERSION:Oi,IS_SAFARI:Pi,IS_WINDOWS:Li,TOUCH_ENABLED:Ri,IS_IPAD:Di,IS_IPHONE:Ni,IS_IOS:Bi,IS_ANY_SAFARI:ji});function Fi(t){return"string"===typeof t&&Boolean(t.trim())}function zi(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function Vi(t){return new RegExp("(^|\\s)"+t+"($|\\s)")}function Hi(){return o.a===s.a.document}function qi(t){return gi(t)&&1===t.nodeType}function Gi(){try{return s.a.parent!==s.a.self}catch(t){return!0}}function Wi(t){return function(e,i){if(!Fi(e))return o.a[t](null);Fi(i)&&(i=o.a.querySelector(i));var n=qi(i)?i:o.a;return n[t]&&n[t](e)}}function $i(t,e,i,n){void 0===t&&(t="div"),void 0===e&&(e={}),void 0===i&&(i={});var r=o.a.createElement(t);return Object.getOwnPropertyNames(e).forEach((function(t){var i=e[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(ui.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+t+" to "+i+"."),r.setAttribute(t,i)):"textContent"===t?Ki(r,i):r[t]===i&&"tabIndex"!==t||(r[t]=i)})),Object.getOwnPropertyNames(i).forEach((function(t){r.setAttribute(t,i[t])})),n&&fn(r,n),r}function Ki(t,e){return"undefined"===typeof t.textContent?t.innerText=e:t.textContent=e,t}function Zi(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function Xi(t,e){return zi(e),t.classList?t.classList.contains(e):Vi(e).test(t.className)}function Yi(t,e){return t.classList?t.classList.add(e):Xi(t,e)||(t.className=(t.className+" "+e).trim()),t}function Qi(t,e){return t.classList?t.classList.remove(e):(zi(e),t.className=t.className.split(/\s+/).filter((function(t){return t!==e})).join(" ")),t}function Ji(t,e,i){var n=Xi(t,e);if("function"===typeof i&&(i=i(t,e)),"boolean"!==typeof i&&(i=!n),i!==n)return i?Yi(t,e):Qi(t,e),t}function tn(t,e){Object.getOwnPropertyNames(e).forEach((function(i){var n=e[i];null===n||"undefined"===typeof n||!1===n?t.removeAttribute(i):t.setAttribute(i,!0===n?"":n)}))}function en(t){var e={},i=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&t.attributes.length>0)for(var n=t.attributes,r=n.length-1;r>=0;r--){var s=n[r].name,a=n[r].value;"boolean"!==typeof t[s]&&-1===i.indexOf(","+s+",")||(a=null!==a),e[s]=a}return e}function nn(t,e){return t.getAttribute(e)}function rn(t,e,i){t.setAttribute(e,i)}function sn(t,e){t.removeAttribute(e)}function an(){o.a.body.focus(),o.a.onselectstart=function(){return!1}}function on(){o.a.onselectstart=function(){return!0}}function ln(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),i={};return["bottom","height","left","right","top","width"].forEach((function(t){void 0!==e[t]&&(i[t]=e[t])})),i.height||(i.height=parseFloat(vi(t,"height"))),i.width||(i.width=parseFloat(vi(t,"width"))),i}}function un(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};var e=t.offsetWidth,i=t.offsetHeight,n=0,r=0;while(t.offsetParent&&t!==o.a[ei.fullscreenElement])n+=t.offsetLeft,r+=t.offsetTop,t=t.offsetParent;return{left:n,top:r,width:e,height:i}}function hn(t,e){var i={x:0,y:0};if(Bi){var n=t;while(n&&"html"!==n.nodeName.toLowerCase()){var r=vi(n,"transform");if(/^matrix/.test(r)){var s=r.slice(7,-1).split(/,\s/).map(Number);i.x+=s[4],i.y+=s[5]}else if(/^matrix3d/.test(r)){var a=r.slice(9,-1).split(/,\s/).map(Number);i.x+=a[12],i.y+=a[13]}n=n.parentNode}}var o={},l=un(e.target),u=un(t),h=u.width,c=u.height,d=e.offsetY-(u.top-l.top),p=e.offsetX-(u.left-l.left);return e.changedTouches&&(p=e.changedTouches[0].pageX-u.left,d=e.changedTouches[0].pageY+u.top,Bi&&(p-=i.x,d-=i.y)),o.y=1-Math.max(0,Math.min(1,d/c)),o.x=Math.max(0,Math.min(1,p/h)),o}function cn(t){return gi(t)&&3===t.nodeType}function dn(t){while(t.firstChild)t.removeChild(t.firstChild);return t}function pn(t){return"function"===typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map((function(t){return"function"===typeof t&&(t=t()),qi(t)||cn(t)?t:"string"===typeof t&&/\S/.test(t)?o.a.createTextNode(t):void 0})).filter((function(t){return t}))}function fn(t,e){return pn(e).forEach((function(e){return t.appendChild(e)})),t}function mn(t,e){return fn(dn(t),e)}function gn(t){return void 0===t.button&&void 0===t.buttons||(0===t.button&&void 0===t.buttons||("mouseup"===t.type&&0===t.button&&0===t.buttons||0===t.button&&1===t.buttons))}var _n,vn=Wi("querySelector"),yn=Wi("querySelectorAll"),bn=Object.freeze({__proto__:null,isReal:Hi,isEl:qi,isInFrame:Gi,createEl:$i,textContent:Ki,prependTo:Zi,hasClass:Xi,addClass:Yi,removeClass:Qi,toggleClass:Ji,setAttributes:tn,getAttributes:en,getAttribute:nn,setAttribute:rn,removeAttribute:sn,blockTextSelection:an,unblockTextSelection:on,getBoundingClientRect:ln,findPosition:un,getPointerPosition:hn,isTextNode:cn,emptyEl:dn,normalizeContent:pn,appendContent:fn,insertContent:mn,isSingleLeftClick:gn,$:vn,$$:yn}),Tn=!1,wn=function(){if(!1!==_n.options.autoSetup){var t=Array.prototype.slice.call(o.a.getElementsByTagName("video")),e=Array.prototype.slice.call(o.a.getElementsByTagName("audio")),i=Array.prototype.slice.call(o.a.getElementsByTagName("video-js")),n=t.concat(e,i);if(n&&n.length>0)for(var r=0,s=n.length;r<s;r++){var a=n[r];if(!a||!a.getAttribute){Sn(1);break}if(void 0===a.player){var l=a.getAttribute("data-setup");null!==l&&_n(a)}}else Tn||Sn(1)}};function Sn(t,e){Hi()&&(e&&(_n=e),s.a.setTimeout(wn,t))}function En(){Tn=!0,s.a.removeEventListener("load",En)}Hi()&&("complete"===o.a.readyState?En():s.a.addEventListener("load",En));var Cn,kn=function(t){var e=o.a.createElement("style");return e.className=t,e},xn=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e},Mn=3,An=Mn;function In(){return An++}s.a.WeakMap||(Cn=function(){function t(){this.vdata="vdata"+Math.floor(s.a.performance&&s.a.performance.now()||Date.now()),this.data={}}var e=t.prototype;return e.set=function(t,e){var i=t[this.vdata]||In();return t[this.vdata]||(t[this.vdata]=i),this.data[i]=e,this},e.get=function(t){var e=t[this.vdata];if(e)return this.data[e];ui("We have no data for this element",t)},e.has=function(t){var e=t[this.vdata];return e in this.data},e["delete"]=function(t){var e=t[this.vdata];e&&(delete this.data[e],delete t[this.vdata])},t}());var On,Pn=s.a.WeakMap?new WeakMap:new Cn;function Ln(t,e){if(Pn.has(t)){var i=Pn.get(t);0===i.handlers[e].length&&(delete i.handlers[e],t.removeEventListener?t.removeEventListener(e,i.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),0===Object.getOwnPropertyNames(i).length&&Pn["delete"](t)}}function Rn(t,e,i,n){i.forEach((function(i){t(e,i,n)}))}function Dn(t){if(t.fixed_)return t;function e(){return!0}function i(){return!1}if(!t||!t.isPropagationStopped){var n=t||s.a.event;for(var r in t={},n)"layerX"!==r&&"layerY"!==r&&"keyLocation"!==r&&"webkitMovementX"!==r&&"webkitMovementY"!==r&&("returnValue"===r&&n.preventDefault||(t[r]=n[r]));if(t.target||(t.target=t.srcElement||o.a),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){n.preventDefault&&n.preventDefault(),t.returnValue=!1,n.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),t.cancelBubble=!0,n.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=i,t.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=i,null!==t.clientX&&void 0!==t.clientX){var a=o.a.documentElement,l=o.a.body;t.pageX=t.clientX+(a&&a.scrollLeft||l&&l.scrollLeft||0)-(a&&a.clientLeft||l&&l.clientLeft||0),t.pageY=t.clientY+(a&&a.scrollTop||l&&l.scrollTop||0)-(a&&a.clientTop||l&&l.clientTop||0)}t.which=t.charCode||t.keyCode,null!==t.button&&void 0!==t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t.fixed_=!0,t}var Nn=function(){if("boolean"!==typeof On){On=!1;try{var t=Object.defineProperty({},"passive",{get:function(){On=!0}});s.a.addEventListener("test",null,t),s.a.removeEventListener("test",null,t)}catch(e){}}return On},Bn=["touchstart","touchmove"];function jn(t,e,i){if(Array.isArray(e))return Rn(jn,t,e,i);Pn.has(t)||Pn.set(t,{});var n=Pn.get(t);if(n.handlers||(n.handlers={}),n.handlers[e]||(n.handlers[e]=[]),i.guid||(i.guid=In()),n.handlers[e].push(i),n.dispatcher||(n.disabled=!1,n.dispatcher=function(e,i){if(!n.disabled){e=Dn(e);var r=n.handlers[e.type];if(r)for(var s=r.slice(0),a=0,o=s.length;a<o;a++){if(e.isImmediatePropagationStopped())break;try{s[a].call(t,e,i)}catch(l){ui.error(l)}}}}),1===n.handlers[e].length)if(t.addEventListener){var r=!1;Nn()&&Bn.indexOf(e)>-1&&(r={passive:!0}),t.addEventListener(e,n.dispatcher,r)}else t.attachEvent&&t.attachEvent("on"+e,n.dispatcher)}function Un(t,e,i){if(Pn.has(t)){var n=Pn.get(t);if(n.handlers){if(Array.isArray(e))return Rn(Un,t,e,i);var r=function(t,e){n.handlers[e]=[],Ln(t,e)};if(void 0!==e){var s=n.handlers[e];if(s)if(i){if(i.guid)for(var a=0;a<s.length;a++)s[a].guid===i.guid&&s.splice(a--,1);Ln(t,e)}else r(t,e)}else for(var o in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},o)&&r(t,o)}}}function Fn(t,e,i){var n=Pn.has(t)?Pn.get(t):{},r=t.parentNode||t.ownerDocument;if("string"===typeof e?e={type:e,target:t}:e.target||(e.target=t),e=Dn(e),n.dispatcher&&n.dispatcher.call(t,e,i),r&&!e.isPropagationStopped()&&!0===e.bubbles)Fn.call(null,r,e,i);else if(!r&&!e.defaultPrevented&&e.target&&e.target[e.type]){Pn.has(e.target)||Pn.set(e.target,{});var s=Pn.get(e.target);e.target[e.type]&&(s.disabled=!0,"function"===typeof e.target[e.type]&&e.target[e.type](),s.disabled=!1)}return!e.defaultPrevented}function zn(t,e,i){if(Array.isArray(e))return Rn(zn,t,e,i);var n=function n(){Un(t,e,n),i.apply(this,arguments)};n.guid=i.guid=i.guid||In(),jn(t,e,n)}function Vn(t,e,i){var n=function n(){Un(t,e,n),i.apply(this,arguments)};n.guid=i.guid=i.guid||In(),jn(t,e,n)}var Hn,qn=Object.freeze({__proto__:null,fixEvent:Dn,on:jn,off:Un,trigger:Fn,one:zn,any:Vn}),Gn=30,Wn=function(t,e,i){e.guid||(e.guid=In());var n=e.bind(t);return n.guid=i?i+"_"+e.guid:e.guid,n},$n=function(t,e){var i=s.a.performance.now(),n=function(){var n=s.a.performance.now();n-i>=e&&(t.apply(void 0,arguments),i=n)};return n},Kn=function(t,e,i,n){var r;void 0===n&&(n=s.a);var a=function(){n.clearTimeout(r),r=null},o=function(){var s=this,a=arguments,o=function(){r=null,o=null,i||t.apply(s,a)};!r&&i&&t.apply(s,a),n.clearTimeout(r),r=n.setTimeout(o,e)};return o.cancel=a,o},Zn=function(){};Zn.prototype.allowedEvents_={},Zn.prototype.on=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},jn(this,t,e),this.addEventListener=i},Zn.prototype.addEventListener=Zn.prototype.on,Zn.prototype.off=function(t,e){Un(this,t,e)},Zn.prototype.removeEventListener=Zn.prototype.off,Zn.prototype.one=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},zn(this,t,e),this.addEventListener=i},Zn.prototype.any=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},Vn(this,t,e),this.addEventListener=i},Zn.prototype.trigger=function(t){var e=t.type||t;"string"===typeof t&&(t={type:e}),t=Dn(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),Fn(this,t)},Zn.prototype.dispatchEvent=Zn.prototype.trigger,Zn.prototype.queueTrigger=function(t){var e=this;Hn||(Hn=new Map);var i=t.type||t,n=Hn.get(this);n||(n=new Map,Hn.set(this,n));var r=n.get(i);n["delete"](i),s.a.clearTimeout(r);var a=s.a.setTimeout((function(){0===n.size&&(n=null,Hn["delete"](e)),e.trigger(t)}),0);n.set(i,a)};var Xn=function(t){return"function"===typeof t.name?t.name():"string"===typeof t.name?t.name:t.name_?t.name_:t.constructor&&t.constructor.name?t.constructor.name:typeof t},Yn=function(t){return t instanceof Zn||!!t.eventBusEl_&&["on","one","off","trigger"].every((function(e){return"function"===typeof t[e]}))},Qn=function(t,e){Yn(t)?e():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(e))},Jn=function(t){return"string"===typeof t&&/\S/.test(t)||Array.isArray(t)&&!!t.length},tr=function(t,e,i){if(!t||!t.nodeName&&!Yn(t))throw new Error("Invalid target for "+Xn(e)+"#"+i+"; must be a DOM node or evented object.")},er=function(t,e,i){if(!Jn(t))throw new Error("Invalid event type for "+Xn(e)+"#"+i+"; must be a non-empty string or array.")},ir=function(t,e,i){if("function"!==typeof t)throw new Error("Invalid listener for "+Xn(e)+"#"+i+"; must be a function.")},nr=function(t,e,i){var n,r,s,a=e.length<3||e[0]===t||e[0]===t.eventBusEl_;return a?(n=t.eventBusEl_,e.length>=3&&e.shift(),r=e[0],s=e[1]):(n=e[0],r=e[1],s=e[2]),tr(n,t,i),er(r,t,i),ir(s,t,i),s=Wn(t,s),{isTargetingSelf:a,target:n,type:r,listener:s}},rr=function(t,e,i,n){tr(t,t,e),t.nodeName?qn[e](t,i,n):t[e](i,n)},sr={on:function(){for(var t=this,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];var r=nr(this,i,"on"),s=r.isTargetingSelf,a=r.target,o=r.type,l=r.listener;if(rr(a,"on",o,l),!s){var u=function(){return t.off(a,o,l)};u.guid=l.guid;var h=function(){return t.off("dispose",u)};h.guid=l.guid,rr(this,"on","dispose",u),rr(a,"on","dispose",h)}},one:function(){for(var t=this,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];var r=nr(this,i,"one"),s=r.isTargetingSelf,a=r.target,o=r.type,l=r.listener;if(s)rr(a,"one",o,l);else{var u=function e(){t.off(a,o,e);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];l.apply(null,n)};u.guid=l.guid,rr(a,"one",o,u)}},any:function(){for(var t=this,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];var r=nr(this,i,"any"),s=r.isTargetingSelf,a=r.target,o=r.type,l=r.listener;if(s)rr(a,"any",o,l);else{var u=function e(){t.off(a,o,e);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];l.apply(null,n)};u.guid=l.guid,rr(a,"any",o,u)}},off:function(t,e,i){if(!t||Jn(t))Un(this.eventBusEl_,t,e);else{var n=t,r=e;tr(n,this,"off"),er(r,this,"off"),ir(i,this,"off"),i=Wn(this,i),this.off("dispose",i),n.nodeName?(Un(n,r,i),Un(n,"dispose",i)):Yn(n)&&(n.off(r,i),n.off("dispose",i))}},trigger:function(t,e){tr(this.eventBusEl_,this,"trigger");var i=t&&"string"!==typeof t?t.type:t;if(!Jn(i)){var n="Invalid event type for "+Xn(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(!t)throw new Error(n);(this.log||ui).error(n)}return Fn(this.eventBusEl_,t,e)}};function ar(t,e){void 0===e&&(e={});var i=e,n=i.eventBusKey;if(n){if(!t[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');t.eventBusEl_=t[n]}else t.eventBusEl_=$i("span",{className:"vjs-event-bus"});return mi(t,sr),t.eventedCallbacks&&t.eventedCallbacks.forEach((function(t){t()})),t.on("dispose",(function(){t.off(),s.a.setTimeout((function(){t.eventBusEl_=null}),0)})),t}var or={state:{},setState:function(t){var e,i=this;return"function"===typeof t&&(t=t()),pi(t,(function(t,n){i.state[n]!==t&&(e=e||{},e[n]={from:i.state[n],to:t}),i.state[n]=t})),e&&Yn(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function lr(t,e){return mi(t,or),t.state=mi({},t.state,e),"function"===typeof t.handleStateChanged&&Yn(t)&&t.on("statechanged",t.handleStateChanged),t}var ur=function(t){return"string"!==typeof t?t:t.replace(/./,(function(t){return t.toLowerCase()}))},hr=function(t){return"string"!==typeof t?t:t.replace(/./,(function(t){return t.toUpperCase()}))},cr=function(t,e){return hr(t)===hr(e)};function dr(){for(var t={},e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return i.forEach((function(e){e&&pi(e,(function(e,i){_i(e)?(_i(t[i])||(t[i]={}),t[i]=dr(t[i],e)):t[i]=e}))})),t}var pr=function(){function t(){this.map_={}}var e=t.prototype;return e.has=function(t){return t in this.map_},e["delete"]=function(t){var e=this.has(t);return delete this.map_[t],e},e.set=function(t,e){return this.map_[t]=e,this},e.forEach=function(t,e){for(var i in this.map_)t.call(e,this.map_[i],i,this)},t}(),fr=s.a.Map?s.a.Map:pr,mr=function(){function t(){this.set_={}}var e=t.prototype;return e.has=function(t){return t in this.set_},e["delete"]=function(t){var e=this.has(t);return delete this.set_[t],e},e.add=function(t){return this.set_[t]=1,this},e.forEach=function(t,e){for(var i in this.set_)t.call(e,i,i,this)},t}(),gr=s.a.Set?s.a.Set:mr,_r=function(){function t(t,e,i){if(!t&&this.play?this.player_=t=this:this.player_=t,this.isDisposed_=!1,this.parentComponent_=null,this.options_=dr({},this.options_),e=this.options_=dr(this.options_,e),this.id_=e.id||e.el&&e.el.id,!this.id_){var n=t&&t.id&&t.id()||"no_player";this.id_=n+"_component_"+In()}this.name_=e.name||null,e.el?this.el_=e.el:!1!==e.createEl&&(this.el_=this.createEl()),!1!==e.evented&&(ar(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),lr(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new gr,this.setIntervalIds_=new gr,this.rafIds_=new gr,this.namedRafs_=new fr,this.clearingTimersOnDispose_=!1,!1!==e.initChildren&&this.initChildren(),this.ready(i),!1!==e.reportTouchActivity&&this.enableTouchActivity()}var e=t.prototype;return e.dispose=function(){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),Pn.has(this.el_)&&Pn["delete"](this.el_),this.el_=null),this.player_=null}},e.isDisposed=function(){return Boolean(this.isDisposed_)},e.player=function(){return this.player_},e.options=function(t){return t?(this.options_=dr(this.options_,t),this.options_):this.options_},e.el=function(){return this.el_},e.createEl=function(t,e,i){return $i(t,e,i)},e.localize=function(t,e,i){void 0===i&&(i=t);var n=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),s=r&&r[n],a=n&&n.split("-")[0],o=r&&r[a],l=i;return s&&s[t]?l=s[t]:o&&o[t]&&(l=o[t]),e&&(l=l.replace(/\{(\d+)\}/g,(function(t,i){var n=e[i-1],r=n;return"undefined"===typeof n&&(r=t),r}))),l},e.handleLanguagechange=function(){},e.contentEl=function(){return this.contentEl_||this.el_},e.id=function(){return this.id_},e.name=function(){return this.name_},e.children=function(){return this.children_},e.getChildById=function(t){return this.childIndex_[t]},e.getChild=function(t){if(t)return this.childNameIndex_[t]},e.getDescendant=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e=e.reduce((function(t,e){return t.concat(e)}),[]);for(var n=this,r=0;r<e.length;r++)if(n=n.getChild(e[r]),!n||!n.getChild)return;return n},e.addChild=function(e,i,n){var r,s;if(void 0===i&&(i={}),void 0===n&&(n=this.children_.length),"string"===typeof e){s=hr(e);var a=i.componentClass||s;i.name=s;var o=t.getComponent(a);if(!o)throw new Error("Component "+a+" does not exist");if("function"!==typeof o)return null;r=new o(this.player_||this,i)}else r=e;if(r.parentComponent_&&r.parentComponent_.removeChild(r),this.children_.splice(n,0,r),r.parentComponent_=this,"function"===typeof r.id&&(this.childIndex_[r.id()]=r),s=s||r.name&&hr(r.name()),s&&(this.childNameIndex_[s]=r,this.childNameIndex_[ur(s)]=r),"function"===typeof r.el&&r.el()){var l=null;this.children_[n+1]&&(this.children_[n+1].el_?l=this.children_[n+1].el_:qi(this.children_[n+1])&&(l=this.children_[n+1])),this.contentEl().insertBefore(r.el(),l)}return r},e.removeChild=function(t){if("string"===typeof t&&(t=this.getChild(t)),t&&this.children_){for(var e=!1,i=this.children_.length-1;i>=0;i--)if(this.children_[i]===t){e=!0,this.children_.splice(i,1);break}if(e){t.parentComponent_=null,this.childIndex_[t.id()]=null,this.childNameIndex_[hr(t.name())]=null,this.childNameIndex_[ur(t.name())]=null;var n=t.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},e.initChildren=function(){var e=this,i=this.options_.children;if(i){var n,r=this.options_,s=function(t){var i=t.name,n=t.opts;if(void 0!==r[i]&&(n=r[i]),!1!==n){!0===n&&(n={}),n.playerOptions=e.options_.playerOptions;var s=e.addChild(i,n);s&&(e[i]=s)}},a=t.getComponent("Tech");n=Array.isArray(i)?i:Object.keys(i),n.concat(Object.keys(this.options_).filter((function(t){return!n.some((function(e){return"string"===typeof e?t===e:t===e.name}))}))).map((function(t){var n,r;return"string"===typeof t?(n=t,r=i[n]||e.options_[n]||{}):(n=t.name,r=t),{name:n,opts:r}})).filter((function(e){var i=t.getComponent(e.opts.componentClass||hr(e.name));return i&&!a.isTech(i)})).forEach(s)}},e.buildCSSClass=function(){return""},e.ready=function(t,e){if(void 0===e&&(e=!1),t)return this.isReady_?void(e?t.call(this):this.setTimeout(t,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(t))},e.triggerReady=function(){this.isReady_=!0,this.setTimeout((function(){var t=this.readyQueue_;this.readyQueue_=[],t&&t.length>0&&t.forEach((function(t){t.call(this)}),this),this.trigger("ready")}),1)},e.$=function(t,e){return vn(t,e||this.contentEl())},e.$$=function(t,e){return yn(t,e||this.contentEl())},e.hasClass=function(t){return Xi(this.el_,t)},e.addClass=function(t){Yi(this.el_,t)},e.removeClass=function(t){Qi(this.el_,t)},e.toggleClass=function(t,e){Ji(this.el_,t,e)},e.show=function(){this.removeClass("vjs-hidden")},e.hide=function(){this.addClass("vjs-hidden")},e.lockShowing=function(){this.addClass("vjs-lock-showing")},e.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.getAttribute=function(t){return nn(this.el_,t)},e.setAttribute=function(t,e){rn(this.el_,t,e)},e.removeAttribute=function(t){sn(this.el_,t)},e.width=function(t,e){return this.dimension("width",t,e)},e.height=function(t,e){return this.dimension("height",t,e)},e.dimensions=function(t,e){this.width(t,!0),this.height(e)},e.dimension=function(t,e,i){if(void 0!==e)return null!==e&&e===e||(e=0),-1!==(""+e).indexOf("%")||-1!==(""+e).indexOf("px")?this.el_.style[t]=e:this.el_.style[t]="auto"===e?"":e+"px",void(i||this.trigger("componentresize"));if(!this.el_)return 0;var n=this.el_.style[t],r=n.indexOf("px");return-1!==r?parseInt(n.slice(0,r),10):parseInt(this.el_["offset"+hr(t)],10)},e.currentDimension=function(t){var e=0;if("width"!==t&&"height"!==t)throw new Error("currentDimension only accepts width or height value");if(e=vi(this.el_,t),e=parseFloat(e),0===e||isNaN(e)){var i="offset"+hr(t);e=this.el_[i]}return e},e.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.currentWidth=function(){return this.currentDimension("width")},e.currentHeight=function(){return this.currentDimension("height")},e.focus=function(){this.el_.focus()},e.blur=function(){this.el_.blur()},e.handleKeyDown=function(t){this.player_&&(t.stopPropagation(),this.player_.handleKeyDown(t))},e.handleKeyPress=function(t){this.handleKeyDown(t)},e.emitTapEvents=function(){var t,e=0,i=null,n=10,r=200;this.on("touchstart",(function(n){1===n.touches.length&&(i={pageX:n.touches[0].pageX,pageY:n.touches[0].pageY},e=s.a.performance.now(),t=!0)})),this.on("touchmove",(function(e){if(e.touches.length>1)t=!1;else if(i){var r=e.touches[0].pageX-i.pageX,s=e.touches[0].pageY-i.pageY,a=Math.sqrt(r*r+s*s);a>n&&(t=!1)}}));var a=function(){t=!1};this.on("touchleave",a),this.on("touchcancel",a),this.on("touchend",(function(n){if(i=null,!0===t){var a=s.a.performance.now()-e;a<r&&(n.preventDefault(),this.trigger("tap"))}}))},e.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t,e=Wn(this.player(),this.player().reportUserActivity);this.on("touchstart",(function(){e(),this.clearInterval(t),t=this.setInterval(e,250)}));var i=function(i){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",i),this.on("touchcancel",i)}},e.setTimeout=function(t,e){var i,n=this;return t=Wn(this,t),this.clearTimersOnDispose_(),i=s.a.setTimeout((function(){n.setTimeoutIds_.has(i)&&n.setTimeoutIds_["delete"](i),t()}),e),this.setTimeoutIds_.add(i),i},e.clearTimeout=function(t){return this.setTimeoutIds_.has(t)&&(this.setTimeoutIds_["delete"](t),s.a.clearTimeout(t)),t},e.setInterval=function(t,e){t=Wn(this,t),this.clearTimersOnDispose_();var i=s.a.setInterval(t,e);return this.setIntervalIds_.add(i),i},e.clearInterval=function(t){return this.setIntervalIds_.has(t)&&(this.setIntervalIds_["delete"](t),s.a.clearInterval(t)),t},e.requestAnimationFrame=function(t){var e,i=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),t=Wn(this,t),e=s.a.requestAnimationFrame((function(){i.rafIds_.has(e)&&i.rafIds_["delete"](e),t()})),this.rafIds_.add(e),e):this.setTimeout(t,1e3/60)},e.requestNamedAnimationFrame=function(t,e){var i=this;if(!this.namedRafs_.has(t)){this.clearTimersOnDispose_(),e=Wn(this,e);var n=this.requestAnimationFrame((function(){e(),i.namedRafs_.has(t)&&i.namedRafs_["delete"](t)}));return this.namedRafs_.set(t,n),t}},e.cancelNamedAnimationFrame=function(t){this.namedRafs_.has(t)&&(this.cancelAnimationFrame(this.namedRafs_.get(t)),this.namedRafs_["delete"](t))},e.cancelAnimationFrame=function(t){return this.supportsRaf_?(this.rafIds_.has(t)&&(this.rafIds_["delete"](t),s.a.cancelAnimationFrame(t)),t):this.clearTimeout(t)},e.clearTimersOnDispose_=function(){var t=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",(function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach((function(e){var i=e[0],n=e[1];t[i].forEach((function(e,i){return t[n](i)}))})),t.clearingTimersOnDispose_=!1})))},t.registerComponent=function(e,i){if("string"!==typeof e||!e)throw new Error('Illegal component name, "'+e+'"; must be a non-empty string.');var n,r=t.getComponent("Tech"),s=r&&r.isTech(i),a=t===i||t.prototype.isPrototypeOf(i.prototype);if(s||!a)throw n=s?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+e+'"; '+n+".");e=hr(e),t.components_||(t.components_={});var o=t.getComponent("Player");if("Player"===e&&o&&o.players){var l=o.players,u=Object.keys(l);if(l&&u.length>0&&u.map((function(t){return l[t]})).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return t.components_[e]=i,t.components_[ur(e)]=i,i},t.getComponent=function(e){if(e&&t.components_)return t.components_[e]},t}();function vr(t,e,i){if("number"!==typeof e||e<0||e>i)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+i+").")}function yr(t,e,i,n){return vr(t,n,i.length-1),i[n][e]}function br(t){return void 0===t||0===t.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:t.length,start:yr.bind(null,"start",0,t),end:yr.bind(null,"end",1,t)}}function Tr(t,e){return Array.isArray(t)?br(t):void 0===t||void 0===e?br():br([[t,e]])}function wr(t,e){var i,n,r=0;if(!e)return 0;t&&t.length||(t=Tr(0,0));for(var s=0;s<t.length;s++)i=t.start(s),n=t.end(s),n>e&&(n=e),r+=n-i;return r/e}function Sr(t){if(t instanceof Sr)return t;"number"===typeof t?this.code=t:"string"===typeof t?this.message=t:gi(t)&&("number"===typeof t.code&&(this.code=t.code),mi(this,t)),this.message||(this.message=Sr.defaultMessages[this.code]||"")}_r.prototype.supportsRaf_="function"===typeof s.a.requestAnimationFrame&&"function"===typeof s.a.cancelAnimationFrame,_r.registerComponent("Component",_r),Sr.prototype.code=0,Sr.prototype.message="",Sr.prototype.status=null,Sr.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],Sr.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Er=0;Er<Sr.errorTypes.length;Er++)Sr[Sr.errorTypes[Er]]=Er,Sr.prototype[Sr.errorTypes[Er]]=Er;function Cr(t){return void 0!==t&&null!==t&&"function"===typeof t.then}function kr(t){Cr(t)&&t.then(null,(function(t){}))}var xr=function(t){var e=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(e,i,n){return t[i]&&(e[i]=t[i]),e}),{cues:t.cues&&Array.prototype.map.call(t.cues,(function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}}))});return e},Mr=function(t){var e=t.$$("track"),i=Array.prototype.map.call(e,(function(t){return t.track})),n=Array.prototype.map.call(e,(function(t){var e=xr(t.track);return t.src&&(e.src=t.src),e}));return n.concat(Array.prototype.filter.call(t.textTracks(),(function(t){return-1===i.indexOf(t)})).map(xr))},Ar=function(t,e){return t.forEach((function(t){var i=e.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach((function(t){return i.addCue(t)}))})),e.textTracks()},Ir={textTracksToJson:Mr,jsonToTextTracks:Ar,trackToJson_:xr},Or="vjs-modal-dialog",Pr=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.handleKeyDown_=function(t){return n.handleKeyDown(t)},n.close_=function(t){return n.close(t)},n.opened_=n.hasBeenOpened_=n.hasBeenFilled_=!1,n.closeable(!n.options_.uncloseable),n.content(n.options_.content),n.contentEl_=$i("div",{className:Or+"-content"},{role:"document"}),n.descEl_=$i("p",{className:Or+"-description vjs-control-text",id:n.el().getAttribute("aria-describedby")}),Ki(n.descEl_,n.description()),n.el_.appendChild(n.descEl_),n.el_.appendChild(n.contentEl_),n}p()(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},i.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,t.prototype.dispose.call(this)},i.buildCSSClass=function(){return Or+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},i.label=function(){return this.localize(this.options_.label||"Modal Window")},i.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},i.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},i.opened=function(t){return"boolean"===typeof t&&this[t?"open":"close"](),this.opened_},i.close=function(){if(this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},i.closeable=function(t){if("boolean"===typeof t){var e=this.closeable_=!!t,i=this.getChild("closeButton");if(e&&!i){var n=this.contentEl_;this.contentEl_=this.el_,i=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=n,this.on(i,"close",this.close_)}!e&&i&&(this.off(i,"close",this.close_),this.removeChild(i),i.dispose())}return this.closeable_},i.fill=function(){this.fillWith(this.content())},i.fillWith=function(t){var e=this.contentEl(),i=e.parentNode,n=e.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,i.removeChild(e),this.empty(),mn(e,t),this.trigger("modalfill"),n?i.insertBefore(e,n):i.appendChild(e);var r=this.getChild("closeButton");r&&i.appendChild(r.el_)},i.empty=function(){this.trigger("beforemodalempty"),dn(this.contentEl()),this.trigger("modalempty")},i.content=function(t){return"undefined"!==typeof t&&(this.content_=t),this.content_},i.conditionalFocus_=function(){var t=o.a.activeElement,e=this.player_.el_;this.previouslyActiveEl_=null,(e.contains(t)||e===t)&&(this.previouslyActiveEl_=t,this.focus())},i.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},i.handleKeyDown=function(t){if(t.stopPropagation(),_.a.isEventKey(t,"Escape")&&this.closeable())return t.preventDefault(),void this.close();if(_.a.isEventKey(t,"Tab")){for(var e,i=this.focusableEls_(),n=this.el_.querySelector(":focus"),r=0;r<i.length;r++)if(n===i[r]){e=r;break}o.a.activeElement===this.el_&&(e=0),t.shiftKey&&0===e?(i[i.length-1].focus(),t.preventDefault()):t.shiftKey||e!==i.length-1||(i[0].focus(),t.preventDefault())}},i.focusableEls_=function(){var t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,(function(t){return(t instanceof s.a.HTMLAnchorElement||t instanceof s.a.HTMLAreaElement)&&t.hasAttribute("href")||(t instanceof s.a.HTMLInputElement||t instanceof s.a.HTMLSelectElement||t instanceof s.a.HTMLTextAreaElement||t instanceof s.a.HTMLButtonElement)&&!t.hasAttribute("disabled")||t instanceof s.a.HTMLIFrameElement||t instanceof s.a.HTMLObjectElement||t instanceof s.a.HTMLEmbedElement||t.hasAttribute("tabindex")&&-1!==t.getAttribute("tabindex")||t.hasAttribute("contenteditable")}))},e}(_r);Pr.prototype.options_={pauseOnOpen:!0,temporary:!0},_r.registerComponent("ModalDialog",Pr);var Lr=function(t){function e(e){var i;void 0===e&&(e=[]),i=t.call(this)||this,i.tracks_=[],Object.defineProperty(c()(i),"length",{get:function(){return this.tracks_.length}});for(var n=0;n<e.length;n++)i.addTrack(e[n]);return i}p()(e,t);var i=e.prototype;return i.addTrack=function(t){var e=this,i=this.tracks_.length;""+i in this||Object.defineProperty(this,i,{get:function(){return this.tracks_[i]}}),-1===this.tracks_.indexOf(t)&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack",target:this})),t.labelchange_=function(){e.trigger({track:t,type:"labelchange",target:e})},Yn(t)&&t.addEventListener("labelchange",t.labelchange_)},i.removeTrack=function(t){for(var e,i=0,n=this.length;i<n;i++)if(this[i]===t){e=this[i],e.off&&e.off(),this.tracks_.splice(i,1);break}e&&this.trigger({track:e,type:"removetrack",target:this})},i.getTrackById=function(t){for(var e=null,i=0,n=this.length;i<n;i++){var r=this[i];if(r.id===t){e=r;break}}return e},e}(Zn);for(var Rr in Lr.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"},Lr.prototype.allowedEvents_)Lr.prototype["on"+Rr]=null;var Dr=function(t,e){for(var i=0;i<t.length;i++)Object.keys(t[i]).length&&e.id!==t[i].id&&(t[i].enabled=!1)},Nr=function(t){function e(e){var i;void 0===e&&(e=[]);for(var n=e.length-1;n>=0;n--)if(e[n].enabled){Dr(e,e[n]);break}return i=t.call(this,e)||this,i.changing_=!1,i}p()(e,t);var i=e.prototype;return i.addTrack=function(e){var i=this;e.enabled&&Dr(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&(e.enabledChange_=function(){i.changing_||(i.changing_=!0,Dr(i,e),i.changing_=!1,i.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))},i.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)},e}(Lr),Br=function(t,e){for(var i=0;i<t.length;i++)Object.keys(t[i]).length&&e.id!==t[i].id&&(t[i].selected=!1)},jr=function(t){function e(e){var i;void 0===e&&(e=[]);for(var n=e.length-1;n>=0;n--)if(e[n].selected){Br(e,e[n]);break}return i=t.call(this,e)||this,i.changing_=!1,Object.defineProperty(c()(i),"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),i}p()(e,t);var i=e.prototype;return i.addTrack=function(e){var i=this;e.selected&&Br(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&(e.selectedChange_=function(){i.changing_||(i.changing_=!0,Br(i,e),i.changing_=!1,i.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))},i.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)},e}(Lr),Ur=function(t){function e(){return t.apply(this,arguments)||this}p()(e,t);var i=e.prototype;return i.addTrack=function(e){var i=this;t.prototype.addTrack.call(this,e),this.queueChange_||(this.queueChange_=function(){return i.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return i.trigger("selectedlanguagechange")}),e.addEventListener("modechange",this.queueChange_);var n=["metadata","chapters"];-1===n.indexOf(e.kind)&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)},i.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},e}(Lr),Fr=function(){function t(t){void 0===t&&(t=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var e=0,i=t.length;e<i;e++)this.addTrackElement_(t[e])}var e=t.prototype;return e.addTrackElement_=function(t){var e=this.trackElements_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.trackElements_[e]}}),-1===this.trackElements_.indexOf(t)&&this.trackElements_.push(t)},e.getTrackElementByTrack_=function(t){for(var e,i=0,n=this.trackElements_.length;i<n;i++)if(t===this.trackElements_[i].track){e=this.trackElements_[i];break}return e},e.removeTrackElement_=function(t){for(var e=0,i=this.trackElements_.length;e<i;e++)if(t===this.trackElements_[e]){this.trackElements_[e].track&&"function"===typeof this.trackElements_[e].track.off&&this.trackElements_[e].track.off(),"function"===typeof this.trackElements_[e].off&&this.trackElements_[e].off(),this.trackElements_.splice(e,1);break}},t}(),zr=function(){function t(e){t.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=t.prototype;return e.setCues_=function(t){var e=this.length||0,i=0,n=t.length;this.cues_=t,this.length_=t.length;var r=function(t){""+t in this||Object.defineProperty(this,""+t,{get:function(){return this.cues_[t]}})};if(e<n)for(i=e;i<n;i++)r.call(this,i)},e.getCueById=function(t){for(var e=null,i=0,n=this.length;i<n;i++){var r=this[i];if(r.id===t){e=r;break}}return e},t}(),Vr={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Hr={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},qr={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Gr={disabled:"disabled",hidden:"hidden",showing:"showing"},Wr=function(t){function e(e){var i;void 0===e&&(e={}),i=t.call(this)||this;var n={id:e.id||"vjs_track_"+In(),kind:e.kind||"",language:e.language||""},r=e.label||"",s=function(t){Object.defineProperty(c()(i),t,{get:function(){return n[t]},set:function(){}})};for(var a in n)s(a);return Object.defineProperty(c()(i),"label",{get:function(){return r},set:function(t){t!==r&&(r=t,this.trigger("labelchange"))}}),i}return p()(e,t),e}(Zn),$r=function(t){var e=["protocol","hostname","port","pathname","search","hash","host"],i=o.a.createElement("a");i.href=t;var n,r=""===i.host&&"file:"!==i.protocol;r&&(n=o.a.createElement("div"),n.innerHTML='<a href="'+t+'"></a>',i=n.firstChild,n.setAttribute("style","display:none; position:absolute;"),o.a.body.appendChild(n));for(var a={},l=0;l<e.length;l++)a[e[l]]=i[e[l]];return"http:"===a.protocol&&(a.host=a.host.replace(/:80$/,"")),"https:"===a.protocol&&(a.host=a.host.replace(/:443$/,"")),a.protocol||(a.protocol=s.a.location.protocol),r&&o.a.body.removeChild(n),a},Kr=function(t){if(!t.match(/^https?:\/\//)){var e=o.a.createElement("div");e.innerHTML='<a href="'+t+'">x</a>',t=e.firstChild.href}return t},Zr=function(t){if("string"===typeof t){var e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/,i=e.exec(t);if(i)return i.pop().toLowerCase()}return""},Xr=function(t,e){void 0===e&&(e=s.a.location);var i=$r(t),n=":"===i.protocol?e.protocol:i.protocol,r=n+i.host!==e.protocol+e.host;return r},Yr=Object.freeze({__proto__:null,parseUrl:$r,getAbsoluteURL:Kr,getFileExtension:Zr,isCrossOrigin:Xr}),Qr=function(t,e){var i=new s.a.WebVTT.Parser(s.a,s.a.vttjs,s.a.WebVTT.StringDecoder()),n=[];i.oncue=function(t){e.addCue(t)},i.onparsingerror=function(t){n.push(t)},i.onflush=function(){e.trigger({type:"loadeddata",target:e})},i.parse(t),n.length>0&&(s.a.console&&s.a.console.groupCollapsed&&s.a.console.groupCollapsed("Text Track parsing errors for "+e.src),n.forEach((function(t){return ui.error(t)})),s.a.console&&s.a.console.groupEnd&&s.a.console.groupEnd()),i.flush()},Jr=function(t,e){var i={uri:t},n=Xr(t);n&&(i.cors=n);var r="use-credentials"===e.tech_.crossOrigin();r&&(i.withCredentials=r),y()(i,Wn(this,(function(t,i,n){if(t)return ui.error(t,i);e.loaded_=!0,"function"!==typeof s.a.WebVTT?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],(function(t){if("vttjserror"!==t.type)return Qr(n,e);ui.error("vttjs failed to load, stopping trying to process "+e.src)})):Qr(n,e)})))},ts=function(t){function e(e){var i;if(void 0===e&&(e={}),!e.tech)throw new Error("A tech was not provided.");var n=dr(e,{kind:qr[e.kind]||"subtitles",language:e.language||e.srclang||""}),r=Gr[n.mode]||"disabled",s=n["default"];"metadata"!==n.kind&&"chapters"!==n.kind||(r="hidden"),i=t.call(this,n)||this,i.tech_=n.tech,i.cues_=[],i.activeCues_=[],i.preload_=!1!==i.tech_.preloadTextTracks;var a=new zr(i.cues_),o=new zr(i.activeCues_),l=!1,u=Wn(c()(i),(function(){this.tech_.isReady_&&!this.tech_.isDisposed()&&(this.activeCues=this.activeCues,l&&(this.trigger("cuechange"),l=!1))})),h=function(){i.tech_.off("timeupdate",u)};return i.tech_.one("dispose",h),"disabled"!==r&&i.tech_.on("timeupdate",u),Object.defineProperties(c()(i),{default:{get:function(){return s},set:function(){}},mode:{get:function(){return r},set:function(t){Gr[t]&&r!==t&&(r=t,this.preload_||"disabled"===r||0!==this.cues.length||Jr(this.src,this),this.tech_.off("timeupdate",u),"disabled"!==r&&this.tech_.on("timeupdate",u),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?a:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return o;for(var t=this.tech_.currentTime(),e=[],i=0,n=this.cues.length;i<n;i++){var r=this.cues[i];(r.startTime<=t&&r.endTime>=t||r.startTime===r.endTime&&r.startTime<=t&&r.startTime+.5>=t)&&e.push(r)}if(l=!1,e.length!==this.activeCues_.length)l=!0;else for(var s=0;s<e.length;s++)-1===this.activeCues_.indexOf(e[s])&&(l=!0);return this.activeCues_=e,o.setCues_(this.activeCues_),o},set:function(){}}}),n.src?(i.src=n.src,i.preload_||(i.loaded_=!0),(i.preload_||"subtitles"!==n.kind&&"captions"!==n.kind)&&Jr(i.src,c()(i))):i.loaded_=!0,i}p()(e,t);var i=e.prototype;return i.addCue=function(t){var e=t;if(s.a.vttjs&&!(t instanceof s.a.vttjs.VTTCue)){for(var i in e=new s.a.vttjs.VTTCue(t.startTime,t.endTime,t.text),t)i in e||(e[i]=t[i]);e.id=t.id,e.originalCue_=t}for(var n=this.tech_.textTracks(),r=0;r<n.length;r++)n[r]!==this&&n[r].removeCue(e);this.cues_.push(e),this.cues.setCues_(this.cues_)},i.removeCue=function(t){var e=this.cues_.length;while(e--){var i=this.cues_[e];if(i===t||i.originalCue_&&i.originalCue_===t){this.cues_.splice(e,1),this.cues.setCues_(this.cues_);break}}},e}(Wr);ts.prototype.allowedEvents_={cuechange:"cuechange"};var es=function(t){function e(e){var i;void 0===e&&(e={});var n=dr(e,{kind:Hr[e.kind]||""});i=t.call(this,n)||this;var r=!1;return Object.defineProperty(c()(i),"enabled",{get:function(){return r},set:function(t){"boolean"===typeof t&&t!==r&&(r=t,this.trigger("enabledchange"))}}),n.enabled&&(i.enabled=n.enabled),i.loaded_=!0,i}return p()(e,t),e}(Wr),is=function(t){function e(e){var i;void 0===e&&(e={});var n=dr(e,{kind:Vr[e.kind]||""});i=t.call(this,n)||this;var r=!1;return Object.defineProperty(c()(i),"selected",{get:function(){return r},set:function(t){"boolean"===typeof t&&t!==r&&(r=t,this.trigger("selectedchange"))}}),n.selected&&(i.selected=n.selected),i}return p()(e,t),e}(Wr),ns=0,rs=1,ss=2,as=3,os=function(t){function e(e){var i,n;void 0===e&&(e={}),i=t.call(this)||this;var r=new ts(e);return i.kind=r.kind,i.src=r.src,i.srclang=r.language,i.label=r.label,i["default"]=r["default"],Object.defineProperties(c()(i),{readyState:{get:function(){return n}},track:{get:function(){return r}}}),n=ns,r.addEventListener("loadeddata",(function(){n=ss,i.trigger({type:"load",target:c()(i)})})),i}return p()(e,t),e}(Zn);os.prototype.allowedEvents_={load:"load"},os.NONE=ns,os.LOADING=rs,os.LOADED=ss,os.ERROR=as;var ls={audio:{ListClass:Nr,TrackClass:es,capitalName:"Audio"},video:{ListClass:jr,TrackClass:is,capitalName:"Video"},text:{ListClass:Ur,TrackClass:ts,capitalName:"Text"}};Object.keys(ls).forEach((function(t){ls[t].getterName=t+"Tracks",ls[t].privateName=t+"Tracks_"}));var us={remoteText:{ListClass:Ur,TrackClass:ts,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Fr,TrackClass:os,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},hs=u()({},ls,us);function cs(t,e,i,n,r){void 0===r&&(r={});var s=t.textTracks();r.kind=e,i&&(r.label=i),n&&(r.language=n),r.tech=t;var a=new hs.text.TrackClass(r);return s.addTrack(a),a}us.names=Object.keys(us),ls.names=Object.keys(ls),hs.names=[].concat(us.names).concat(ls.names);var ds=function(t){function e(e,i){var n;return void 0===e&&(e={}),void 0===i&&(i=function(){}),e.reportTouchActivity=!1,n=t.call(this,null,e,i)||this,n.onDurationChange_=function(t){return n.onDurationChange(t)},n.trackProgress_=function(t){return n.trackProgress(t)},n.trackCurrentTime_=function(t){return n.trackCurrentTime(t)},n.stopTrackingCurrentTime_=function(t){return n.stopTrackingCurrentTime(t)},n.disposeSourceHandler_=function(t){return n.disposeSourceHandler(t)},n.hasStarted_=!1,n.on("playing",(function(){this.hasStarted_=!0})),n.on("loadstart",(function(){this.hasStarted_=!1})),hs.names.forEach((function(t){var i=hs[t];e&&e[i.getterName]&&(n[i.privateName]=e[i.getterName])})),n.featuresProgressEvents||n.manualProgressOn(),n.featuresTimeupdateEvents||n.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((function(t){!1===e["native"+t+"Tracks"]&&(n["featuresNative"+t+"Tracks"]=!1)})),!1===e.nativeCaptions||!1===e.nativeTextTracks?n.featuresNativeTextTracks=!1:!0!==e.nativeCaptions&&!0!==e.nativeTextTracks||(n.featuresNativeTextTracks=!0),n.featuresNativeTextTracks||n.emulateTextTracks(),n.preloadTextTracks=!1!==e.preloadTextTracks,n.autoRemoteTextTracks_=new hs.text.ListClass,n.initTrackListeners(),e.nativeControlsForTouch||n.emitTapEvents(),n.constructor&&(n.name_=n.constructor.name||"Unknown Tech"),n}p()(e,t);var i=e.prototype;return i.triggerSourceset=function(t){var e=this;this.isReady_||this.one("ready",(function(){return e.setTimeout((function(){return e.triggerSourceset(t)}),1)})),this.trigger({src:t,type:"sourceset"})},i.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},i.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},i.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Wn(this,(function(){var t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),this.bufferedPercent_=t,1===t&&this.stopTrackingProgress()})),500)},i.onDurationChange=function(t){this.duration_=this.duration()},i.buffered=function(){return Tr(0,0)},i.bufferedPercent=function(){return wr(this.buffered(),this.duration_)},i.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},i.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},i.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},i.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)},i.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},i.dispose=function(){this.clearTracks(ls.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},i.clearTracks=function(t){var e=this;t=[].concat(t),t.forEach((function(t){var i=e[t+"Tracks"]()||[],n=i.length;while(n--){var r=i[n];"text"===t&&e.removeRemoteTextTrack(r),i.removeTrack(r)}}))},i.cleanupAutoTextTracks=function(){var t=this.autoRemoteTextTracks_||[],e=t.length;while(e--){var i=t[e];this.removeRemoteTextTrack(i)}},i.reset=function(){},i.crossOrigin=function(){},i.setCrossOrigin=function(){},i.error=function(t){return void 0!==t&&(this.error_=new Sr(t),this.trigger("error")),this.error_},i.played=function(){return this.hasStarted_?Tr(0,0):Tr()},i.play=function(){},i.setScrubbing=function(){},i.scrubbing=function(){},i.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},i.initTrackListeners=function(){var t=this;ls.names.forEach((function(e){var i=ls[e],n=function(){t.trigger(e+"trackchange")},r=t[i.getterName]();r.addEventListener("removetrack",n),r.addEventListener("addtrack",n),t.on("dispose",(function(){r.removeEventListener("removetrack",n),r.removeEventListener("addtrack",n)}))}))},i.addWebVttScript_=function(){var t=this;if(!s.a.WebVTT)if(o.a.body.contains(this.el())){if(!this.options_["vtt.js"]&&_i(T.a)&&Object.keys(T.a).length>0)return void this.trigger("vttjsloaded");var e=o.a.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=function(){t.trigger("vttjsloaded")},e.onerror=function(){t.trigger("vttjserror")},this.on("dispose",(function(){e.onload=null,e.onerror=null})),s.a.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)},i.emulateTextTracks=function(){var t=this,e=this.textTracks(),i=this.remoteTextTracks(),n=function(t){return e.addTrack(t.track)},r=function(t){return e.removeTrack(t.track)};i.on("addtrack",n),i.on("removetrack",r),this.addWebVttScript_();var s=function(){return t.trigger("texttrackchange")},a=function(){s();for(var t=0;t<e.length;t++){var i=e[t];i.removeEventListener("cuechange",s),"showing"===i.mode&&i.addEventListener("cuechange",s)}};a(),e.addEventListener("change",a),e.addEventListener("addtrack",a),e.addEventListener("removetrack",a),this.on("dispose",(function(){i.off("addtrack",n),i.off("removetrack",r),e.removeEventListener("change",a),e.removeEventListener("addtrack",a),e.removeEventListener("removetrack",a);for(var t=0;t<e.length;t++){var o=e[t];o.removeEventListener("cuechange",s)}}))},i.addTextTrack=function(t,e,i){if(!t)throw new Error("TextTrack kind is required but was not provided");return cs(this,t,e,i)},i.createRemoteTextTrack=function(t){var e=dr(t,{tech:this});return new us.remoteTextEl.TrackClass(e)},i.addRemoteTextTrack=function(t,e){var i=this;void 0===t&&(t={});var n=this.createRemoteTextTrack(t);return!0!==e&&!1!==e&&(ui.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),e=!0),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack(n.track),!0!==e&&this.ready((function(){return i.autoRemoteTextTracks_.addTrack(n.track)})),n},i.removeRemoteTextTrack=function(t){var e=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(e),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},i.getVideoPlaybackQuality=function(){return{}},i.requestPictureInPicture=function(){var t=this.options_.Promise||s.a.Promise;if(t)return t.reject()},i.disablePictureInPicture=function(){return!0},i.setDisablePictureInPicture=function(){},i.setPoster=function(){},i.playsinline=function(){},i.setPlaysinline=function(){},i.overrideNativeAudioTracks=function(){},i.overrideNativeVideoTracks=function(){},i.canPlayType=function(){return""},e.canPlayType=function(){return""},e.canPlaySource=function(t,i){return e.canPlayType(t.type)},e.isTech=function(t){return t.prototype instanceof e||t instanceof e||t===e},e.registerTech=function(t,i){if(e.techs_||(e.techs_={}),!e.isTech(i))throw new Error("Tech "+t+" must be a Tech");if(!e.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!e.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=hr(t),e.techs_[t]=i,e.techs_[ur(t)]=i,"Tech"!==t&&e.defaultTechOrder_.push(t),i},e.getTech=function(t){if(t)return e.techs_&&e.techs_[t]?e.techs_[t]:(t=hr(t),s.a&&s.a.videojs&&s.a.videojs[t]?(ui.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),s.a.videojs[t]):void 0)},e}(_r);hs.names.forEach((function(t){var e=hs[t];ds.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}})),ds.prototype.featuresVolumeControl=!0,ds.prototype.featuresMuteControl=!0,ds.prototype.featuresFullscreenResize=!1,ds.prototype.featuresPlaybackRate=!1,ds.prototype.featuresProgressEvents=!1,ds.prototype.featuresSourceset=!1,ds.prototype.featuresTimeupdateEvents=!1,ds.prototype.featuresNativeTextTracks=!1,ds.withSourceHandlers=function(t){t.registerSourceHandler=function(e,i){var n=t.sourceHandlers;n||(n=t.sourceHandlers=[]),void 0===i&&(i=n.length),n.splice(i,0,e)},t.canPlayType=function(e){for(var i,n=t.sourceHandlers||[],r=0;r<n.length;r++)if(i=n[r].canPlayType(e),i)return i;return""},t.selectSourceHandler=function(e,i){for(var n,r=t.sourceHandlers||[],s=0;s<r.length;s++)if(n=r[s].canHandleSource(e,i),n)return r[s];return null},t.canPlaySource=function(e,i){var n=t.selectSourceHandler(e,i);return n?n.canHandleSource(e,i):""};var e=["seekable","seeking","duration"];e.forEach((function(t){var e=this[t];"function"===typeof e&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):e.apply(this,arguments)})}),t.prototype),t.prototype.setSource=function(e){var i=t.selectSourceHandler(e,this.options_);i||(t.nativeSourceHandler?i=t.nativeSourceHandler:ui.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),i!==t.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=i.handleSource(e,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},_r.registerComponent("Tech",ds),ds.registerTech("Tech",ds),ds.defaultTechOrder_=[];var ps={},fs={},ms={};function gs(t,e){ps[t]=ps[t]||[],ps[t].push(e)}function _s(t,e,i){t.setTimeout((function(){return As(e,ps[e.type],i,t)}),1)}function vs(t,e){t.forEach((function(t){return t.setTech&&t.setTech(e)}))}function ys(t,e,i){return t.reduceRight(Cs(i),e[i]())}function bs(t,e,i,n){return e[i](t.reduce(Cs(i),n))}function Ts(t,e,i,n){void 0===n&&(n=null);var r="call"+hr(i),s=t.reduce(Cs(r),n),a=s===ms,o=a?null:e[i](s);return ks(t,i,o,a),o}var ws={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1},Ss={setCurrentTime:1,setMuted:1,setVolume:1},Es={play:1,pause:1};function Cs(t){return function(e,i){return e===ms?ms:i[t]?i[t](e):e}}function ks(t,e,i,n){for(var r=t.length-1;r>=0;r--){var s=t[r];s[e]&&s[e](n,i)}}function xs(t){fs[t.id()]=null}function Ms(t,e){var i=fs[t.id()],n=null;if(void 0===i||null===i)return n=e(t),fs[t.id()]=[[e,n]],n;for(var r=0;r<i.length;r++){var s=i[r],a=s[0],o=s[1];a===e&&(n=o)}return null===n&&(n=e(t),i.push([e,n])),n}function As(t,e,i,n,r,s){void 0===t&&(t={}),void 0===e&&(e=[]),void 0===r&&(r=[]),void 0===s&&(s=!1);var a=e,o=a[0],l=a.slice(1);if("string"===typeof o)As(t,ps[o],i,n,r,s);else if(o){var u=Ms(n,o);if(!u.setSource)return r.push(u),As(t,l,i,n,r,s);u.setSource(mi({},t),(function(e,a){if(e)return As(t,l,i,n,r,s);r.push(u),As(a,t.type===a.type?l:ps[a.type],i,n,r,s)}))}else l.length?As(t,l,i,n,r,s):s?i(t,r):As(t,ps["*"],i,n,r,!0)}var Is={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Os=function(t){void 0===t&&(t="");var e=Zr(t),i=Is[e.toLowerCase()];return i||""},Ps=function(t,e){if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;var i=t.cache_.sources.filter((function(t){return t.src===e}));if(i.length)return i[0].type;for(var n=t.$$("source"),r=0;r<n.length;r++){var s=n[r];if(s.type&&s.src&&s.src===e)return s.type}return Os(e)},Ls=function t(e){if(Array.isArray(e)){var i=[];e.forEach((function(e){e=t(e),Array.isArray(e)?i=i.concat(e):gi(e)&&i.push(e)})),e=i}else e="string"===typeof e&&e.trim()?[Rs({src:e})]:gi(e)&&"string"===typeof e.src&&e.src&&e.src.trim()?[Rs(e)]:[];return e};function Rs(t){if(!t.type){var e=Os(t.src);e&&(t.type=e)}return t}var Ds=function(t){function e(e,i,n){var r,s=dr({createEl:!1},i);if(r=t.call(this,e,s,n)||this,i.playerOptions.sources&&0!==i.playerOptions.sources.length)e.src(i.playerOptions.sources);else for(var a=0,o=i.playerOptions.techOrder;a<o.length;a++){var l=hr(o[a]),u=ds.getTech(l);if(l||(u=_r.getComponent(l)),u&&u.isSupported()){e.loadTech_(l);break}}return r}return p()(e,t),e}(_r);_r.registerComponent("MediaLoader",Ds);var Ns=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.handleMouseOver_=function(t){return n.handleMouseOver(t)},n.handleMouseOut_=function(t){return n.handleMouseOut(t)},n.handleClick_=function(t){return n.handleClick(t)},n.handleKeyDown_=function(t){return n.handleKeyDown(t)},n.emitTapEvents(),n.enable(),n}p()(e,t);var i=e.prototype;return i.createEl=function(e,i,n){void 0===e&&(e="div"),void 0===i&&(i={}),void 0===n&&(n={}),i=mi({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},i),"button"===e&&ui.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),n=mi({role:"button"},n),this.tabIndex_=i.tabIndex;var r=t.prototype.createEl.call(this,e,i,n);return this.createControlTextEl(r),r},i.dispose=function(){this.controlTextEl_=null,t.prototype.dispose.call(this)},i.createControlTextEl=function(t){return this.controlTextEl_=$i("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},i.controlText=function(t,e){if(void 0===e&&(e=this.el()),void 0===t)return this.controlText_||"Need Text";var i=this.localize(t);this.controlText_=t,Ki(this.controlTextEl_,i),this.nonIconControl||this.player_.options_.noUITitleAttributes||e.setAttribute("title",i)},i.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},i.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),"undefined"!==typeof this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},i.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),"undefined"!==typeof this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},i.handleLanguagechange=function(){this.controlText(this.controlText_)},i.handleClick=function(t){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},i.handleKeyDown=function(e){_.a.isEventKey(e,"Space")||_.a.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,e)},e}(_r);_r.registerComponent("ClickableComponent",Ns);var Bs=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.update(),n.update_=function(t){return n.update(t)},e.on("posterchange",n.update_),n}p()(e,t);var i=e.prototype;return i.dispose=function(){this.player().off("posterchange",this.update_),t.prototype.dispose.call(this)},i.createEl=function(){var t=$i("div",{className:"vjs-poster",tabIndex:-1});return t},i.update=function(t){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},i.setSrc=function(t){var e="";t&&(e='url("'+t+'")'),this.el_.style.backgroundImage=e},i.handleClick=function(t){if(this.player_.controls()){var e=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;!this.player_.tech(!0)||(Oi||Mi)&&e||this.player_.tech(!0).focus(),this.player_.paused()?kr(this.player_.play()):this.player_.pause()}},e}(Ns);_r.registerComponent("PosterImage",Bs);var js="#222",Us="#ccc",Fs={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function zs(t,e){var i;if(4===t.length)i=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else{if(7!==t.length)throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");i=t.slice(1)}return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),16)+","+e+")"}function Vs(t,e,i){try{t.style[e]=i}catch(n){return}}var Hs=function(t){function e(e,i,n){var r;r=t.call(this,e,i,n)||this;var a=function(t){return r.updateDisplay(t)};return e.on("loadstart",(function(t){return r.toggleDisplay(t)})),e.on("texttrackchange",a),e.on("loadedmetadata",(function(t){return r.preselectTrack(t)})),e.ready(Wn(c()(r),(function(){if(e.tech_&&e.tech_.featuresNativeTextTracks)this.hide();else{e.on("fullscreenchange",a),e.on("playerresize",a),s.a.addEventListener("orientationchange",a),e.on("dispose",(function(){return s.a.removeEventListener("orientationchange",a)}));for(var t=this.options_.playerOptions.tracks||[],i=0;i<t.length;i++)this.player_.addRemoteTextTrack(t[i],!0);this.preselectTrack()}}))),r}p()(e,t);var i=e.prototype;return i.preselectTrack=function(){for(var t,e,i,n={captions:1,subtitles:1},r=this.player_.textTracks(),s=this.player_.cache_.selectedLanguage,a=0;a<r.length;a++){var o=r[a];s&&s.enabled&&s.language&&s.language===o.language&&o.kind in n?o.kind===s.kind?i=o:i||(i=o):s&&!s.enabled?(i=null,t=null,e=null):o["default"]&&("descriptions"!==o.kind||t?o.kind in n&&!e&&(e=o):t=o)}i?i.mode="showing":e?e.mode="showing":t&&(t.mode="showing")},i.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},i.clearDisplay=function(){"function"===typeof s.a.WebVTT&&s.a.WebVTT.processCues(s.a,[],this.el_)},i.updateDisplay=function(){var t=this.player_.textTracks(),e=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),e){for(var i=[],n=0;n<t.length;++n){var r=t[n];"showing"===r.mode&&i.push(r)}this.updateForTrack(i)}else{var s=null,a=null,o=t.length;while(o--){var l=t[o];"showing"===l.mode&&("descriptions"===l.kind?s=l:a=l)}a?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(a)):s&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(s))}},i.updateDisplayState=function(t){var e=this.player_.textTrackSettings.getValues(),i=t.activeCues,n=i.length;while(n--){var r=i[n];if(r){var a=r.displayState;if(e.color&&(a.firstChild.style.color=e.color),e.textOpacity&&Vs(a.firstChild,"color",zs(e.color||"#fff",e.textOpacity)),e.backgroundColor&&(a.firstChild.style.backgroundColor=e.backgroundColor),e.backgroundOpacity&&Vs(a.firstChild,"backgroundColor",zs(e.backgroundColor||"#000",e.backgroundOpacity)),e.windowColor&&(e.windowOpacity?Vs(a,"backgroundColor",zs(e.windowColor,e.windowOpacity)):a.style.backgroundColor=e.windowColor),e.edgeStyle&&("dropshadow"===e.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px "+js+", 2px 2px 4px "+js+", 2px 2px 5px "+js:"raised"===e.edgeStyle?a.firstChild.style.textShadow="1px 1px "+js+", 2px 2px "+js+", 3px 3px "+js:"depressed"===e.edgeStyle?a.firstChild.style.textShadow="1px 1px "+Us+", 0 1px "+Us+", -1px -1px "+js+", 0 -1px "+js:"uniform"===e.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px "+js+", 0 0 4px "+js+", 0 0 4px "+js+", 0 0 4px "+js)),e.fontPercent&&1!==e.fontPercent){var o=s.a.parseFloat(a.style.fontSize);a.style.fontSize=o*e.fontPercent+"px",a.style.height="auto",a.style.top="auto"}e.fontFamily&&"default"!==e.fontFamily&&("small-caps"===e.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=Fs[e.fontFamily])}}},i.updateForTrack=function(t){if(Array.isArray(t)||(t=[t]),"function"===typeof s.a.WebVTT&&!t.every((function(t){return!t.activeCues}))){for(var e=[],i=0;i<t.length;++i)for(var n=t[i],r=0;r<n.activeCues.length;++r)e.push(n.activeCues[r]);s.a.WebVTT.processCues(s.a,e,this.el_);for(var a=0;a<t.length;++a){for(var o=t[a],l=0;l<o.activeCues.length;++l){var u=o.activeCues[l].displayState;Yi(u,"vjs-text-track-cue"),Yi(u,"vjs-text-track-cue-"+(o.language?o.language:a))}this.player_.textTrackSettings&&this.updateDisplayState(o)}}},e}(_r);_r.registerComponent("TextTrackDisplay",Hs);var qs=function(t){function e(){return t.apply(this,arguments)||this}p()(e,t);var i=e.prototype;return i.createEl=function(){var e=this.player_.isAudio(),i=this.localize(e?"Audio Player":"Video Player"),n=$i("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[i])}),r=t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return r.appendChild(n),r},e}(_r);_r.registerComponent("LoadingSpinner",qs);var Gs=function(t){function e(){return t.apply(this,arguments)||this}p()(e,t);var i=e.prototype;return i.createEl=function(t,e,i){void 0===e&&(e={}),void 0===i&&(i={}),t="button",e=mi({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},e),i=mi({type:"button"},i);var n=_r.prototype.createEl.call(this,t,e,i);return this.createControlTextEl(n),n},i.addChild=function(t,e){void 0===e&&(e={});var i=this.constructor.name;return ui.warn("Adding an actionable (user controllable) child to a Button ("+i+") is not supported; use a ClickableComponent instead."),_r.prototype.addChild.call(this,t,e)},i.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},i.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},i.handleKeyDown=function(e){_.a.isEventKey(e,"Space")||_.a.isEventKey(e,"Enter")?e.stopPropagation():t.prototype.handleKeyDown.call(this,e)},e}(Ns);_r.registerComponent("Button",Gs);var Ws=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.mouseused_=!1,n.on("mousedown",(function(t){return n.handleMouseDown(t)})),n}p()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-big-play-button"},i.handleClick=function(t){var e=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY){var i=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;return kr(e),void(!this.player_.tech(!0)||(Oi||Mi)&&i||this.player_.tech(!0).focus())}var n=this.player_.getChild("controlBar"),r=n&&n.getChild("playToggle");if(r){var s=function(){return r.focus()};Cr(e)?e.then(s,(function(){})):this.setTimeout(s,1)}else this.player_.tech(!0).focus()},i.handleKeyDown=function(e){this.mouseused_=!1,t.prototype.handleKeyDown.call(this,e)},i.handleMouseDown=function(t){this.mouseused_=!0},e}(Gs);Ws.prototype.controlText_="Play Video",_r.registerComponent("BigPlayButton",Ws);var $s=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.controlText(i&&i.controlText||n.localize("Close")),n}p()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},i.handleKeyDown=function(e){_.a.isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,e)},e}(Gs);_r.registerComponent("CloseButton",$s);var Ks=function(t){function e(e,i){var n;return void 0===i&&(i={}),n=t.call(this,e,i)||this,i.replay=void 0===i.replay||i.replay,n.on(e,"play",(function(t){return n.handlePlay(t)})),n.on(e,"pause",(function(t){return n.handlePause(t)})),i.replay&&n.on(e,"ended",(function(t){return n.handleEnded(t)})),n}p()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(t){this.player_.paused()?kr(this.player_.play()):this.player_.pause()},i.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},i.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},i.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},i.handleEnded=function(t){var e=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",(function(t){return e.handleSeeked(t)}))},e}(Gs);Ks.prototype.controlText_="Play",_r.registerComponent("PlayToggle",Ks);var Zs=function(t,e){t=t<0?0:t;var i=Math.floor(t%60),n=Math.floor(t/60%60),r=Math.floor(t/3600),s=Math.floor(e/60%60),a=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(r=n=i="-"),r=r>0||a>0?r+":":"",n=((r||s>=10)&&n<10?"0"+n:n)+":",i=i<10?"0"+i:i,r+n+i},Xs=Zs;function Ys(t){Xs=t}function Qs(){Xs=Zs}function Js(t,e){return void 0===e&&(e=t),Xs(t,e)}var ta=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.on(e,["timeupdate","ended"],(function(t){return n.updateContent(t)})),n.updateTextNode_(),n}p()(e,t);var i=e.prototype;return i.createEl=function(){var e=this.buildCSSClass(),i=t.prototype.createEl.call(this,"div",{className:e+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text" role="presentation">'+this.localize(this.labelText_)+" </span>"});return this.contentEl_=$i("span",{className:e+"-display"},{"aria-live":"off",role:"presentation"}),i.appendChild(this.contentEl_),i},i.dispose=function(){this.contentEl_=null,this.textNode_=null,t.prototype.dispose.call(this)},i.updateTextNode_=function(t){var e=this;void 0===t&&(t=0),t=Js(t),this.formattedTime_!==t&&(this.formattedTime_=t,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",(function(){if(e.contentEl_){var t=e.textNode_;t&&e.contentEl_.firstChild!==t&&(t=null,ui.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),e.textNode_=o.a.createTextNode(e.formattedTime_),e.textNode_&&(t?e.contentEl_.replaceChild(e.textNode_,t):e.contentEl_.appendChild(e.textNode_))}})))},i.updateContent=function(t){},e}(_r);ta.prototype.labelText_="Time",ta.prototype.controlText_="Time",_r.registerComponent("TimeDisplay",ta);var ea=function(t){function e(){return t.apply(this,arguments)||this}p()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-current-time"},i.updateContent=function(t){var e;e=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(e)},e}(ta);ea.prototype.labelText_="Current Time",ea.prototype.controlText_="Current Time",_r.registerComponent("CurrentTimeDisplay",ea);var ia=function(t){function e(e,i){var n;n=t.call(this,e,i)||this;var r=function(t){return n.updateContent(t)};return n.on(e,"durationchange",r),n.on(e,"loadstart",r),n.on(e,"loadedmetadata",r),n}p()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-duration"},i.updateContent=function(t){var e=this.player_.duration();this.updateTextNode_(e)},e}(ta);ia.prototype.labelText_="Duration",ia.prototype.controlText_="Duration",_r.registerComponent("DurationDisplay",ia);var na=function(t){function e(){return t.apply(this,arguments)||this}p()(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"},{"aria-hidden":!0})},e}(_r);_r.registerComponent("TimeDivider",na);var ra=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.on(e,"durationchange",(function(t){return n.updateContent(t)})),n}p()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-remaining-time"},i.createEl=function(){var e=t.prototype.createEl.call(this);return e.insertBefore($i("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e},i.updateContent=function(t){var e;"number"===typeof this.player_.duration()&&(e=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(e))},e}(ta);ra.prototype.labelText_="Remaining Time",ra.prototype.controlText_="Remaining Time",_r.registerComponent("RemainingTimeDisplay",ra);var sa=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.updateShowing(),n.on(n.player(),"durationchange",(function(t){return n.updateShowing(t)})),n}p()(e,t);var i=e.prototype;return i.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=$i("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+" </span>"+this.localize("LIVE")},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},i.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},i.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},e}(_r);_r.registerComponent("LiveDisplay",sa);var aa=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.updateLiveEdgeStatus(),n.player_.liveTracker&&(n.updateLiveEdgeStatusHandler_=function(t){return n.updateLiveEdgeStatus(t)},n.on(n.player_.liveTracker,"liveedgechange",n.updateLiveEdgeStatusHandler_)),n}p()(e,t);var i=e.prototype;return i.createEl=function(){var e=t.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=$i("span",{className:"vjs-seek-to-live-text",innerHTML:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e},i.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},i.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},i.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,t.prototype.dispose.call(this)},e}(Gs);aa.prototype.controlText_="Seek to live, currently playing live",_r.registerComponent("SeekToLive",aa);var oa=function(t,e,i){return t=Number(t),Math.min(i,Math.max(e,isNaN(t)?e:t))},la=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.handleMouseDown_=function(t){return n.handleMouseDown(t)},n.handleMouseUp_=function(t){return n.handleMouseUp(t)},n.handleKeyDown_=function(t){return n.handleKeyDown(t)},n.handleClick_=function(t){return n.handleClick(t)},n.handleMouseMove_=function(t){return n.handleMouseMove(t)},n.update_=function(t){return n.update(t)},n.bar=n.getChild(n.options_.barName),n.vertical(!!n.options_.vertical),n.enable(),n}p()(e,t);var i=e.prototype;return i.enabled=function(){return this.enabled_},i.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},i.disable=function(){if(this.enabled()){var t=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(t,"mousemove",this.handleMouseMove_),this.off(t,"mouseup",this.handleMouseUp_),this.off(t,"touchmove",this.handleMouseMove_),this.off(t,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},i.createEl=function(e,i,n){return void 0===i&&(i={}),void 0===n&&(n={}),i.className=i.className+" vjs-slider",i=mi({tabIndex:0},i),n=mi({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},n),t.prototype.createEl.call(this,e,i,n)},i.handleMouseDown=function(t){var e=this.bar.el_.ownerDocument;"mousedown"===t.type&&t.preventDefault(),"touchstart"!==t.type||Ai||t.preventDefault(),an(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(e,"mousemove",this.handleMouseMove_),this.on(e,"mouseup",this.handleMouseUp_),this.on(e,"touchmove",this.handleMouseMove_),this.on(e,"touchend",this.handleMouseUp_),this.handleMouseMove(t)},i.handleMouseMove=function(t){},i.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;on(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove_),this.off(t,"mouseup",this.handleMouseUp_),this.off(t,"touchmove",this.handleMouseMove_),this.off(t,"touchend",this.handleMouseUp_),this.update()},i.update=function(){var t=this;if(this.el_&&this.bar){var e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",(function(){var i=t.vertical()?"height":"width";t.bar.el().style[i]=(100*e).toFixed(2)+"%"}))),e}},i.getProgress=function(){return Number(oa(this.getPercent(),0,1).toFixed(4))},i.calculateDistance=function(t){var e=hn(this.el_,t);return this.vertical()?e.y:e.x},i.handleKeyDown=function(e){_.a.isEventKey(e,"Left")||_.a.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):_.a.isEventKey(e,"Right")||_.a.isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):t.prototype.handleKeyDown.call(this,e)},i.handleClick=function(t){t.stopPropagation(),t.preventDefault()},i.vertical=function(t){if(void 0===t)return this.vertical_||!1;this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(_r);_r.registerComponent("Slider",la);var ua=function(t,e){return oa(t/e*100,0,100).toFixed(2)+"%"},ha=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.partEls_=[],n.on(e,"progress",(function(t){return n.update(t)})),n}p()(e,t);var i=e.prototype;return i.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),i=$i("span",{className:"vjs-control-text"}),n=$i("span",{textContent:this.localize("Loaded")}),r=o.a.createTextNode(": ");return this.percentageEl_=$i("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(i),i.appendChild(n),i.appendChild(r),i.appendChild(this.percentageEl_),e},i.dispose=function(){this.partEls_=null,this.percentageEl_=null,t.prototype.dispose.call(this)},i.update=function(t){var e=this;this.requestNamedAnimationFrame("LoadProgressBar#update",(function(){var t=e.player_.liveTracker,i=e.player_.buffered(),n=t&&t.isLive()?t.seekableEnd():e.player_.duration(),r=e.player_.bufferedEnd(),s=e.partEls_,a=ua(r,n);e.percent_!==a&&(e.el_.style.width=a,Ki(e.percentageEl_,a),e.percent_=a);for(var o=0;o<i.length;o++){var l=i.start(o),u=i.end(o),h=s[o];h||(h=e.el_.appendChild($i()),s[o]=h),h.dataset.start===l&&h.dataset.end===u||(h.dataset.start=l,h.dataset.end=u,h.style.left=ua(l,r),h.style.width=ua(u-l,r))}for(var c=s.length;c>i.length;c--)e.el_.removeChild(s[c-1]);s.length=i.length}))},e}(_r);_r.registerComponent("LoadProgressBar",ha);var ca=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.update=$n(Wn(c()(n),n.update),Gn),n}p()(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},i.update=function(t,e,i){var n=un(this.el_),r=ln(this.player_.el()),s=t.width*e;if(r&&n){var a=t.left-r.left+s,o=t.width-s+(r.right-t.right),l=n.width/2;a<l?l+=l-a:o<l&&(l=o),l<0?l=0:l>n.width&&(l=n.width),l=Math.round(l),this.el_.style.right="-"+l+"px",this.write(i)}},i.write=function(t){Ki(this.el_,t)},i.updateTime=function(t,e,i,n){var r=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",(function(){var s,a=r.player_.duration();if(r.player_.liveTracker&&r.player_.liveTracker.isLive()){var o=r.player_.liveTracker.liveWindow(),l=o-e*o;s=(l<1?"":"-")+Js(l,o)}else s=Js(i,a);r.update(t,e,s),n&&n()}))},e}(_r);_r.registerComponent("TimeTooltip",ca);var da=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.update=$n(Wn(c()(n),n.update),Gn),n}p()(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},i.update=function(t,e){var i=this.getChild("timeTooltip");if(i){var n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();i.updateTime(t,e,n)}},e}(_r);da.prototype.options_={children:[]},Bi||Ei||da.prototype.options_.children.push("timeTooltip"),_r.registerComponent("PlayProgressBar",da);var pa=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.update=$n(Wn(c()(n),n.update),Gn),n}p()(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},i.update=function(t,e){var i=this,n=e*this.player_.duration();this.getChild("timeTooltip").updateTime(t,e,n,(function(){i.el_.style.left=t.width*e+"px"}))},e}(_r);pa.prototype.options_={children:["timeTooltip"]},_r.registerComponent("MouseTimeDisplay",pa);var fa=5,ma=12,ga=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.setEventHandlers_(),n}p()(e,t);var i=e.prototype;return i.setEventHandlers_=function(){var t=this;this.update_=Wn(this,this.update),this.update=$n(this.update_,Gn),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(e){return t.enableInterval_(e)},this.disableIntervalHandler_=function(e){return t.disableInterval_(e)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in o.a&&"visibilityState"in o.a&&this.on(o.a,"visibilitychange",this.toggleVisibility_)},i.toggleVisibility_=function(t){"hidden"===o.a.visibilityState?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(t)):(this.player_.ended()||this.player_.paused()||this.enableInterval_(),this.update())},i.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Gn))},i.disableInterval_=function(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&t&&"ended"!==t.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},i.update=function(e){var i=this;if("hidden"!==o.a.visibilityState){var n=t.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",(function(){var t=i.player_.ended()?i.player_.duration():i.getCurrentTime_(),e=i.player_.liveTracker,r=i.player_.duration();e&&e.isLive()&&(r=i.player_.liveTracker.liveCurrentTime()),i.percent_!==n&&(i.el_.setAttribute("aria-valuenow",(100*n).toFixed(2)),i.percent_=n),i.currentTime_===t&&i.duration_===r||(i.el_.setAttribute("aria-valuetext",i.localize("progress bar timing: currentTime={1} duration={2}",[Js(t,r),Js(r,r)],"{1} of {2}")),i.currentTime_=t,i.duration_=r),i.bar&&i.bar.update(ln(i.el()),i.getProgress())})),n}},i.userSeek_=function(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(t)},i.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},i.getPercent=function(){var t,e=this.getCurrentTime_(),i=this.player_.liveTracker;return i&&i.isLive()?(t=(e-i.seekableStart())/i.liveWindow(),i.atLiveEdge()&&(t=1)):t=e/this.player_.duration(),t},i.handleMouseDown=function(e){gn(e)&&(e.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,e))},i.handleMouseMove=function(t){if(gn(t)){var e,i=this.calculateDistance(t),n=this.player_.liveTracker;if(n&&n.isLive()){if(i>=.99)return void n.seekToLiveEdge();var r=n.seekableStart(),s=n.liveCurrentTime();if(e=r+i*n.liveWindow(),e>=s&&(e=s),e<=r&&(e=r+.1),e===1/0)return}else e=i*this.player_.duration(),e===this.player_.duration()&&(e-=.1);this.userSeek_(e)}},i.enable=function(){t.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()},i.disable=function(){t.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.hide()},i.handleMouseUp=function(e){t.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?kr(this.player_.play()):this.update_()},i.stepForward=function(){this.userSeek_(this.player_.currentTime()+fa)},i.stepBack=function(){this.userSeek_(this.player_.currentTime()-fa)},i.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},i.handleKeyDown=function(e){var i=this.player_.liveTracker;if(_.a.isEventKey(e,"Space")||_.a.isEventKey(e,"Enter"))e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(_.a.isEventKey(e,"Home"))e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(_.a.isEventKey(e,"End"))e.preventDefault(),e.stopPropagation(),i&&i.isLive()?this.userSeek_(i.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(_()(e))){e.preventDefault(),e.stopPropagation();var n=10*(_.a.codes[_()(e)]-_.a.codes["0"])/100;i&&i.isLive()?this.userSeek_(i.seekableStart()+i.liveWindow()*n):this.userSeek_(this.player_.duration()*n)}else _.a.isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-fa*ma)):_.a.isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+fa*ma)):t.prototype.handleKeyDown.call(this,e)},i.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in o.a&&"visibilityState"in o.a&&this.off(o.a,"visibilitychange",this.toggleVisibility_),t.prototype.dispose.call(this)},e}(la);ga.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},Bi||Ei||ga.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),_r.registerComponent("SeekBar",ga);var _a=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.handleMouseMove=$n(Wn(c()(n),n.handleMouseMove),Gn),n.throttledHandleMouseSeek=$n(Wn(c()(n),n.handleMouseSeek),Gn),n.handleMouseUpHandler_=function(t){return n.handleMouseUp(t)},n.handleMouseDownHandler_=function(t){return n.handleMouseDown(t)},n.enable(),n}p()(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},i.handleMouseMove=function(t){var e=this.getChild("seekBar");if(e){var i=e.getChild("playProgressBar"),n=e.getChild("mouseTimeDisplay");if(i||n){var r=e.el(),s=un(r),a=hn(r,t).x;a=oa(a,0,1),n&&n.update(s,a),i&&i.update(s,e.getProgress())}}},i.handleMouseSeek=function(t){var e=this.getChild("seekBar");e&&e.handleMouseMove(t)},i.enabled=function(){return this.enabled_},i.disable=function(){if(this.children().forEach((function(t){return t.disable&&t.disable()})),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var t=this.getChild("seekBar");this.player_.scrubbing(!1),t.videoWasPlaying&&kr(this.player_.play())}},i.enable=function(){this.children().forEach((function(t){return t.enable&&t.enable()})),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},i.removeListenersAddedOnMousedownAndTouchstart=function(){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)},i.handleMouseDown=function(t){var e=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseDown(t),this.on(e,"mousemove",this.throttledHandleMouseSeek),this.on(e,"touchmove",this.throttledHandleMouseSeek),this.on(e,"mouseup",this.handleMouseUpHandler_),this.on(e,"touchend",this.handleMouseUpHandler_)},i.handleMouseUp=function(t){var e=this.getChild("seekBar");e&&e.handleMouseUp(t),this.removeListenersAddedOnMousedownAndTouchstart()},e}(_r);_a.prototype.options_={children:["seekBar"]},_r.registerComponent("ProgressControl",_a);var va=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.on(e,["enterpictureinpicture","leavepictureinpicture"],(function(t){return n.handlePictureInPictureChange(t)})),n.on(e,["disablepictureinpicturechanged","loadedmetadata"],(function(t){return n.handlePictureInPictureEnabledChange(t)})),n.disable(),n}p()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-picture-in-picture-control "+t.prototype.buildCSSClass.call(this)},i.handlePictureInPictureEnabledChange=function(){o.a.pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()?this.enable():this.disable()},i.handlePictureInPictureChange=function(t){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},i.handleClick=function(t){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},e}(Gs);va.prototype.controlText_="Picture-in-Picture",_r.registerComponent("PictureInPictureToggle",va);var ya=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.on(e,"fullscreenchange",(function(t){return n.handleFullscreenChange(t)})),!1===o.a[e.fsApi_.fullscreenEnabled]&&n.disable(),n}p()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},i.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},i.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(Gs);ya.prototype.controlText_="Fullscreen",_r.registerComponent("FullscreenToggle",ya);var ba=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",(function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")}))},Ta=function(t){function e(){return t.apply(this,arguments)||this}p()(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},e}(_r);_r.registerComponent("VolumeLevel",Ta);var wa=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.update=$n(Wn(c()(n),n.update),Gn),n}p()(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},i.update=function(t,e,i,n){if(!i){var r=ln(this.el_),s=ln(this.player_.el()),a=t.width*e;if(!s||!r)return;var o=t.left-s.left+a,l=t.width-a+(s.right-t.right),u=r.width/2;o<u?u+=u-o:l<u&&(u=l),u<0?u=0:u>r.width&&(u=r.width),this.el_.style.right="-"+u+"px"}this.write(n+"%")},i.write=function(t){Ki(this.el_,t)},i.updateVolume=function(t,e,i,n,r){var s=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",(function(){s.update(t,e,i,n.toFixed(0)),r&&r()}))},e}(_r);_r.registerComponent("VolumeLevelTooltip",wa);var Sa=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.update=$n(Wn(c()(n),n.update),Gn),n}p()(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},i.update=function(t,e,i){var n=this,r=100*e;this.getChild("volumeLevelTooltip").updateVolume(t,e,i,r,(function(){i?n.el_.style.bottom=t.height*e+"px":n.el_.style.left=t.width*e+"px"}))},e}(_r);Sa.prototype.options_={children:["volumeLevelTooltip"]},_r.registerComponent("MouseVolumeLevelDisplay",Sa);var Ea=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.on("slideractive",(function(t){return n.updateLastVolume_(t)})),n.on(e,"volumechange",(function(t){return n.updateARIAAttributes(t)})),e.ready((function(){return n.updateARIAAttributes()})),n}p()(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},i.handleMouseDown=function(e){gn(e)&&t.prototype.handleMouseDown.call(this,e)},i.handleMouseMove=function(t){var e=this.getChild("mouseVolumeLevelDisplay");if(e){var i=this.el(),n=ln(i),r=this.vertical(),s=hn(i,t);s=r?s.y:s.x,s=oa(s,0,1),e.update(n,s,r)}gn(t)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},i.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},i.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},i.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},i.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},i.updateARIAAttributes=function(t){var e=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},i.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},i.updateLastVolume_=function(){var t=this,e=this.player_.volume();this.one("sliderinactive",(function(){0===t.player_.volume()&&t.player_.lastVolume_(e)}))},e}(la);Ea.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},Bi||Ei||Ea.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),Ea.prototype.playerEvent="volumechange",_r.registerComponent("VolumeBar",Ea);var Ca=function(t){function e(e,i){var n;return void 0===i&&(i={}),i.vertical=i.vertical||!1,("undefined"===typeof i.volumeBar||_i(i.volumeBar))&&(i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=i.vertical),n=t.call(this,e,i)||this,ba(c()(n),e),n.throttledHandleMouseMove=$n(Wn(c()(n),n.handleMouseMove),Gn),n.handleMouseUpHandler_=function(t){return n.handleMouseUp(t)},n.on("mousedown",(function(t){return n.handleMouseDown(t)})),n.on("touchstart",(function(t){return n.handleMouseDown(t)})),n.on("mousemove",(function(t){return n.handleMouseMove(t)})),n.on(n.volumeBar,["focus","slideractive"],(function(){n.volumeBar.addClass("vjs-slider-active"),n.addClass("vjs-slider-active"),n.trigger("slideractive")})),n.on(n.volumeBar,["blur","sliderinactive"],(function(){n.volumeBar.removeClass("vjs-slider-active"),n.removeClass("vjs-slider-active"),n.trigger("sliderinactive")})),n}p()(e,t);var i=e.prototype;return i.createEl=function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},i.handleMouseDown=function(t){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseMove),this.on(e,"touchmove",this.throttledHandleMouseMove),this.on(e,"mouseup",this.handleMouseUpHandler_),this.on(e,"touchend",this.handleMouseUpHandler_)},i.handleMouseUp=function(t){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseMove),this.off(e,"touchmove",this.throttledHandleMouseMove),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)},i.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)},e}(_r);Ca.prototype.options_={children:["volumeBar"]},_r.registerComponent("VolumeControl",Ca);var ka=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",(function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")}))},xa=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,ka(c()(n),e),n.on(e,["loadstart","volumechange"],(function(t){return n.update(t)})),n}p()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(t){var e=this.player_.volume(),i=this.player_.lastVolume_();if(0===e){var n=i<.1?.1:i;this.player_.volume(n),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},i.update=function(t){this.updateIcon_(),this.updateControlText_()},i.updateIcon_=function(){var t=this.player_.volume(),e=3;Bi&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===t||this.player_.muted()?e=0:t<.33?e=1:t<.67&&(e=2);for(var i=0;i<4;i++)Qi(this.el_,"vjs-vol-"+i);Yi(this.el_,"vjs-vol-"+e)},i.updateControlText_=function(){var t=this.player_.muted()||0===this.player_.volume(),e=t?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},e}(Gs);xa.prototype.controlText_="Mute",_r.registerComponent("MuteToggle",xa);var Ma=function(t){function e(e,i){var n;return void 0===i&&(i={}),"undefined"!==typeof i.inline?i.inline=i.inline:i.inline=!0,("undefined"===typeof i.volumeControl||_i(i.volumeControl))&&(i.volumeControl=i.volumeControl||{},i.volumeControl.vertical=!i.inline),n=t.call(this,e,i)||this,n.handleKeyPressHandler_=function(t){return n.handleKeyPress(t)},n.on(e,["loadstart"],(function(t){return n.volumePanelState_(t)})),n.on(n.muteToggle,"keyup",(function(t){return n.handleKeyPress(t)})),n.on(n.volumeControl,"keyup",(function(t){return n.handleVolumeControlKeyUp(t)})),n.on("keydown",(function(t){return n.handleKeyPress(t)})),n.on("mouseover",(function(t){return n.handleMouseOver(t)})),n.on("mouseout",(function(t){return n.handleMouseOut(t)})),n.on(n.volumeControl,["slideractive"],n.sliderActive_),n.on(n.volumeControl,["sliderinactive"],n.sliderInactive_),n}p()(e,t);var i=e.prototype;return i.sliderActive_=function(){this.addClass("vjs-slider-active")},i.sliderInactive_=function(){this.removeClass("vjs-slider-active")},i.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},i.createEl=function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},i.dispose=function(){this.handleMouseOut(),t.prototype.dispose.call(this)},i.handleVolumeControlKeyUp=function(t){_.a.isEventKey(t,"Esc")&&this.muteToggle.focus()},i.handleMouseOver=function(t){this.addClass("vjs-hover"),jn(o.a,"keyup",this.handleKeyPressHandler_)},i.handleMouseOut=function(t){this.removeClass("vjs-hover"),Un(o.a,"keyup",this.handleKeyPressHandler_)},i.handleKeyPress=function(t){_.a.isEventKey(t,"Esc")&&this.handleMouseOut()},e}(_r);Ma.prototype.options_={children:["muteToggle","volumeControl"]},_r.registerComponent("VolumePanel",Ma);var Aa=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,i&&(n.menuButton_=i.menuButton),n.focusedChild_=-1,n.on("keydown",(function(t){return n.handleKeyDown(t)})),n.boundHandleBlur_=function(t){return n.handleBlur(t)},n.boundHandleTapClick_=function(t){return n.handleTapClick(t)},n}p()(e,t);var i=e.prototype;return i.addEventListenerForItem=function(t){t instanceof _r&&(this.on(t,"blur",this.boundHandleBlur_),this.on(t,["tap","click"],this.boundHandleTapClick_))},i.removeEventListenerForItem=function(t){t instanceof _r&&(this.off(t,"blur",this.boundHandleBlur_),this.off(t,["tap","click"],this.boundHandleTapClick_))},i.removeChild=function(e){"string"===typeof e&&(e=this.getChild(e)),this.removeEventListenerForItem(e),t.prototype.removeChild.call(this,e)},i.addItem=function(t){var e=this.addChild(t);e&&this.addEventListenerForItem(e)},i.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=$i(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var i=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return i.appendChild(this.contentEl_),jn(i,"click",(function(t){t.preventDefault(),t.stopImmediatePropagation()})),i},i.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,t.prototype.dispose.call(this)},i.handleBlur=function(t){var e=t.relatedTarget||o.a.activeElement;if(!this.children().some((function(t){return t.el()===e}))){var i=this.menuButton_;i&&i.buttonPressed_&&e!==i.el().firstChild&&i.unpressButton()}},i.handleTapClick=function(t){if(this.menuButton_){this.menuButton_.unpressButton();var e=this.children();if(!Array.isArray(e))return;var i=e.filter((function(e){return e.el()===t.target}))[0];if(!i)return;"CaptionSettingsMenuItem"!==i.name()&&this.menuButton_.focus()}},i.handleKeyDown=function(t){_.a.isEventKey(t,"Left")||_.a.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):(_.a.isEventKey(t,"Right")||_.a.isEventKey(t,"Up"))&&(t.preventDefault(),t.stopPropagation(),this.stepBack())},i.stepForward=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_+1),this.focus(t)},i.stepBack=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_-1),this.focus(t)},i.focus=function(t){void 0===t&&(t=0);var e=this.children().slice(),i=e.length&&e[0].hasClass("vjs-menu-title");i&&e.shift(),e.length>0&&(t<0?t=0:t>=e.length&&(t=e.length-1),this.focusedChild_=t,e[t].el_.focus())},e}(_r);_r.registerComponent("Menu",Aa);var Ia=function(t){function e(e,i){var n;void 0===i&&(i={}),n=t.call(this,e,i)||this,n.menuButton_=new Gs(e,i),n.menuButton_.controlText(n.controlText_),n.menuButton_.el_.setAttribute("aria-haspopup","true");var r=Gs.prototype.buildCSSClass();n.menuButton_.el_.className=n.buildCSSClass()+" "+r,n.menuButton_.removeClass("vjs-control"),n.addChild(n.menuButton_),n.update(),n.enabled_=!0;var s=function(t){return n.handleClick(t)};return n.handleMenuKeyUp_=function(t){return n.handleMenuKeyUp(t)},n.on(n.menuButton_,"tap",s),n.on(n.menuButton_,"click",s),n.on(n.menuButton_,"keydown",(function(t){return n.handleKeyDown(t)})),n.on(n.menuButton_,"mouseenter",(function(){n.addClass("vjs-hover"),n.menu.show(),jn(o.a,"keyup",n.handleMenuKeyUp_)})),n.on("mouseleave",(function(t){return n.handleMouseLeave(t)})),n.on("keydown",(function(t){return n.handleSubmenuKeyDown(t)})),n}p()(e,t);var i=e.prototype;return i.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},i.createMenu=function(){var t=new Aa(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var e=$i("li",{className:"vjs-menu-title",innerHTML:hr(this.options_.title),tabIndex:-1}),i=new _r(this.player_,{el:e});t.addItem(i)}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)t.addItem(this.items[n]);return t},i.createItems=function(){},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},i.buildWrapperCSSClass=function(){var e="vjs-menu-button";!0===this.options_.inline?e+="-inline":e+="-popup";var i=Gs.prototype.buildCSSClass();return"vjs-menu-button "+e+" "+i+" "+t.prototype.buildCSSClass.call(this)},i.buildCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+t.prototype.buildCSSClass.call(this)},i.controlText=function(t,e){return void 0===e&&(e=this.menuButton_.el()),this.menuButton_.controlText(t,e)},i.dispose=function(){this.handleMouseLeave(),t.prototype.dispose.call(this)},i.handleClick=function(t){this.buttonPressed_?this.unpressButton():this.pressButton()},i.handleMouseLeave=function(t){this.removeClass("vjs-hover"),Un(o.a,"keyup",this.handleMenuKeyUp_)},i.focus=function(){this.menuButton_.focus()},i.blur=function(){this.menuButton_.blur()},i.handleKeyDown=function(t){_.a.isEventKey(t,"Esc")||_.a.isEventKey(t,"Tab")?(this.buttonPressed_&&this.unpressButton(),_.a.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus())):(_.a.isEventKey(t,"Up")||_.a.isEventKey(t,"Down"))&&(this.buttonPressed_||(t.preventDefault(),this.pressButton()))},i.handleMenuKeyUp=function(t){(_.a.isEventKey(t,"Esc")||_.a.isEventKey(t,"Tab"))&&this.removeClass("vjs-hover")},i.handleSubmenuKeyPress=function(t){this.handleSubmenuKeyDown(t)},i.handleSubmenuKeyDown=function(t){(_.a.isEventKey(t,"Esc")||_.a.isEventKey(t,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),_.a.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus()))},i.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Bi&&Gi())return;this.menu.focus()}},i.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},i.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},i.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(_r);_r.registerComponent("MenuButton",Ia);var Oa=function(t){function e(e,i){var n,r=i.tracks;if(n=t.call(this,e,i)||this,n.items.length<=1&&n.hide(),!r)return c()(n);var s=Wn(c()(n),n.update);return r.addEventListener("removetrack",s),r.addEventListener("addtrack",s),r.addEventListener("labelchange",s),n.player_.on("ready",s),n.player_.on("dispose",(function(){r.removeEventListener("removetrack",s),r.removeEventListener("addtrack",s),r.removeEventListener("labelchange",s)})),n}return p()(e,t),e}(Ia);_r.registerComponent("TrackButton",Oa);var Pa=["Tab","Esc","Up","Down","Right","Left"],La=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.selectable=i.selectable,n.isSelected_=i.selected||!1,n.multiSelectable=i.multiSelectable,n.selected(n.isSelected_),n.selectable?n.multiSelectable?n.el_.setAttribute("role","menuitemcheckbox"):n.el_.setAttribute("role","menuitemradio"):n.el_.setAttribute("role","menuitem"),n}p()(e,t);var i=e.prototype;return i.createEl=function(e,i,n){return this.nonIconControl=!0,t.prototype.createEl.call(this,"li",mi({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},i),n)},i.handleKeyDown=function(e){Pa.some((function(t){return _.a.isEventKey(e,t)}))||t.prototype.handleKeyDown.call(this,e)},i.handleClick=function(t){this.selected(!0)},i.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(Ns);_r.registerComponent("MenuItem",La);var Ra=function(t){function e(e,i){var n,r=i.track,a=e.textTracks();i.label=r.label||r.language||"Unknown",i.selected="showing"===r.mode,n=t.call(this,e,i)||this,n.track=r,n.kinds=(i.kinds||[i.kind||n.track.kind]).filter(Boolean);var l,u=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];n.handleTracksChange.apply(c()(n),e)},h=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];n.handleSelectedLanguageChange.apply(c()(n),e)};(e.on(["loadstart","texttrackchange"],u),a.addEventListener("change",u),a.addEventListener("selectedlanguagechange",h),n.on("dispose",(function(){e.off(["loadstart","texttrackchange"],u),a.removeEventListener("change",u),a.removeEventListener("selectedlanguagechange",h)})),void 0===a.onchange)&&n.on(["tap","click"],(function(){if("object"!==typeof s.a.Event)try{l=new s.a.Event("change")}catch(t){}l||(l=o.a.createEvent("Event"),l.initEvent("change",!0,!0)),a.dispatchEvent(l)}));return n.handleTracksChange(),n}p()(e,t);var i=e.prototype;return i.handleClick=function(e){var i=this.track,n=this.player_.textTracks();if(t.prototype.handleClick.call(this,e),n)for(var r=0;r<n.length;r++){var s=n[r];-1!==this.kinds.indexOf(s.kind)&&(s===i?"showing"!==s.mode&&(s.mode="showing"):"disabled"!==s.mode&&(s.mode="disabled"))}},i.handleTracksChange=function(t){var e="showing"===this.track.mode;e!==this.isSelected_&&this.selected(e)},i.handleSelectedLanguageChange=function(t){if("showing"===this.track.mode){var e=this.player_.cache_.selectedLanguage;if(e&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},i.dispose=function(){this.track=null,t.prototype.dispose.call(this)},e}(La);_r.registerComponent("TextTrackMenuItem",Ra);var Da=function(t){function e(e,i){return i.track={player:e,kind:i.kind,kinds:i.kinds,default:!1,mode:"disabled"},i.kinds||(i.kinds=[i.kind]),i.label?i.track.label=i.label:i.track.label=i.kinds.join(" and ")+" off",i.selectable=!0,i.multiSelectable=!1,t.call(this,e,i)||this}p()(e,t);var i=e.prototype;return i.handleTracksChange=function(t){for(var e=this.player().textTracks(),i=!0,n=0,r=e.length;n<r;n++){var s=e[n];if(this.options_.kinds.indexOf(s.kind)>-1&&"showing"===s.mode){i=!1;break}}i!==this.isSelected_&&this.selected(i)},i.handleSelectedLanguageChange=function(t){for(var e=this.player().textTracks(),i=!0,n=0,r=e.length;n<r;n++){var s=e[n];if(["captions","descriptions","subtitles"].indexOf(s.kind)>-1&&"showing"===s.mode){i=!1;break}}i&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(Ra);_r.registerComponent("OffTextTrackMenuItem",Da);var Na=function(t){function e(e,i){return void 0===i&&(i={}),i.tracks=e.textTracks(),t.call(this,e,i)||this}p()(e,t);var i=e.prototype;return i.createItems=function(t,e){var i;void 0===t&&(t=[]),void 0===e&&(e=Ra),this.label_&&(i=this.label_+" off"),t.push(new Da(this.player_,{kinds:this.kinds_,kind:this.kind_,label:i})),this.hideThreshold_+=1;var n=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var r=0;r<n.length;r++){var s=n[r];if(this.kinds_.indexOf(s.kind)>-1){var a=new e(this.player_,{track:s,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});a.addClass("vjs-"+s.kind+"-menu-item"),t.push(a)}}return t},e}(Oa);_r.registerComponent("TextTrackButton",Na);var Ba=function(t){function e(e,i){var n,r=i.track,s=i.cue,a=e.currentTime();return i.selectable=!0,i.multiSelectable=!1,i.label=s.text,i.selected=s.startTime<=a&&a<s.endTime,n=t.call(this,e,i)||this,n.track=r,n.cue=s,r.addEventListener("cuechange",Wn(c()(n),n.update)),n}p()(e,t);var i=e.prototype;return i.handleClick=function(e){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},i.update=function(t){var e=this.cue,i=this.player_.currentTime();this.selected(e.startTime<=i&&i<e.endTime)},e}(La);_r.registerComponent("ChaptersTrackMenuItem",Ba);var ja=function(t){function e(e,i,n){return t.call(this,e,i,n)||this}p()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildWrapperCSSClass.call(this)},i.update=function(e){this.track_&&(!e||"addtrack"!==e.type&&"removetrack"!==e.type)||this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},i.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);i&&i.addEventListener("load",this.updateHandler_)}}},i.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],e=t.length-1;e>=0;e--){var i=t[e];if(i.kind===this.kind_)return i}},i.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(hr(this.kind_))},i.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},i.createItems=function(){var t=[];if(!this.track_)return t;var e=this.track_.cues;if(!e)return t;for(var i=0,n=e.length;i<n;i++){var r=e[i],s=new Ba(this.player_,{track:this.track_,cue:r});t.push(s)}return t},e}(Na);ja.prototype.kind_="chapters",ja.prototype.controlText_="Chapters",_r.registerComponent("ChaptersButton",ja);var Ua=function(t){function e(e,i,n){var r;r=t.call(this,e,i,n)||this;var s=e.textTracks(),a=Wn(c()(r),r.handleTracksChange);return s.addEventListener("change",a),r.on("dispose",(function(){s.removeEventListener("change",a)})),r}p()(e,t);var i=e.prototype;return i.handleTracksChange=function(t){for(var e=this.player().textTracks(),i=!1,n=0,r=e.length;n<r;n++){var s=e[n];if(s.kind!==this.kind_&&"showing"===s.mode){i=!0;break}}i?this.disable():this.enable()},i.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(Na);Ua.prototype.kind_="descriptions",Ua.prototype.controlText_="Descriptions",_r.registerComponent("DescriptionsButton",Ua);var Fa=function(t){function e(e,i,n){return t.call(this,e,i,n)||this}p()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(Na);Fa.prototype.kind_="subtitles",Fa.prototype.controlText_="Subtitles",_r.registerComponent("SubtitlesButton",Fa);var za=function(t){function e(e,i){var n;return i.track={player:e,kind:i.kind,label:i.kind+" settings",selectable:!1,default:!1,mode:"disabled"},i.selectable=!1,i.name="CaptionSettingsMenuItem",n=t.call(this,e,i)||this,n.addClass("vjs-texttrack-settings"),n.controlText(", opens "+i.kind+" settings dialog"),n}p()(e,t);var i=e.prototype;return i.handleClick=function(t){this.player().getChild("textTrackSettings").open()},e}(Ra);_r.registerComponent("CaptionSettingsMenuItem",za);var Va=function(t){function e(e,i,n){return t.call(this,e,i,n)||this}p()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-captions-button "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new za(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,e)},e}(Na);Va.prototype.kind_="captions",Va.prototype.controlText_="Captions",_r.registerComponent("CaptionsButton",Va);var Ha=function(t){function e(){return t.apply(this,arguments)||this}p()(e,t);var i=e.prototype;return i.createEl=function(e,i,n){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);"captions"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),r+="</span>";var s=t.prototype.createEl.call(this,e,mi({innerHTML:r},i),n);return s},e}(Ra);_r.registerComponent("SubsCapsMenuItem",Ha);var qa=function(t){function e(e,i){var n;return void 0===i&&(i={}),n=t.call(this,e,i)||this,n.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(n.player_.language_)>-1&&(n.label_="captions"),n.menuButton_.controlText(hr(n.label_)),n}p()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new za(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=t.prototype.createItems.call(this,e,Ha),e},e}(Na);qa.prototype.kinds_=["captions","subtitles"],qa.prototype.controlText_="Subtitles",_r.registerComponent("SubsCapsButton",qa);var Ga=function(t){function e(e,i){var n,r=i.track,s=e.audioTracks();i.label=r.label||r.language||"Unknown",i.selected=r.enabled,n=t.call(this,e,i)||this,n.track=r,n.addClass("vjs-"+r.kind+"-menu-item");var a=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];n.handleTracksChange.apply(c()(n),e)};return s.addEventListener("change",a),n.on("dispose",(function(){s.removeEventListener("change",a)})),n}p()(e,t);var i=e.prototype;return i.createEl=function(e,i,n){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);"main-desc"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),r+="</span>";var s=t.prototype.createEl.call(this,e,mi({innerHTML:r},i),n);return s},i.handleClick=function(e){t.prototype.handleClick.call(this,e),this.track.enabled=!0},i.handleTracksChange=function(t){this.selected(this.track.enabled)},e}(La);_r.registerComponent("AudioTrackMenuItem",Ga);var Wa=function(t){function e(e,i){return void 0===i&&(i={}),i.tracks=e.audioTracks(),t.call(this,e,i)||this}p()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-audio-button "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(t){void 0===t&&(t=[]),this.hideThreshold_=1;for(var e=this.player_.audioTracks(),i=0;i<e.length;i++){var n=e[i];t.push(new Ga(this.player_,{track:n,selectable:!0,multiSelectable:!1}))}return t},e}(Oa);Wa.prototype.controlText_="Audio Track",_r.registerComponent("AudioTrackButton",Wa);var $a=function(t){function e(e,i){var n,r=i.rate,s=parseFloat(r,10);return i.label=r,i.selected=1===s,i.selectable=!0,i.multiSelectable=!1,n=t.call(this,e,i)||this,n.label=r,n.rate=s,n.on(e,"ratechange",(function(t){return n.update(t)})),n}p()(e,t);var i=e.prototype;return i.handleClick=function(e){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},i.update=function(t){this.selected(this.player().playbackRate()===this.rate)},e}(La);$a.prototype.contentElType="button",_r.registerComponent("PlaybackRateMenuItem",$a);var Ka=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.menuButton_.el_.setAttribute("aria-describedby",n.labelElId_),n.updateVisibility(),n.updateLabel(),n.on(e,"loadstart",(function(t){return n.updateVisibility(t)})),n.on(e,"ratechange",(function(t){return n.updateLabel(t)})),n}p()(e,t);var i=e.prototype;return i.createEl=function(){var e=t.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=$i("div",{className:"vjs-playback-rate-value",id:this.labelElId_,innerHTML:"1x"}),e.appendChild(this.labelEl_),e},i.dispose=function(){this.labelEl_=null,t.prototype.dispose.call(this)},i.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildWrapperCSSClass.call(this)},i.createMenu=function(){var t=new Aa(this.player()),e=this.playbackRates();if(e)for(var i=e.length-1;i>=0;i--)t.addChild(new $a(this.player(),{rate:e[i]+"x"}));return t},i.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},i.handleClick=function(t){for(var e=this.player().playbackRate(),i=this.playbackRates(),n=i[0],r=0;r<i.length;r++)if(i[r]>e){n=i[r];break}this.player().playbackRate(n)},i.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},i.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},i.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},i.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},e}(Ia);Ka.prototype.controlText_="Playback Rate",_r.registerComponent("PlaybackRateMenuButton",Ka);var Za=function(t){function e(){return t.apply(this,arguments)||this}p()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},e}(_r);_r.registerComponent("Spacer",Za);var Xa=function(t){function e(){return t.apply(this,arguments)||this}p()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){var e=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML=" ",e},e}(Za);_r.registerComponent("CustomControlSpacer",Xa);var Ya=function(t){function e(){return t.apply(this,arguments)||this}p()(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(_r);Ya.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in o.a&&Ya.prototype.options_.children.splice(Ya.prototype.options_.children.length-1,0,"pictureInPictureToggle"),_r.registerComponent("ControlBar",Ya);var Qa=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.on(e,"error",(function(t){return n.open(t)})),n}p()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},i.content=function(){var t=this.player().error();return t?this.localize(t.message):""},e}(Pr);Qa.prototype.options_=u()({},Pr.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),_r.registerComponent("ErrorDisplay",Qa);var Ja="vjs-text-track-settings",to=["#000","Black"],eo=["#00F","Blue"],io=["#0FF","Cyan"],no=["#0F0","Green"],ro=["#F0F","Magenta"],so=["#F00","Red"],ao=["#FFF","White"],oo=["#FF0","Yellow"],lo=["1","Opaque"],uo=["0.5","Semi-Transparent"],ho=["0","Transparent"],co={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[to,ao,so,no,eo,oo,ro,io]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[lo,uo,ho]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[ao,to,so,no,eo,oo,ro,io]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[lo,uo]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[ho,uo,lo]}};function po(t,e){if(e&&(t=e(t)),t&&"none"!==t)return t}function fo(t,e){var i=t.options[t.options.selectedIndex].value;return po(i,e)}function mo(t,e,i){if(e)for(var n=0;n<t.options.length;n++)if(po(t.options[n].value,i)===e){t.selectedIndex=n;break}}co.windowColor.options=co.backgroundColor.options;var go=function(t){function e(e,i){var n;return i.temporary=!1,n=t.call(this,e,i)||this,n.updateDisplay=n.updateDisplay.bind(c()(n)),n.fill(),n.hasBeenOpened_=n.hasBeenFilled_=!0,n.endDialog=$i("p",{className:"vjs-control-text",textContent:n.localize("End of dialog window.")}),n.el().appendChild(n.endDialog),n.setDefaults(),void 0===i.persistTextTrackSettings&&(n.options_.persistTextTrackSettings=n.options_.playerOptions.persistTextTrackSettings),n.on(n.$(".vjs-done-button"),"click",(function(){n.saveSettings(),n.close()})),n.on(n.$(".vjs-default-button"),"click",(function(){n.setDefaults(),n.updateDisplay()})),pi(co,(function(t){n.on(n.$(t.selector),"change",n.updateDisplay)})),n.options_.persistTextTrackSettings&&n.restoreSettings(),n}p()(e,t);var i=e.prototype;return i.dispose=function(){this.endDialog=null,t.prototype.dispose.call(this)},i.createElSelect_=function(t,e,i){var n=this;void 0===e&&(e=""),void 0===i&&(i="label");var r=co[t],s=r.id.replace("%s",this.id_),a=[e,s].join(" ").trim();return["<"+i+' id="'+s+'" class="'+("label"===i?"vjs-label":"")+'">',this.localize(r.label),"</"+i+">",'<select aria-labelledby="'+a+'">'].concat(r.options.map((function(t){var e=s+"-"+t[1].replace(/\W+/g,"");return['<option id="'+e+'" value="'+t[0]+'" ','aria-labelledby="'+a+" "+e+'">',n.localize(t[1]),"</option>"].join("")}))).concat("</select>").join("")},i.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},i.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},i.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},i.createElColors_=function(){return $i("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},i.createElFont_=function(){return $i("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},i.createElControls_=function(){var t=this.localize("restore all settings to the default values");return $i("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},i.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},i.label=function(){return this.localize("Caption Settings Dialog")},i.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},i.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},i.getValues=function(){var t=this;return fi(co,(function(e,i,n){var r=fo(t.$(i.selector),i.parser);return void 0!==r&&(e[n]=r),e}),{})},i.setValues=function(t){var e=this;pi(co,(function(i,n){mo(e.$(i.selector),t[n],i.parser)}))},i.setDefaults=function(){var t=this;pi(co,(function(e){var i=e.hasOwnProperty("default")?e["default"]:0;t.$(e.selector).selectedIndex=i}))},i.restoreSettings=function(){var t;try{t=JSON.parse(s.a.localStorage.getItem(Ja))}catch(e){ui.warn(e)}t&&this.setValues(t)},i.saveSettings=function(){if(this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?s.a.localStorage.setItem(Ja,JSON.stringify(t)):s.a.localStorage.removeItem(Ja)}catch(e){ui.warn(e)}}},i.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},i.conditionalBlur_=function(){this.previouslyActiveEl_=null;var t=this.player_.controlBar,e=t&&t.subsCapsButton,i=t&&t.captionsButton;e?e.focus():i&&i.focus()},e}(Pr);_r.registerComponent("TextTrackSettings",go);var _o=function(t){function e(e,i){var n,r=i.ResizeObserver||s.a.ResizeObserver;null===i.ResizeObserver&&(r=!1);var a=dr({createEl:!r,reportTouchActivity:!1},i);return n=t.call(this,e,a)||this,n.ResizeObserver=i.ResizeObserver||s.a.ResizeObserver,n.loadListener_=null,n.resizeObserver_=null,n.debouncedHandler_=Kn((function(){n.resizeHandler()}),100,!1,c()(n)),r?(n.resizeObserver_=new n.ResizeObserver(n.debouncedHandler_),n.resizeObserver_.observe(e.el())):(n.loadListener_=function(){if(n.el_&&n.el_.contentWindow){var t=n.debouncedHandler_,e=n.unloadListener_=function(){Un(this,"resize",t),Un(this,"unload",e),e=null};jn(n.el_.contentWindow,"unload",e),jn(n.el_.contentWindow,"resize",t)}},n.one("load",n.loadListener_)),n}p()(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},i.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},i.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,t.prototype.dispose.call(this)},e}(_r);_r.registerComponent("ResizeManager",_o);var vo={trackingThreshold:30,liveTolerance:15},yo=function(t){function e(e,i){var n,r=dr(vo,i,{createEl:!1});return n=t.call(this,e,r)||this,n.handleVisibilityChange_=function(t){return n.handleVisibilityChange(t)},n.trackLiveHandler_=function(){return n.trackLive_()},n.handlePlay_=function(t){return n.handlePlay(t)},n.handleFirstTimeupdate_=function(t){return n.handleFirstTimeupdate(t)},n.handleSeeked_=function(t){return n.handleSeeked(t)},n.seekToLiveEdge_=function(t){return n.seekToLiveEdge(t)},n.reset_(),n.on(n.player_,"durationchange",(function(t){return n.handleDurationchange(t)})),n.one(n.player_,"canplay",(function(){return n.toggleTracking()})),Oi&&"hidden"in o.a&&"visibilityState"in o.a&&n.on(o.a,"visibilitychange",n.handleVisibilityChange_),n}p()(e,t);var i=e.prototype;return i.handleVisibilityChange=function(){this.player_.duration()===1/0&&(o.a.hidden?this.stopTracking():this.startTracking())},i.trackLive_=function(){var t=this.player_.seekable();if(t&&t.length){var e=Number(s.a.performance.now().toFixed(4)),i=-1===this.lastTime_?0:(e-this.lastTime_)/1e3;this.lastTime_=e,this.pastSeekEnd_=this.pastSeekEnd()+i;var n=this.liveCurrentTime(),r=this.player_.currentTime(),a=this.player_.paused()||this.seekedBehindLive_||Math.abs(n-r)>this.options_.liveTolerance;this.timeupdateSeen_&&n!==1/0||(a=!1),a!==this.behindLiveEdge_&&(this.behindLiveEdge_=a,this.trigger("liveedgechange"))}},i.handleDurationchange=function(){this.toggleTracking()},i.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},i.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,Gn),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},i.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},i.handleSeeked=function(){var t=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&t>2,this.nextSeekedFromUser_=!1,this.trackLive_()},i.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},i.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},i.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},i.stopTracking=function(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},i.seekableEnd=function(){var t=this.player_.seekable(),e=[],i=t?t.length:0;while(i--)e.push(t.end(i));return e.length?e.sort()[e.length-1]:1/0},i.seekableStart=function(){var t=this.player_.seekable(),e=[],i=t?t.length:0;while(i--)e.push(t.start(i));return e.length?e.sort()[0]:0},i.liveWindow=function(){var t=this.liveCurrentTime();return t===1/0?0:t-this.seekableStart()},i.isLive=function(){return this.isTracking()},i.atLiveEdge=function(){return!this.behindLiveEdge()},i.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},i.pastSeekEnd=function(){var t=this.seekableEnd();return-1!==this.lastSeekEnd_&&t!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=t,this.pastSeekEnd_},i.behindLiveEdge=function(){return this.behindLiveEdge_},i.isTracking=function(){return"number"===typeof this.trackingInterval_},i.seekToLiveEdge=function(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},i.dispose=function(){this.off(o.a,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),t.prototype.dispose.call(this)},e}(_r);_r.registerComponent("LiveTracker",yo);var bo,To=function(t){var e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;var i=t.$$("source"),n=[],r="";if(!i.length)return!1;for(var s=0;s<i.length;s++){var a=i[s].src;a&&-1===n.indexOf(a)&&n.push(a)}return!!n.length&&(1===n.length&&(r=n[0]),t.triggerSourceset(r),!0)},wo=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(t){var e=o.a.createElement(this.nodeName.toLowerCase());e.innerHTML=t;var i=o.a.createDocumentFragment();while(e.childNodes.length)i.appendChild(e.childNodes[0]);return this.innerText="",s.a.Element.prototype.appendChild.call(this,i),this.innerHTML}}),So=function(t,e){for(var i={},n=0;n<t.length;n++)if(i=Object.getOwnPropertyDescriptor(t[n],e),i&&i.set&&i.get)break;return i.enumerable=!0,i.configurable=!0,i},Eo=function(t){return So([t.el(),s.a.HTMLMediaElement.prototype,s.a.Element.prototype,wo],"innerHTML")},Co=function(t){var e=t.el();if(!e.resetSourceWatch_){var i={},n=Eo(t),r=function(i){return function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];var a=i.apply(e,r);return To(t),a}};["append","appendChild","insertAdjacentHTML"].forEach((function(t){e[t]&&(i[t]=e[t],e[t]=r(i[t]))})),Object.defineProperty(e,"innerHTML",dr(n,{set:r(n.set)})),e.resetSourceWatch_=function(){e.resetSourceWatch_=null,Object.keys(i).forEach((function(t){e[t]=i[t]})),Object.defineProperty(e,"innerHTML",n)},t.one("sourceset",e.resetSourceWatch_)}},ko=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?Kr(s.a.Element.prototype.getAttribute.call(this,"src")):""},set:function(t){return s.a.Element.prototype.setAttribute.call(this,"src",t),t}}),xo=function(t){return So([t.el(),s.a.HTMLMediaElement.prototype,ko],"src")},Mo=function(t){if(t.featuresSourceset){var e=t.el();if(!e.resetSourceset_){var i=xo(t),n=e.setAttribute,r=e.load;Object.defineProperty(e,"src",dr(i,{set:function(n){var r=i.set.call(e,n);return t.triggerSourceset(e.src),r}})),e.setAttribute=function(i,r){var s=n.call(e,i,r);return/src/i.test(i)&&t.triggerSourceset(e.src),s},e.load=function(){var i=r.call(e);return To(t)||(t.triggerSourceset(""),Co(t)),i},e.currentSrc?t.triggerSourceset(e.currentSrc):To(t)||Co(t),e.resetSourceset_=function(){e.resetSourceset_=null,e.load=r,e.setAttribute=n,Object.defineProperty(e,"src",i),e.resetSourceWatch_&&e.resetSourceWatch_()}}}},Ao=function(t,e,i,n){void 0===n&&(n=!0);var r=function(i){return Object.defineProperty(t,e,{value:i,enumerable:!0,writable:!0})},s={configurable:!0,enumerable:!0,get:function(){var t=i();return r(t),t}};return n&&(s.set=r),Object.defineProperty(t,e,s)},Io=function(t){function e(e,i){var n;n=t.call(this,e,i)||this;var r=e.source,s=!1;if(r&&(n.el_.currentSrc!==r.src||e.tag&&3===e.tag.initNetworkState_)?n.setSource(r):n.handleLateInit_(n.el_),e.enableSourceset&&n.setupSourcesetHandling_(),n.isScrubbing_=!1,n.el_.hasChildNodes()){var a=n.el_.childNodes,o=a.length,l=[];while(o--){var u=a[o],h=u.nodeName.toLowerCase();"track"===h&&(n.featuresNativeTextTracks?(n.remoteTextTrackEls().addTrackElement_(u),n.remoteTextTracks().addTrack(u.track),n.textTracks().addTrack(u.track),s||n.el_.hasAttribute("crossorigin")||!Xr(u.src)||(s=!0)):l.push(u))}for(var c=0;c<l.length;c++)n.el_.removeChild(l[c])}return n.proxyNativeTracks_(),n.featuresNativeTextTracks&&s&&ui.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),n.restoreMetadataTracksInIOSNativePlayer_(),(Ri||Ni||ki)&&!0===e.nativeControlsForTouch&&n.setControls(!0),n.proxyWebkitFullscreen_(),n.triggerReady(),n}p()(e,t);var i=e.prototype;return i.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),e.disposeMediaElement(this.el_),this.options_=null,t.prototype.dispose.call(this)},i.setupSourcesetHandling_=function(){Mo(this)},i.restoreMetadataTracksInIOSNativePlayer_=function(){var t,e=this.textTracks(),i=function(){t=[];for(var i=0;i<e.length;i++){var n=e[i];"metadata"===n.kind&&t.push({track:n,storedMode:n.mode})}};i(),e.addEventListener("change",i),this.on("dispose",(function(){return e.removeEventListener("change",i)}));var n=function i(){for(var n=0;n<t.length;n++){var r=t[n];"disabled"===r.track.mode&&r.track.mode!==r.storedMode&&(r.track.mode=r.storedMode)}e.removeEventListener("change",i)};this.on("webkitbeginfullscreen",(function(){e.removeEventListener("change",i),e.removeEventListener("change",n),e.addEventListener("change",n)})),this.on("webkitendfullscreen",(function(){e.removeEventListener("change",i),e.addEventListener("change",i),e.removeEventListener("change",n)}))},i.overrideNative_=function(t,e){var i=this;if(e===this["featuresNative"+t+"Tracks"]){var n=t.toLowerCase();this[n+"TracksListeners_"]&&Object.keys(this[n+"TracksListeners_"]).forEach((function(t){var e=i.el()[n+"Tracks"];e.removeEventListener(t,i[n+"TracksListeners_"][t])})),this["featuresNative"+t+"Tracks"]=!e,this[n+"TracksListeners_"]=null,this.proxyNativeTracksForType_(n)}},i.overrideNativeAudioTracks=function(t){this.overrideNative_("Audio",t)},i.overrideNativeVideoTracks=function(t){this.overrideNative_("Video",t)},i.proxyNativeTracksForType_=function(t){var e=this,i=ls[t],n=this.el()[i.getterName],r=this[i.getterName]();if(this["featuresNative"+i.capitalName+"Tracks"]&&n&&n.addEventListener){var s={change:function(i){var n={type:"change",target:r,currentTarget:r,srcElement:r};r.trigger(n),"text"===t&&e[us.remoteText.getterName]().trigger(n)},addtrack:function(t){r.addTrack(t.track)},removetrack:function(t){r.removeTrack(t.track)}},a=function(){for(var t=[],e=0;e<r.length;e++){for(var i=!1,s=0;s<n.length;s++)if(n[s]===r[e]){i=!0;break}i||t.push(r[e])}while(t.length)r.removeTrack(t.shift())};this[i.getterName+"Listeners_"]=s,Object.keys(s).forEach((function(t){var i=s[t];n.addEventListener(t,i),e.on("dispose",(function(e){return n.removeEventListener(t,i)}))})),this.on("loadstart",a),this.on("dispose",(function(t){return e.off("loadstart",a)}))}},i.proxyNativeTracks_=function(){var t=this;ls.names.forEach((function(e){t.proxyNativeTracksForType_(e)}))},i.createEl=function(){var t=this.options_.tag;if(!t||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(t){var i=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(i,t),e.disposeMediaElement(t),t=i}else{t=o.a.createElement("video");var n=this.options_.tag&&en(this.options_.tag),r=dr({},n);Ri&&!0===this.options_.nativeControlsForTouch||delete r.controls,tn(t,mi(r,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}"undefined"!==typeof this.options_.preload&&rn(t,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(t.disablePictureInPicture=this.options_.disablePictureInPicture);for(var s=["loop","muted","playsinline","autoplay"],a=0;a<s.length;a++){var l=s[a],u=this.options_[l];"undefined"!==typeof u&&(u?rn(t,l,l):sn(t,l),t[l]=u)}return t},i.handleLateInit_=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var e=!1,i=function(){e=!0};this.on("loadstart",i);var n=function(){e||this.trigger("loadstart")};return this.on("loadedmetadata",n),void this.ready((function(){this.off("loadstart",i),this.off("loadedmetadata",n),e||this.trigger("loadstart")}))}var r=["loadstart"];r.push("loadedmetadata"),t.readyState>=2&&r.push("loadeddata"),t.readyState>=3&&r.push("canplay"),t.readyState>=4&&r.push("canplaythrough"),this.ready((function(){r.forEach((function(t){this.trigger(t)}),this)}))}},i.setScrubbing=function(t){this.isScrubbing_=t},i.scrubbing=function(){return this.isScrubbing_},i.setCurrentTime=function(t){try{this.isScrubbing_&&this.el_.fastSeek&&ji?this.el_.fastSeek(t):this.el_.currentTime=t}catch(e){ui(e,"Video is not ready. (Video.js)")}},i.duration=function(){var t=this;if(this.el_.duration===1/0&&Ei&&Ai&&0===this.el_.currentTime){var e=function e(){t.el_.currentTime>0&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN},i.width=function(){return this.el_.offsetWidth},i.height=function(){return this.el_.offsetHeight},i.proxyWebkitFullscreen_=function(){var t=this;if("webkitDisplayingFullscreen"in this.el_){var e=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},i=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",i),this.on("dispose",(function(){t.off("webkitbeginfullscreen",i),t.off("webkitendfullscreen",e)}))}},i.supportsFullScreen=function(){if("function"===typeof this.el_.webkitEnterFullScreen){var t=s.a.navigator&&s.a.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},i.enterFullScreen=function(){var t=this.el_;if(t.paused&&t.networkState<=t.HAVE_METADATA)kr(this.el_.play()),this.setTimeout((function(){t.pause();try{t.webkitEnterFullScreen()}catch(e){this.trigger("fullscreenerror",e)}}),0);else try{t.webkitEnterFullScreen()}catch(e){this.trigger("fullscreenerror",e)}},i.exitFullScreen=function(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))},i.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},i.src=function(t){if(void 0===t)return this.el_.src;this.setSrc(t)},i.reset=function(){e.resetMediaElement(this.el_)},i.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},i.setControls=function(t){this.el_.controls=!!t},i.addTextTrack=function(e,i,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,i,n):t.prototype.addTextTrack.call(this,e,i,n)},i.createRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,e);var i=o.a.createElement("track");return e.kind&&(i.kind=e.kind),e.label&&(i.label=e.label),(e.language||e.srclang)&&(i.srclang=e.language||e.srclang),e["default"]&&(i["default"]=e["default"]),e.id&&(i.id=e.id),e.src&&(i.src=e.src),i},i.addRemoteTextTrack=function(e,i){var n=t.prototype.addRemoteTextTrack.call(this,e,i);return this.featuresNativeTextTracks&&this.el().appendChild(n),n},i.removeRemoteTextTrack=function(e){if(t.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks){var i=this.$$("track"),n=i.length;while(n--)e!==i[n]&&e!==i[n].track||this.el().removeChild(i[n])}},i.getVideoPlaybackQuality=function(){if("function"===typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var t={};return"undefined"!==typeof this.el().webkitDroppedFrameCount&&"undefined"!==typeof this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),s.a.performance&&"function"===typeof s.a.performance.now?t.creationTime=s.a.performance.now():s.a.performance&&s.a.performance.timing&&"number"===typeof s.a.performance.timing.navigationStart&&(t.creationTime=s.a.Date.now()-s.a.performance.timing.navigationStart),t},e}(ds);Ao(Io,"TEST_VID",(function(){if(Hi()){var t=o.a.createElement("video"),e=o.a.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t}})),Io.isSupported=function(){try{Io.TEST_VID.volume=.5}catch(t){return!1}return!(!Io.TEST_VID||!Io.TEST_VID.canPlayType)},Io.canPlayType=function(t){return Io.TEST_VID.canPlayType(t)},Io.canPlaySource=function(t,e){return Io.canPlayType(t.type)},Io.canControlVolume=function(){try{var t=Io.TEST_VID.volume;return Io.TEST_VID.volume=t/2+.1,t!==Io.TEST_VID.volume}catch(e){return!1}},Io.canMuteVolume=function(){try{var t=Io.TEST_VID.muted;return Io.TEST_VID.muted=!t,Io.TEST_VID.muted?rn(Io.TEST_VID,"muted","muted"):sn(Io.TEST_VID,"muted","muted"),t!==Io.TEST_VID.muted}catch(e){return!1}},Io.canControlPlaybackRate=function(){if(Ei&&Ai&&Ii<58)return!1;try{var t=Io.TEST_VID.playbackRate;return Io.TEST_VID.playbackRate=t/2+.1,t!==Io.TEST_VID.playbackRate}catch(e){return!1}},Io.canOverrideAttributes=function(){try{var t=function(){};Object.defineProperty(o.a.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(o.a.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(o.a.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(o.a.createElement("audio"),"innerHTML",{get:t,set:t})}catch(e){return!1}return!0},Io.supportsNativeTextTracks=function(){return ji||Bi&&Ai},Io.supportsNativeVideoTracks=function(){return!(!Io.TEST_VID||!Io.TEST_VID.videoTracks)},Io.supportsNativeAudioTracks=function(){return!(!Io.TEST_VID||!Io.TEST_VID.audioTracks)},Io.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresVolumeControl","canControlVolume"],["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach((function(t){var e=t[0],i=t[1];Ao(Io.prototype,e,(function(){return Io[i]()}),!0)})),Io.prototype.movingMediaElementInDOM=!Bi,Io.prototype.featuresFullscreenResize=!0,Io.prototype.featuresProgressEvents=!0,Io.prototype.featuresTimeupdateEvents=!0,Io.patchCanPlayType=function(){Ci>=4&&!xi&&!Ai&&(bo=Io.TEST_VID&&Io.TEST_VID.constructor.prototype.canPlayType,Io.TEST_VID.constructor.prototype.canPlayType=function(t){var e=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;return t&&e.test(t)?"maybe":bo.call(this,t)})},Io.unpatchCanPlayType=function(){var t=Io.TEST_VID.constructor.prototype.canPlayType;return bo&&(Io.TEST_VID.constructor.prototype.canPlayType=bo),t},Io.patchCanPlayType(),Io.disposeMediaElement=function(t){if(t){t.parentNode&&t.parentNode.removeChild(t);while(t.hasChildNodes())t.removeChild(t.firstChild);t.removeAttribute("src"),"function"===typeof t.load&&function(){try{t.load()}catch(e){}}()}},Io.resetMediaElement=function(t){if(t){var e=t.querySelectorAll("source"),i=e.length;while(i--)t.removeChild(e[i]);t.removeAttribute("src"),"function"===typeof t.load&&function(){try{t.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(t){Io.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(t){Io.prototype["set"+hr(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach((function(t){Io.prototype[t]=function(){return this.el_[t]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach((function(t){Io.prototype["set"+hr(t)]=function(e){this.el_[t]=e}})),["pause","load","play"].forEach((function(t){Io.prototype[t]=function(){return this.el_[t]()}})),ds.withSourceHandlers(Io),Io.nativeSourceHandler={},Io.nativeSourceHandler.canPlayType=function(t){try{return Io.TEST_VID.canPlayType(t)}catch(e){return""}},Io.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Io.nativeSourceHandler.canPlayType(t.type);if(t.src){var i=Zr(t.src);return Io.nativeSourceHandler.canPlayType("video/"+i)}return""},Io.nativeSourceHandler.handleSource=function(t,e,i){e.setSrc(t.src)},Io.nativeSourceHandler.dispose=function(){},Io.registerSourceHandler(Io.nativeSourceHandler),ds.registerTech("Html5",Io);var Oo=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Po={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Lo=["tiny","xsmall","small","medium","large","xlarge","huge"],Ro={};Lo.forEach((function(t){var e="x"===t.charAt(0)?"x-"+t.substring(1):t;Ro[t]="vjs-layout-"+e}));var Do={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},No=function(t){function e(i,n,r){var s;if(i.id=i.id||n.id||"vjs_video_"+In(),n=mi(e.getTagSettings(i),n),n.initChildren=!1,n.createEl=!1,n.evented=!1,n.reportTouchActivity=!1,!n.language)if("function"===typeof i.closest){var a=i.closest("[lang]");a&&a.getAttribute&&(n.language=a.getAttribute("lang"))}else{var l=i;while(l&&1===l.nodeType){if(en(l).hasOwnProperty("lang")){n.language=l.getAttribute("lang");break}l=l.parentNode}}if(s=t.call(this,null,n,r)||this,s.boundDocumentFullscreenChange_=function(t){return s.documentFullscreenChange_(t)},s.boundFullWindowOnEscKey_=function(t){return s.fullWindowOnEscKey(t)},s.boundUpdateStyleEl_=function(t){return s.updateStyleEl_(t)},s.boundApplyInitTime_=function(t){return s.applyInitTime_(t)},s.boundUpdateCurrentBreakpoint_=function(t){return s.updateCurrentBreakpoint_(t)},s.boundHandleTechClick_=function(t){return s.handleTechClick_(t)},s.boundHandleTechDoubleClick_=function(t){return s.handleTechDoubleClick_(t)},s.boundHandleTechTouchStart_=function(t){return s.handleTechTouchStart_(t)},s.boundHandleTechTouchMove_=function(t){return s.handleTechTouchMove_(t)},s.boundHandleTechTouchEnd_=function(t){return s.handleTechTouchEnd_(t)},s.boundHandleTechTap_=function(t){return s.handleTechTap_(t)},s.isFullscreen_=!1,s.log=hi(s.id_),s.fsApi_=ei,s.isPosterFromTech_=!1,s.queuedCallbacks_=[],s.isReady_=!1,s.hasStarted_=!1,s.userActive_=!1,s.debugEnabled_=!1,!s.options_||!s.options_.techOrder||!s.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(s.tag=i,s.tagAttributes=i&&en(i),s.language(s.options_.language),n.languages){var u={};Object.getOwnPropertyNames(n.languages).forEach((function(t){u[t.toLowerCase()]=n.languages[t]})),s.languages_=u}else s.languages_=e.prototype.options_.languages;s.resetCache_(),s.poster_=n.poster||"",s.controls_=!!n.controls,i.controls=!1,i.removeAttribute("controls"),s.changingSrc_=!1,s.playCallbacks_=[],s.playTerminatedQueue_=[],i.hasAttribute("autoplay")?s.autoplay(!0):s.autoplay(s.options_.autoplay),n.plugins&&Object.keys(n.plugins).forEach((function(t){if("function"!==typeof s[t])throw new Error('plugin "'+t+'" does not exist')})),s.scrubbing_=!1,s.el_=s.createEl(),ar(c()(s),{eventBusKey:"el_"}),s.fsApi_.requestFullscreen&&(jn(o.a,s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_),s.on(s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_)),s.fluid_&&s.on(["playerreset","resize"],s.boundUpdateStyleEl_);var h=dr(s.options_);n.plugins&&Object.keys(n.plugins).forEach((function(t){s[t](n.plugins[t])})),n.debug&&s.debug(!0),s.options_.playerOptions=h,s.middleware_=[],s.initChildren(),s.isAudio("audio"===i.nodeName.toLowerCase()),s.controls()?s.addClass("vjs-controls-enabled"):s.addClass("vjs-controls-disabled"),s.el_.setAttribute("role","region"),s.isAudio()?s.el_.setAttribute("aria-label",s.localize("Audio Player")):s.el_.setAttribute("aria-label",s.localize("Video Player")),s.isAudio()&&s.addClass("vjs-audio"),s.flexNotSupported_()&&s.addClass("vjs-no-flex"),Ri&&s.addClass("vjs-touch-enabled"),Bi||s.addClass("vjs-workinghover"),e.players[s.id_]=c()(s);var d=ti.split(".")[0];return s.addClass("vjs-v"+d),s.userActive(!0),s.reportUserActivity(),s.one("play",(function(t){return s.listenForUserActivity_(t)})),s.on("stageclick",(function(t){return s.handleStageClick_(t)})),s.on("keydown",(function(t){return s.handleKeyDown(t)})),s.on("languagechange",(function(t){return s.handleLanguagechange(t)})),s.breakpoints(s.options_.breakpoints),s.responsive(s.options_.responsive),s}p()(e,t);var i=e.prototype;return i.dispose=function(){var i=this;this.trigger("dispose"),this.off("dispose"),Un(o.a,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Un(o.a,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),xs(this),hs.names.forEach((function(t){var e=hs[t],n=i[e.getterName]();n&&n.off&&n.off()})),t.prototype.dispose.call(this)},i.createEl=function(){var e,i=this.tag,n=this.playerElIngest_=i.parentNode&&i.parentNode.hasAttribute&&i.parentNode.hasAttribute("data-vjs-player"),r="video-js"===this.tag.tagName.toLowerCase();n?e=this.el_=i.parentNode:r||(e=this.el_=t.prototype.createEl.call(this,"div"));var a=en(i);if(r){e=this.el_=i,i=this.tag=o.a.createElement("video");while(e.children.length)i.appendChild(e.firstChild);Xi(e,"video-js")||Yi(e,"video-js"),e.appendChild(i),n=this.playerElIngest_=e,Object.keys(e).forEach((function(t){try{i[t]=e[t]}catch(n){}}))}if(i.setAttribute("tabindex","-1"),a.tabindex="-1",(Oi||Ai&&Li)&&(i.setAttribute("role","application"),a.role="application"),i.removeAttribute("width"),i.removeAttribute("height"),"width"in a&&delete a.width,"height"in a&&delete a.height,Object.getOwnPropertyNames(a).forEach((function(t){r&&"class"===t||e.setAttribute(t,a[t]),r&&i.setAttribute(t,a[t])})),i.playerId=i.id,i.id+="_html5_api",i.className="vjs-tech",i.player=e.player=this,this.addClass("vjs-paused"),!0!==s.a.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=kn("vjs-styles-dimensions");var l=vn(".vjs-styles-defaults"),u=vn("head");u.insertBefore(this.styleEl_,l?l.nextSibling:u.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var h=i.getElementsByTagName("a"),c=0;c<h.length;c++){var d=h.item(c);Yi(d,"vjs-hidden"),d.setAttribute("hidden","hidden")}return i.initNetworkState_=i.networkState,i.parentNode&&!n&&i.parentNode.insertBefore(e,i),Zi(i,e),this.children_.unshift(i),this.el_.setAttribute("lang",this.language_),this.el_=e,e},i.crossOrigin=function(t){if(!t)return this.techGet_("crossOrigin");"anonymous"===t||"use-credentials"===t?this.techCall_("setCrossOrigin",t):ui.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+t+'"')},i.width=function(t){return this.dimension("width",t)},i.height=function(t){return this.dimension("height",t)},i.dimension=function(t,e){var i=t+"_";if(void 0===e)return this[i]||0;if(""===e||"auto"===e)return this[i]=void 0,void this.updateStyleEl_();var n=parseFloat(e);isNaN(n)?ui.error('Improper value "'+e+'" supplied for for '+t):(this[i]=n,this.updateStyleEl_())},i.fluid=function(t){var e=this;if(void 0===t)return!!this.fluid_;this.fluid_=!!t,Yn(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),t?(this.addClass("vjs-fluid"),this.fill(!1),Qn(this,(function(){e.on(["playerreset","resize"],e.boundUpdateStyleEl_)}))):this.removeClass("vjs-fluid"),this.updateStyleEl_()},i.fill=function(t){if(void 0===t)return!!this.fill_;this.fill_=!!t,t?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},i.aspectRatio=function(t){if(void 0===t)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},i.updateStyleEl_=function(){if(!0!==s.a.VIDEOJS_NO_DYNAMIC_STYLE){var t,e,i,n;i=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";var r=i.split(":"),a=r[1]/r[0];t=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/a:this.videoWidth()||300,e=void 0!==this.height_?this.height_:t*a,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),xn(this.styleEl_,"\n      ."+n+" {\n        width: "+t+"px;\n        height: "+e+"px;\n      }\n\n      ."+n+".vjs-fluid {\n        padding-top: "+100*a+"%;\n      }\n    ")}else{var o="number"===typeof this.width_?this.width_:this.options_.width,l="number"===typeof this.height_?this.height_:this.options_.height,u=this.tech_&&this.tech_.el();u&&(o>=0&&(u.width=o),l>=0&&(u.height=l))}},i.loadTech_=function(t,e){var i=this;this.tech_&&this.unloadTech_();var n=hr(t),r=t.charAt(0).toLowerCase()+t.slice(1);"Html5"!==n&&this.tag&&(ds.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=n,this.isReady_=!1;var s="string"!==typeof this.autoplay()&&this.autoplay(),a={source:e,autoplay:s,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+r+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};hs.names.forEach((function(t){var e=hs[t];a[e.getterName]=i[e.privateName]})),mi(a,this.options_[n]),mi(a,this.options_[r]),mi(a,this.options_[t.toLowerCase()]),this.tag&&(a.tag=this.tag),e&&e.src===this.cache_.src&&this.cache_.currentTime>0&&(a.startTime=this.cache_.currentTime);var o=ds.getTech(t);if(!o)throw new Error("No Tech named '"+n+"' exists! '"+n+"' should be registered using videojs.registerTech()'");this.tech_=new o(a),this.tech_.ready(Wn(this,this.handleTechReady_),!0),Ir.jsonToTextTracks(this.textTracksJson_||[],this.tech_),Oo.forEach((function(t){i.on(i.tech_,t,(function(e){return i["handleTech"+hr(t)+"_"](e)}))})),Object.keys(Po).forEach((function(t){i.on(i.tech_,t,(function(e){0===i.tech_.playbackRate()&&i.tech_.seeking()?i.queuedCallbacks_.push({callback:i["handleTech"+Po[t]+"_"].bind(i),event:e}):i["handleTech"+Po[t]+"_"](e)}))})),this.on(this.tech_,"loadstart",(function(t){return i.handleTechLoadStart_(t)})),this.on(this.tech_,"sourceset",(function(t){return i.handleTechSourceset_(t)})),this.on(this.tech_,"waiting",(function(t){return i.handleTechWaiting_(t)})),this.on(this.tech_,"ended",(function(t){return i.handleTechEnded_(t)})),this.on(this.tech_,"seeking",(function(t){return i.handleTechSeeking_(t)})),this.on(this.tech_,"play",(function(t){return i.handleTechPlay_(t)})),this.on(this.tech_,"firstplay",(function(t){return i.handleTechFirstPlay_(t)})),this.on(this.tech_,"pause",(function(t){return i.handleTechPause_(t)})),this.on(this.tech_,"durationchange",(function(t){return i.handleTechDurationChange_(t)})),this.on(this.tech_,"fullscreenchange",(function(t,e){return i.handleTechFullscreenChange_(t,e)})),this.on(this.tech_,"fullscreenerror",(function(t,e){return i.handleTechFullscreenError_(t,e)})),this.on(this.tech_,"enterpictureinpicture",(function(t){return i.handleTechEnterPictureInPicture_(t)})),this.on(this.tech_,"leavepictureinpicture",(function(t){return i.handleTechLeavePictureInPicture_(t)})),this.on(this.tech_,"error",(function(t){return i.handleTechError_(t)})),this.on(this.tech_,"posterchange",(function(t){return i.handleTechPosterChange_(t)})),this.on(this.tech_,"textdata",(function(t){return i.handleTechTextData_(t)})),this.on(this.tech_,"ratechange",(function(t){return i.handleTechRateChange_(t)})),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===n&&this.tag||Zi(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},i.unloadTech_=function(){var t=this;hs.names.forEach((function(e){var i=hs[e];t[i.privateName]=t[i.getterName]()})),this.textTracksJson_=Ir.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},i.tech=function(t){return void 0===t&&ui.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},i.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mouseup",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},i.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"mouseup",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},i.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},i.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},i.manualAutoplay_=function(t){var e=this;if(this.tech_&&"string"===typeof t){var i,n=function(){var t=e.muted();e.muted(!0);var i=function(){e.muted(t)};e.playTerminatedQueue_.push(i);var n=e.play();if(Cr(n))return n["catch"](i)};if("any"===t&&!0!==this.muted()?(i=this.play(),Cr(i)&&(i=i["catch"](n))):i="muted"===t&&!0!==this.muted()?n():this.play(),Cr(i))return i.then((function(){e.trigger({type:"autoplay-success",autoplay:t})}))["catch"]((function(i){e.trigger({type:"autoplay-failure",autoplay:t})}))}},i.updateSourceCaches_=function(t){void 0===t&&(t="");var e=t,i="";"string"!==typeof e&&(e=t.src,i=t.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],e&&!i&&(i=Ps(this,e)),this.cache_.source=dr({},t,{src:e,type:i});for(var n=this.cache_.sources.filter((function(t){return t.src&&t.src===e})),r=[],s=this.$$("source"),a=[],o=0;o<s.length;o++){var l=en(s[o]);r.push(l),l.src&&l.src===e&&a.push(l.src)}a.length&&!n.length?this.cache_.sources=r:n.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=e},i.handleTechSourceset_=function(t){var e=this;if(!this.changingSrc_){var i=function(t){return e.updateSourceCaches_(t)},n=this.currentSource().src,r=t.src;n&&!/^blob:/.test(n)&&/^blob:/.test(r)&&(!this.lastSource_||this.lastSource_.tech!==r&&this.lastSource_.player!==n)&&(i=function(){}),i(r),t.src||this.tech_.any(["sourceset","loadstart"],(function(t){if("sourceset"!==t.type){var i=e.techGet("currentSrc");e.lastSource_.tech=i,e.updateSourceCaches_(i)}}))}this.lastSource_={player:this.currentSource().src,tech:t.src},this.trigger({src:t.src,type:"sourceset"})},i.hasStarted=function(t){if(void 0===t)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},i.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},i.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((function(t){return t.callback(t.event)})),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},i.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting");var e=this.currentTime(),i=function i(){e!==t.currentTime()&&(t.removeClass("vjs-waiting"),t.off("timeupdate",i))};this.on("timeupdate",i)},i.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},i.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},i.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},i.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},i.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},i.handleTechFirstPlay_=function(){this.options_.starttime&&(ui.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},i.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},i.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},i.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},i.handleTechClick_=function(t){gn(t)&&this.controls_&&(this.paused()?kr(this.play()):this.pause())},i.handleTechDoubleClick_=function(t){if(this.controls_){var e=Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),(function(e){return e.contains(t.target)}));e||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"===typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,t):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}},i.handleTechTap_=function(){this.userActive(!this.userActive())},i.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},i.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},i.handleTechTouchEnd_=function(t){t.cancelable&&t.preventDefault()},i.handleStageClick_=function(){this.reportUserActivity()},i.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},i.documentFullscreenChange_=function(t){var e=t.target.player;if(!e||e===this){var i=this.el(),n=o.a[this.fsApi_.fullscreenElement]===i;!n&&i.matches?n=i.matches(":"+this.fsApi_.fullscreen):!n&&i.msMatchesSelector&&(n=i.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(n)}},i.handleTechFullscreenChange_=function(t,e){e&&(e.nativeIOSFullscreen&&this.toggleClass("vjs-ios-native-fs"),this.isFullscreen(e.isFullscreen))},i.handleTechFullscreenError_=function(t,e){this.trigger("fullscreenerror",e)},i.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},i.handleTechEnterPictureInPicture_=function(t){this.isInPictureInPicture(!0)},i.handleTechLeavePictureInPicture_=function(t){this.isInPictureInPicture(!1)},i.handleTechError_=function(){var t=this.tech_.error();this.error(t)},i.handleTechTextData_=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},i.getCache=function(){return this.cache_},i.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],volume:1}},i.techCall_=function(t,e){this.ready((function(){if(t in Ss)return bs(this.middleware_,this.tech_,t,e);if(t in Es)return Ts(this.middleware_,this.tech_,t,e);try{this.tech_&&this.tech_[t](e)}catch(i){throw ui(i),i}}),!0)},i.techGet_=function(t){if(this.tech_&&this.tech_.isReady_){if(t in ws)return ys(this.middleware_,this.tech_,t);if(t in Es)return Ts(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(e){if(void 0===this.tech_[t])throw ui("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e),e;if("TypeError"===e.name)throw ui("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1,e;throw ui(e),e}}},i.play=function(){var t=this,e=this.options_.Promise||s.a.Promise;return e?new e((function(e){t.play_(e)})):this.play_()},i.play_=function(t){var e=this;void 0===t&&(t=kr),this.playCallbacks_.push(t);var i=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!i)return this.waitToPlay_=function(t){e.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(i||!ji&&!Bi||this.load());var n=this.techGet_("play");null===n?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(n)},i.runPlayTerminatedQueue_=function(){var t=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],t.forEach((function(t){t()}))},i.runPlayCallbacks_=function(t){var e=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],e.forEach((function(e){e(t)}))},i.pause=function(){this.techCall_("pause")},i.paused=function(){return!1!==this.techGet_("paused")},i.played=function(){return this.techGet_("played")||Tr(0,0)},i.scrubbing=function(t){if("undefined"===typeof t)return this.scrubbing_;this.scrubbing_=!!t,this.techCall_("setScrubbing",this.scrubbing_),t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},i.currentTime=function(t){return"undefined"!==typeof t?(t<0&&(t=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",t),void(this.cache_.initTime=0)):(this.cache_.initTime=t,this.off("canplay",this.boundApplyInitTime_),void this.one("canplay",this.boundApplyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},i.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},i.duration=function(t){if(void 0===t)return void 0!==this.cache_.duration?this.cache_.duration:NaN;t=parseFloat(t),t<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(t)||this.trigger("durationchange"))},i.remainingTime=function(){return this.duration()-this.currentTime()},i.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},i.buffered=function(){var t=this.techGet_("buffered");return t&&t.length||(t=Tr(0,0)),t},i.bufferedPercent=function(){return wr(this.buffered(),this.duration())},i.bufferedEnd=function(){var t=this.buffered(),e=this.duration(),i=t.end(t.length-1);return i>e&&(i=e),i},i.volume=function(t){var e;return void 0!==t?(e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall_("setVolume",e),void(e>0&&this.lastVolume_(e))):(e=parseFloat(this.techGet_("volume")),isNaN(e)?1:e)},i.muted=function(t){if(void 0===t)return this.techGet_("muted")||!1;this.techCall_("setMuted",t)},i.defaultMuted=function(t){return void 0!==t?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},i.lastVolume_=function(t){if(void 0===t||0===t)return this.cache_.lastVolume;this.cache_.lastVolume=t},i.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},i.isFullscreen=function(t){if(void 0!==t){var e=this.isFullscreen_;return this.isFullscreen_=Boolean(t),this.isFullscreen_!==e&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_},i.requestFullscreen=function(t){var e=this.options_.Promise||s.a.Promise;if(e){var i=this;return new e((function(e,n){function r(){i.off("fullscreenerror",a),i.off("fullscreenchange",s)}function s(){r(),e()}function a(t,e){r(),n(e)}i.one("fullscreenchange",s),i.one("fullscreenerror",a);var o=i.requestFullscreenHelper_(t);if(o)return o.then(r,r),o}))}return this.requestFullscreenHelper_()},i.requestFullscreenHelper_=function(t){var e,i=this;if(this.fsApi_.prefixed||(e=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==t&&(e=t)),this.fsApi_.requestFullscreen){var n=this.el_[this.fsApi_.requestFullscreen](e);return n&&n.then((function(){return i.isFullscreen(!0)}),(function(){return i.isFullscreen(!1)})),n}this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):this.enterFullWindow()},i.exitFullscreen=function(){var t=this.options_.Promise||s.a.Promise;if(t){var e=this;return new t((function(t,i){function n(){e.off("fullscreenerror",s),e.off("fullscreenchange",r)}function r(){n(),t()}function s(t,e){n(),i(e)}e.one("fullscreenchange",r),e.one("fullscreenerror",s);var a=e.exitFullscreenHelper_();if(a)return a.then(n,n),a}))}return this.exitFullscreenHelper_()},i.exitFullscreenHelper_=function(){var t=this;if(this.fsApi_.requestFullscreen){var e=o.a[this.fsApi_.exitFullscreen]();return e&&e.then((function(){return t.isFullscreen(!1)})),e}this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):this.exitFullWindow()},i.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=o.a.documentElement.style.overflow,jn(o.a,"keydown",this.boundFullWindowOnEscKey_),o.a.documentElement.style.overflow="hidden",Yi(o.a.body,"vjs-full-window"),this.trigger("enterFullWindow")},i.fullWindowOnEscKey=function(t){_.a.isEventKey(t,"Esc")&&!0===this.isFullscreen()&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},i.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,Un(o.a,"keydown",this.boundFullWindowOnEscKey_),o.a.documentElement.style.overflow=this.docOrigOverflow,Qi(o.a.body,"vjs-full-window"),this.trigger("exitFullWindow")},i.disablePictureInPicture=function(t){if(void 0===t)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",t),this.options_.disablePictureInPicture=t,this.trigger("disablepictureinpicturechanged")},i.isInPictureInPicture=function(t){return void 0!==t?(this.isInPictureInPicture_=!!t,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},i.requestPictureInPicture=function(){if("pictureInPictureEnabled"in o.a&&!1===this.disablePictureInPicture())return this.techGet_("requestPictureInPicture")},i.exitPictureInPicture=function(){if("pictureInPictureEnabled"in o.a)return o.a.exitPictureInPicture()},i.handleKeyDown=function(t){var e=this.options_.userActions;if(e&&e.hotkeys){var i=function(t){var e=t.tagName.toLowerCase();if(t.isContentEditable)return!0;var i=["button","checkbox","hidden","radio","reset","submit"];if("input"===e)return-1===i.indexOf(t.type);var n=["textarea"];return-1!==n.indexOf(e)};i(this.el_.ownerDocument.activeElement)||("function"===typeof e.hotkeys?e.hotkeys.call(this,t):this.handleHotkeys(t))}},i.handleHotkeys=function(t){var e=this.options_.userActions?this.options_.userActions.hotkeys:{},i=e.fullscreenKey,n=void 0===i?function(t){return _.a.isEventKey(t,"f")}:i,r=e.muteKey,s=void 0===r?function(t){return _.a.isEventKey(t,"m")}:r,a=e.playPauseKey,l=void 0===a?function(t){return _.a.isEventKey(t,"k")||_.a.isEventKey(t,"Space")}:a;if(n.call(this,t)){t.preventDefault(),t.stopPropagation();var u=_r.getComponent("FullscreenToggle");!1!==o.a[this.fsApi_.fullscreenEnabled]&&u.prototype.handleClick.call(this,t)}else if(s.call(this,t)){t.preventDefault(),t.stopPropagation();var h=_r.getComponent("MuteToggle");h.prototype.handleClick.call(this,t)}else if(l.call(this,t)){t.preventDefault(),t.stopPropagation();var c=_r.getComponent("PlayToggle");c.prototype.handleClick.call(this,t)}},i.canPlayType=function(t){for(var e,i=0,n=this.options_.techOrder;i<n.length;i++){var r=n[i],s=ds.getTech(r);if(s||(s=_r.getComponent(r)),s){if(s.isSupported()&&(e=s.canPlayType(t),e))return e}else ui.error('The "'+r+'" tech is undefined. Skipped browser support check for that tech.')}return""},i.selectSource=function(t){var e,i=this,n=this.options_.techOrder.map((function(t){return[t,ds.getTech(t)]})).filter((function(t){var e=t[0],i=t[1];return i?i.isSupported():(ui.error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.'),!1)})),r=function(t,e,i){var n;return t.some((function(t){return e.some((function(e){if(n=i(t,e),n)return!0}))})),n},s=function(t){return function(e,i){return t(i,e)}},a=function(t,e){var n=t[0],r=t[1];if(r.canPlaySource(e,i.options_[n.toLowerCase()]))return{source:e,tech:n}};return e=this.options_.sourceOrder?r(t,n,s(a)):r(n,t,a),e||!1},i.handleSrc_=function(t,e){var i=this;if("undefined"===typeof t)return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var n=Ls(t);if(n.length){if(this.changingSrc_=!0,e||(this.cache_.sources=n),this.updateSourceCaches_(n[0]),_s(this,n[0],(function(t,r){i.middleware_=r,e||(i.cache_.sources=n),i.updateSourceCaches_(t);var s=i.src_(t);if(s)return n.length>1?i.handleSrc_(n.slice(1)):(i.changingSrc_=!1,i.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0),void i.triggerReady());vs(r,i.tech_)})),this.options_.retryOnError&&n.length>1){var r=function(){i.error(null),i.handleSrc_(n.slice(1),!0)},s=function(){i.off("error",r)};this.one("error",r),this.one("playing",s),this.resetRetryOnError_=function(){i.off("error",r),i.off("playing",s)}}}else this.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0)},i.src=function(t){return this.handleSrc_(t,!1)},i.src_=function(t){var e=this,i=this.selectSource([t]);return!i||(cr(i.tech,this.techName_)?(this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1}),!0),!1):(this.changingSrc_=!0,this.loadTech_(i.tech,i.source),this.tech_.ready((function(){e.changingSrc_=!1})),!1))},i.load=function(){this.techCall_("load")},i.reset=function(){var t=this,e=this.options_.Promise||s.a.Promise;if(this.paused()||!e)this.doReset_();else{var i=this.play();kr(i.then((function(){return t.doReset_()})))}},i.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),Yn(this)&&this.trigger("playerreset")},i.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},i.resetProgressBar_=function(){this.currentTime(0);var t=this.controlBar,e=t.durationDisplay,i=t.remainingTimeDisplay;e&&e.updateContent(),i&&i.updateContent()},i.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},i.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},i.currentSources=function(){var t=this.currentSource(),e=[];return 0!==Object.keys(t).length&&e.push(t),this.cache_.sources||e},i.currentSource=function(){return this.cache_.source||{}},i.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},i.currentType=function(){return this.currentSource()&&this.currentSource().type||""},i.preload=function(t){return void 0!==t?(this.techCall_("setPreload",t),void(this.options_.preload=t)):this.techGet_("preload")},i.autoplay=function(t){if(void 0===t)return this.options_.autoplay||!1;var e;"string"===typeof t&&/(any|play|muted)/.test(t)?(this.options_.autoplay=t,this.manualAutoplay_(t),e=!1):this.options_.autoplay=!!t,e="undefined"===typeof e?this.options_.autoplay:e,this.tech_&&this.techCall_("setAutoplay",e)},i.playsinline=function(t){return void 0!==t?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},i.loop=function(t){return void 0!==t?(this.techCall_("setLoop",t),void(this.options_.loop=t)):this.techGet_("loop")},i.poster=function(t){if(void 0===t)return this.poster_;t||(t=""),t!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))},i.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var t=this.tech_.poster()||"";t!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},i.controls=function(t){if(void 0===t)return!!this.controls_;t=!!t,this.controls_!==t&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},i.usingNativeControls=function(t){if(void 0===t)return!!this.usingNativeControls_;t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},i.error=function(t){if(void 0===t)return this.error_||null;if(this.options_.suppressNotSupportedError&&t&&4===t.code){var e=function(){this.error(t)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],e),void this.one("loadstart",(function(){this.off(["click","touchstart"],e)}))}if(null===t)return this.error_=t,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new Sr(t),this.addClass("vjs-error"),ui.error("(CODE:"+this.error_.code+" "+Sr.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error")},i.reportUserActivity=function(t){this.userActivity_=!0},i.userActive=function(t){if(void 0===t)return this.userActive_;if(t=!!t,t!==this.userActive_){if(this.userActive_=t,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",(function(t){t.stopPropagation(),t.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},i.listenForUserActivity_=function(){var t,e,i,n=Wn(this,this.reportUserActivity),r=function(t){t.screenX===e&&t.screenY===i||(e=t.screenX,i=t.screenY,n())},s=function(){n(),this.clearInterval(t),t=this.setInterval(n,250)},a=function(e){n(),this.clearInterval(t)};this.on("mousedown",s),this.on("mousemove",r),this.on("mouseup",a),this.on("mouseleave",a);var o,l=this.getChild("controlBar");!l||Bi||Ei||(l.on("mouseenter",(function(t){this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout,this.player().options_.inactivityTimeout=0})),l.on("mouseleave",(function(t){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout}))),this.on("keydown",n),this.on("keyup",n),this.setInterval((function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(o);var t=this.options_.inactivityTimeout;t<=0||(o=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),t))}}),250)},i.playbackRate=function(t){if(void 0===t)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",t)},i.defaultPlaybackRate=function(t){return void 0!==t?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},i.isAudio=function(t){if(void 0===t)return!!this.isAudio_;this.isAudio_=!!t},i.addTextTrack=function(t,e,i){if(this.tech_)return this.tech_.addTextTrack(t,e,i)},i.addRemoteTextTrack=function(t,e){if(this.tech_)return this.tech_.addRemoteTextTrack(t,e)},i.removeRemoteTextTrack=function(t){void 0===t&&(t={});var e=t,i=e.track;if(i||(i=t),this.tech_)return this.tech_.removeRemoteTextTrack(i)},i.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},i.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},i.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},i.language=function(t){if(void 0===t)return this.language_;this.language_!==String(t).toLowerCase()&&(this.language_=String(t).toLowerCase(),Yn(this)&&this.trigger("languagechange"))},i.languages=function(){return dr(e.prototype.options_.languages,this.languages_)},i.toJSON=function(){var t=dr(this.options_),e=t.tracks;t.tracks=[];for(var i=0;i<e.length;i++){var n=e[i];n=dr(n),n.player=void 0,t.tracks[i]=n}return t},i.createModal=function(t,e){var i=this;e=e||{},e.content=t||"";var n=new Pr(this,e);return this.addChild(n),n.on("dispose",(function(){i.removeChild(n)})),n.open(),n},i.updateCurrentBreakpoint_=function(){if(this.responsive())for(var t=this.currentBreakpoint(),e=this.currentWidth(),i=0;i<Lo.length;i++){var n=Lo[i],r=this.breakpoints_[n];if(e<=r){if(t===n)return;t&&this.removeClass(Ro[t]),this.addClass(Ro[n]),this.breakpoint_=n;break}}},i.removeCurrentBreakpoint_=function(){var t=this.currentBreakpointClass();this.breakpoint_="",t&&this.removeClass(t)},i.breakpoints=function(t){return void 0===t||(this.breakpoint_="",this.breakpoints_=mi({},Do,t),this.updateCurrentBreakpoint_()),mi(this.breakpoints_)},i.responsive=function(t){if(void 0===t)return this.responsive_;t=Boolean(t);var e=this.responsive_;return t!==e?(this.responsive_=t,t?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),t):void 0},i.currentBreakpoint=function(){return this.breakpoint_},i.currentBreakpointClass=function(){return Ro[this.breakpoint_]||""},i.loadMedia=function(t,e){var i=this;if(t&&"object"===typeof t){this.reset(),this.cache_.media=dr(t);var n=this.cache_.media,r=n.artwork,s=n.poster,a=n.src,o=n.textTracks;!r&&s&&(this.cache_.media.artwork=[{src:s,type:Os(s)}]),a&&this.src(a),s&&this.poster(s),Array.isArray(o)&&o.forEach((function(t){return i.addRemoteTextTrack(t,!1)})),this.ready(e)}},i.getMedia=function(){if(!this.cache_.media){var t=this.poster(),e=this.currentSources(),i=Array.prototype.map.call(this.remoteTextTracks(),(function(t){return{kind:t.kind,label:t.label,language:t.language,src:t.src}})),n={src:e,textTracks:i};return t&&(n.poster=t,n.artwork=[{src:n.poster,type:Os(n.poster)}]),n}return dr(this.cache_.media)},e.getTagSettings=function(t){var e={sources:[],tracks:[]},i=en(t),n=i["data-setup"];if(Xi(t,"vjs-fill")&&(i.fill=!0),Xi(t,"vjs-fluid")&&(i.fluid=!0),null!==n){var r=m()(n||"{}"),s=r[0],a=r[1];s&&ui.error(s),mi(i,a)}if(mi(e,i),t.hasChildNodes())for(var o=t.childNodes,l=0,u=o.length;l<u;l++){var h=o[l],c=h.nodeName.toLowerCase();"source"===c?e.sources.push(en(h)):"track"===c&&e.tracks.push(en(h))}return e},i.flexNotSupported_=function(){var t=o.a.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},i.debug=function(t){if(void 0===t)return this.debugEnabled_;t?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},e}(_r);hs.names.forEach((function(t){var e=hs[t];No.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}})),No.prototype.crossorigin=No.prototype.crossOrigin,No.players={};var Bo=s.a.navigator;No.prototype.options_={techOrder:ds.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Bo&&(Bo.languages&&Bo.languages[0]||Bo.userLanguage||Bo.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach((function(t){No.prototype[t]=function(){return this.techGet_(t)}})),Oo.forEach((function(t){No.prototype["handleTech"+hr(t)+"_"]=function(){return this.trigger(t)}})),_r.registerComponent("Player",No);var jo="plugin",Uo="activePlugins_",Fo={},zo=function(t){return Fo.hasOwnProperty(t)},Vo=function(t){return zo(t)?Fo[t]:void 0},Ho=function(t,e){t[Uo]=t[Uo]||{},t[Uo][e]=!0},qo=function(t,e,i){var n=(i?"before":"")+"pluginsetup";t.trigger(n,e),t.trigger(n+":"+e.name,e)},Go=function(t,e){var i=function(){qo(this,{name:t,plugin:e,instance:null},!0);var i=e.apply(this,arguments);return Ho(this,t),qo(this,{name:t,plugin:e,instance:i}),i};return Object.keys(e).forEach((function(t){i[t]=e[t]})),i},Wo=function(t,e){return e.prototype.name=t,function(){qo(this,{name:t,plugin:e,instance:null},!0);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];var s=S()(e,[this].concat(n));return this[t]=function(){return s},qo(this,s.getEventHash()),s}},$o=function(){function t(e){if(this.constructor===t)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),ar(this),delete this.trigger,lr(this,this.constructor.defaultState),Ho(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}var e=t.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(t){return void 0===t&&(t={}),t.name=this.name,t.plugin=this.constructor,t.instance=this,t},e.trigger=function(t,e){return void 0===e&&(e={}),Fn(this.eventBusEl_,t,this.getEventHash(e))},e.handleStateChanged=function(t){},e.dispose=function(){var t=this.name,e=this.player;this.trigger("dispose"),this.off(),e.off("dispose",this.dispose),e[Uo][t]=!1,this.player=this.state=null,e[t]=Wo(t,Fo[t])},t.isBasic=function(e){var i="string"===typeof e?Vo(e):e;return"function"===typeof i&&!t.prototype.isPrototypeOf(i.prototype)},t.registerPlugin=function(e,i){if("string"!==typeof e)throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+typeof e+".");if(zo(e))ui.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(No.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if("function"!==typeof i)throw new Error('Illegal plugin for "'+e+'", must be a function, was '+typeof i+".");return Fo[e]=i,e!==jo&&(t.isBasic(i)?No.prototype[e]=Go(e,i):No.prototype[e]=Wo(e,i)),i},t.deregisterPlugin=function(t){if(t===jo)throw new Error("Cannot de-register base plugin.");zo(t)&&(delete Fo[t],delete No.prototype[t])},t.getPlugins=function(t){var e;return void 0===t&&(t=Object.keys(Fo)),t.forEach((function(t){var i=Vo(t);i&&(e=e||{},e[t]=i)})),e},t.getPluginVersion=function(t){var e=Vo(t);return e&&e.VERSION||""},t}();$o.getPlugin=Vo,$o.BASE_PLUGIN_NAME=jo,$o.registerPlugin(jo,$o),No.prototype.usingPlugin=function(t){return!!this[Uo]&&!0===this[Uo][t]},No.prototype.hasPlugin=function(t){return!!zo(t)};var Ko=function(t,e){void 0===e&&(e={});var i=function(){t.apply(this,arguments)},n={};for(var r in"object"===typeof e?(e.constructor!==Object.prototype.constructor&&(i=e.constructor),n=e):"function"===typeof e&&(i=e),C()(i,t),t&&(i.super_=t),n)n.hasOwnProperty(r)&&(i.prototype[r]=n[r]);return i},Zo=function(t){return 0===t.indexOf("#")?t.slice(1):t};function Xo(t,e,i){var n=Xo.getPlayer(t);if(n)return e&&ui.warn('Player "'+t+'" is already initialised. Options will not be applied.'),i&&n.ready(i),n;var r="string"===typeof t?vn("#"+Zo(t)):t;if(!qi(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");r.ownerDocument.defaultView&&r.ownerDocument.body.contains(r)||ui.warn("The element supplied is not included in the DOM"),e=e||{},Xo.hooks("beforesetup").forEach((function(t){var i=t(r,dr(e));gi(i)&&!Array.isArray(i)?e=dr(e,i):ui.error("please return an object in beforesetup hooks")}));var s=_r.getComponent("Player");return n=new s(r,e,i),Xo.hooks("setup").forEach((function(t){return t(n)})),n}if(Xo.hooks_={},Xo.hooks=function(t,e){return Xo.hooks_[t]=Xo.hooks_[t]||[],e&&(Xo.hooks_[t]=Xo.hooks_[t].concat(e)),Xo.hooks_[t]},Xo.hook=function(t,e){Xo.hooks(t,e)},Xo.hookOnce=function(t,e){Xo.hooks(t,[].concat(e).map((function(e){var i=function i(){return Xo.removeHook(t,i),e.apply(void 0,arguments)};return i})))},Xo.removeHook=function(t,e){var i=Xo.hooks(t).indexOf(e);return!(i<=-1)&&(Xo.hooks_[t]=Xo.hooks_[t].slice(),Xo.hooks_[t].splice(i,1),!0)},!0!==s.a.VIDEOJS_NO_DYNAMIC_STYLE&&Hi()){var Yo=vn(".vjs-styles-defaults");if(!Yo){Yo=kn("vjs-styles-defaults");var Qo=vn("head");Qo&&Qo.insertBefore(Yo,Qo.firstChild),xn(Yo,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}Sn(1,Xo),Xo.VERSION=ti,Xo.options=No.prototype.options_,Xo.getPlayers=function(){return No.players},Xo.getPlayer=function(t){var e,i=No.players;if("string"===typeof t){var n=Zo(t),r=i[n];if(r)return r;e=vn("#"+n)}else e=t;if(qi(e)){var s=e,a=s.player,o=s.playerId;if(a||i[o])return a||i[o]}},Xo.getAllPlayers=function(){return Object.keys(No.players).map((function(t){return No.players[t]})).filter(Boolean)},Xo.players=No.players,Xo.getComponent=_r.getComponent,Xo.registerComponent=function(t,e){ds.isTech(e)&&ui.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),_r.registerComponent.call(_r,t,e)},Xo.getTech=ds.getTech,Xo.registerTech=ds.registerTech,Xo.use=gs,Object.defineProperty(Xo,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Xo.middleware,"TERMINATOR",{value:ms,writeable:!1,enumerable:!0}),Xo.browser=Ui,Xo.TOUCH_ENABLED=Ri,Xo.extend=Ko,Xo.mergeOptions=dr,Xo.bind=Wn,Xo.registerPlugin=$o.registerPlugin,Xo.deregisterPlugin=$o.deregisterPlugin,Xo.plugin=function(t,e){return ui.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),$o.registerPlugin(t,e)},Xo.getPlugins=$o.getPlugins,Xo.getPlugin=$o.getPlugin,Xo.getPluginVersion=$o.getPluginVersion,Xo.addLanguage=function(t,e){var i;return t=(""+t).toLowerCase(),Xo.options.languages=dr(Xo.options.languages,(i={},i[t]=e,i)),Xo.options.languages[t]},Xo.log=ui,Xo.createLogger=hi,Xo.createTimeRange=Xo.createTimeRanges=Tr,Xo.formatTime=Js,Xo.setFormatTime=Ys,Xo.resetFormatTime=Qs,Xo.parseUrl=$r,Xo.isCrossOrigin=Xr,Xo.EventTarget=Zn,Xo.on=jn,Xo.one=zn,Xo.off=Un,Xo.trigger=Fn,Xo.xhr=y.a,Xo.TextTrack=ts,Xo.AudioTrack=es,Xo.VideoTrack=is,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((function(t){Xo[t]=function(){return ui.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),bn[t].apply(null,arguments)}})),Xo.computedStyle=vi,Xo.dom=bn,Xo.url=Yr,Xo.defineLazyProperty=Ao,Xo.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});
/*! @name @videojs/http-streaming @version 2.8.2 @license Apache-2.0 */
var Jo=I,tl=function(t,e,i){return t&&i&&i.responseURL&&e!==i.responseURL?i.responseURL:e},el=function(t){return Xo.log.debug?Xo.log.debug.bind(Xo,"VHS:",t+" >"):function(){}},il=Xo.log,nl=function(t,e){return t+"-"+e},rl=function(t){var e=t.onwarn,i=t.oninfo,n=t.manifestString,r=t.customTagParsers,s=void 0===r?[]:r,a=t.customTagMappers,o=void 0===a?[]:a,l=t.experimentalLLHLS,u=new V;e&&u.on("warn",e),i&&u.on("info",i),s.forEach((function(t){return u.addParser(t)})),o.forEach((function(t){return u.addTagMapper(t)})),u.push(n),u.end();var h=u.manifest;if(l||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach((function(t){h.hasOwnProperty(t)&&delete h[t]})),h.segments&&h.segments.forEach((function(t){["parts","preloadHints"].forEach((function(e){t.hasOwnProperty(e)&&delete t[e]}))}))),!h.targetDuration){var c=10;h.segments&&h.segments.length&&(c=h.segments.reduce((function(t,e){return Math.max(t,e.duration)}),0)),e&&e("manifest has no targetDuration defaulting to "+c),h.targetDuration=c}return h},sl=function(t,e){t.mediaGroups&&["AUDIO","SUBTITLES"].forEach((function(i){if(t.mediaGroups[i])for(var n in t.mediaGroups[i])for(var r in t.mediaGroups[i][n]){var s=t.mediaGroups[i][n][r];e(s,i,n,r)}}))},al=function(t){var e=t.playlist,i=t.uri,n=t.id;e.id=n,i&&(e.uri=i),e.attributes=e.attributes||{}},ol=function(t){var e=t.playlists.length;while(e--){var i=t.playlists[e];al({playlist:i,id:nl(e,i.uri)}),i.resolvedUri=Jo(t.uri,i.uri),t.playlists[i.id]=i,t.playlists[i.uri]=i,i.attributes.BANDWIDTH||il.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},ll=function(t){sl(t,(function(e){e.uri&&(e.resolvedUri=Jo(t.uri,e.uri))}))},ul=function(t,e){var i=nl(0,e),n={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:s.a.location.href,resolvedUri:s.a.location.href,playlists:[{uri:e,id:i,resolvedUri:e,attributes:{}}]};return n.playlists[i]=n.playlists[0],n.playlists[e]=n.playlists[0],n},hl=function(t,e){t.uri=e;for(var i=0;i<t.playlists.length;i++)if(!t.playlists[i].uri){var n="placeholder-uri-"+i;t.playlists[i].uri=n}sl(t,(function(e,i,n,r){var s="placeholder-uri-"+i+"-"+n+"-"+r;e.playlists&&e.playlists.length||(e.playlists=[u()({},e)]),e.playlists.forEach((function(e,i){var n=nl(i,s);e.uri?e.resolvedUri=e.resolvedUri||Jo(t.uri,e.uri):(e.uri=0===i?s:n,e.resolvedUri=e.uri),e.id=e.id||n,e.attributes=e.attributes||{},t.playlists[e.id]=e,t.playlists[e.uri]=e}))})),ol(t),ll(t)},cl=Xo.mergeOptions,dl=Xo.EventTarget,pl=function(t,e){if(!t)return e;var i=cl(t,e);if(t.parts&&!e.parts)delete i.parts;else if(t.parts&&e.parts)for(var n=0;n<e.parts.length;n++)t.parts&&t.parts[n]&&(i.parts[n]=cl(t.parts[n],e.parts[n]));return i},fl=function(t,e,i){var n=t.slice(),r=e.slice();i=i||0;for(var s=Math.min(t.length,e.length+i),a=i;a<s;a++){var o=a-i;r[o]=pl(n[a],r[o])}return r},ml=function(t,e){!t.resolvedUri&&t.uri&&(t.resolvedUri=Jo(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=Jo(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=Jo(e,t.map.uri)),t.parts&&t.parts.length&&t.parts.forEach((function(t){t.resolvedUri||(t.resolvedUri=Jo(e,t.uri))})),t.preloadHints&&t.preloadHints.length&&t.preloadHints.forEach((function(t){t.resolvedUri||(t.resolvedUri=Jo(e,t.uri))}))},gl=function(t){var e=t.segments||[];return t.preloadSegment&&t.preloadSegment.parts&&e.push(t.preloadSegment),e},_l=function(t,e){return t===e||t.segments&&e.segments&&t.segments.length===e.segments.length&&t.endList===e.endList&&t.mediaSequence===e.mediaSequence},vl=function(t,e,i){void 0===i&&(i=_l);var n=cl(t,{}),r=n.playlists[e.id];if(!r)return null;if(i(r,e))return null;var s=cl(r,e);e.segments=gl(e),r.segments&&(s.segments=fl(r.segments,e.segments,e.mediaSequence-r.mediaSequence)),s.segments.forEach((function(t){ml(t,s.resolvedUri)}));for(var a=0;a<n.playlists.length;a++)n.playlists[a].id===e.id&&(n.playlists[a]=s);return n.playlists[e.id]=s,n.playlists[e.uri]=s,sl(t,(function(t,i,n,r){if(t.playlists)for(var s=0;s<t.playlists.length;s++)e.id===t.playlists[s].id&&(t.playlists[s]=e)})),n},yl=function(t,e){var i=t.segments[t.segments.length-1],n=i&&i.parts&&i.parts[i.parts.length-1],r=n&&n.duration||i&&i.duration;return e&&r?1e3*r:500*(t.partTargetDuration||t.targetDuration||10)},bl=function(t){function e(e,i,n){var r;if(void 0===n&&(n={}),r=t.call(this)||this,!e)throw new Error("A non-empty playlist URL or object is required");r.logger_=el("PlaylistLoader");var s=n,a=s.withCredentials,o=void 0!==a&&a,l=s.handleManifestRedirects,u=void 0!==l&&l;r.src=e,r.vhs_=i,r.withCredentials=o,r.handleManifestRedirects=u;var h=i.options_;return r.customTagParsers=h&&h.customTagParsers||[],r.customTagMappers=h&&h.customTagMappers||[],r.experimentalLLHLS=h&&h.experimentalLLHLS||!1,r.state="HAVE_NOTHING",r.on("mediaupdatetimeout",(function(){"HAVE_METADATA"===r.state&&(r.state="HAVE_CURRENT_METADATA",r.request=r.vhs_.xhr({uri:Jo(r.master.uri,r.media().uri),withCredentials:r.withCredentials},(function(t,e){if(r.request)return t?r.playlistRequestError(r.request,r.media(),"HAVE_METADATA"):void r.haveMetadata({playlistString:r.request.responseText,url:r.media().uri,id:r.media().id})})))})),r}p()(e,t);var i=e.prototype;return i.playlistRequestError=function(t,e,i){var n=e.uri,r=e.id;this.request=null,i&&(this.state=i),this.error={playlist:this.master.playlists[r],status:t.status,message:"HLS playlist request error at URL: "+n+".",responseText:t.responseText,code:t.status>=500?4:2},this.trigger("error")},i.haveMetadata=function(t){var e=this,i=t.playlistString,n=t.playlistObject,r=t.url,a=t.id;this.request=null,this.state="HAVE_METADATA";var o=n||rl({onwarn:function(t){var i=t.message;return e.logger_("m3u8-parser warn for "+a+": "+i)},oninfo:function(t){var i=t.message;return e.logger_("m3u8-parser info for "+a+": "+i)},manifestString:i,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS});o.lastRequest=Date.now(),al({playlist:o,uri:r,id:a});var l=vl(this.master,o);this.targetDuration=o.partTargetDuration||o.targetDuration,l?(this.master=l,this.media_=this.master.playlists[a]):this.trigger("playlistunchanged"),this.media().endList||(s.a.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=s.a.setTimeout((function(){e.trigger("mediaupdatetimeout")}),yl(this.media(),!!l))),this.trigger("loadedplaylist")},i.dispose=function(){this.trigger("dispose"),this.stopRequest(),s.a.clearTimeout(this.mediaUpdateTimeout),s.a.clearTimeout(this.finalRenditionTimeout),this.off()},i.stopRequest=function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}},i.media=function(t,e){var i=this;if(!t)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"===typeof t){if(!this.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.master.playlists[t]}if(s.a.clearTimeout(this.finalRenditionTimeout),e){var n=(t.partTargetDuration||t.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=s.a.setTimeout(this.media.bind(this,t,!1),n)}else{var r=this.state,a=!this.media_||t.id!==this.media_.id,o=this.master.playlists[t.id];if(o&&o.endList||t.endList&&t.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=t,void(a&&(this.trigger("mediachanging"),"HAVE_MASTER"===r?this.trigger("loadedmetadata"):this.trigger("mediachange")));if(a){if(this.state="SWITCHING_MEDIA",this.request){if(t.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.vhs_.xhr({uri:t.resolvedUri,withCredentials:this.withCredentials},(function(e,n){if(i.request){if(t.lastRequest=Date.now(),t.resolvedUri=tl(i.handleManifestRedirects,t.resolvedUri,n),e)return i.playlistRequestError(i.request,t,r);i.haveMetadata({playlistString:n.responseText,url:t.uri,id:t.id}),"HAVE_MASTER"===r?i.trigger("loadedmetadata"):i.trigger("mediachange")}}))}}},i.pause=function(){this.stopRequest(),s.a.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")},i.load=function(t){var e=this;s.a.clearTimeout(this.mediaUpdateTimeout);var i=this.media();if(t){var n=i?(i.partTargetDuration||i.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=s.a.setTimeout((function(){return e.load()}),n)}else this.started?i&&!i.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()},i.start=function(){var t=this;if(this.started=!0,"object"===typeof this.src)return this.src.uri||(this.src.uri=s.a.location.href),this.src.resolvedUri=this.src.uri,void setTimeout((function(){t.setupInitialPlaylist(t.src)}),0);this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},(function(e,i){if(t.request){if(t.request=null,e)return t.error={status:i.status,message:"HLS playlist request error at URL: "+t.src+".",responseText:i.responseText,code:2},"HAVE_NOTHING"===t.state&&(t.started=!1),t.trigger("error");t.src=tl(t.handleManifestRedirects,t.src,i);var n=rl({manifestString:i.responseText,customTagParsers:t.customTagParsers,customTagMappers:t.customTagMappers,experimentalLLHLS:t.experimentalLLHLS});t.setupInitialPlaylist(n)}}))},i.srcUri=function(){return"string"===typeof this.src?this.src:this.src.uri},i.setupInitialPlaylist=function(t){if(this.state="HAVE_MASTER",t.playlists)return this.master=t,hl(this.master,this.srcUri()),t.playlists.forEach((function(t){t.segments=gl(t),t.segments.forEach((function(e){ml(e,t.resolvedUri)}))})),this.trigger("loadedplaylist"),void(this.request||this.media(this.master.playlists[0]));var e=this.srcUri()||s.a.location.href;this.master=ul(t,e),this.haveMetadata({playlistObject:t,url:e,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},e}(dl),Tl=1/30,wl=3*Tl,Sl=function(t,e){var i,n=[];if(t&&t.length)for(i=0;i<t.length;i++)e(t.start(i),t.end(i))&&n.push([t.start(i),t.end(i)]);return Xo.createTimeRanges(n)},El=function(t,e){return Sl(t,(function(t,i){return t-wl<=e&&i+wl>=e}))},Cl=function(t,e){return Sl(t,(function(t){return t-Tl>=e}))},kl=function(t){if(t.length<2)return Xo.createTimeRanges();for(var e=[],i=1;i<t.length;i++){var n=t.end(i-1),r=t.start(i);e.push([n,r])}return Xo.createTimeRanges(e)},xl=function(t,e){var i=null,n=null,r=0,s=[],a=[];if(!t||!t.length||!e||!e.length)return Xo.createTimeRange();var o=t.length;while(o--)s.push({time:t.start(o),type:"start"}),s.push({time:t.end(o),type:"end"});o=e.length;while(o--)s.push({time:e.start(o),type:"start"}),s.push({time:e.end(o),type:"end"});for(s.sort((function(t,e){return t.time-e.time})),o=0;o<s.length;o++)"start"===s[o].type?(r++,2===r&&(i=s[o].time)):"end"===s[o].type&&(r--,1===r&&(n=s[o].time)),null!==i&&null!==n&&(a.push([i,n]),i=null,n=null);return Xo.createTimeRanges(a)},Ml=function(t){var e=[];if(!t||!t.length)return"";for(var i=0;i<t.length;i++)e.push(t.start(i)+" => "+t.end(i));return e.join(", ")},Al=function(t,e,i){void 0===i&&(i=1);var n=t.length?t.end(t.length-1):0;return(n-e)/i},Il=function(t){for(var e=[],i=0;i<t.length;i++)e.push({start:t.start(i),end:t.end(i)});return e},Ol=function(t,e){if(t===e)return!1;if(!t&&e||!e&&t)return!0;if(t.length!==e.length)return!0;for(var i=0;i<t.length;i++)if(t.start(i)!==e.start(i)||t.end(i)!==e.end(i))return!0;return!1},Pl=function(t){if(t&&t.length&&t.end)return t.end(t.length-1)},Ll=Xo.createTimeRange,Rl=function(t){return(t.segments||[]).reduce((function(t,e,i){return e.parts?e.parts.forEach((function(e,n){t.push({duration:e.duration,segmentIndex:i,partIndex:n})})):t.push({duration:e.duration,segmentIndex:i,partIndex:null}),t}),[])},Dl=function(t,e){if(e.endList)return 0;if(t&&t.suggestedPresentationDelay)return t.suggestedPresentationDelay;var i=e.segments&&e.segments.length&&e.segments[e.segments.length-1],n=i&&i.parts&&i.parts.length;return n&&e.serverControl&&e.serverControl.partHoldBack?e.serverControl.partHoldBack:n&&e.partTargetDuration?3*e.partTargetDuration:e.serverControl&&e.serverControl.holdBack?e.serverControl.holdBack:e.targetDuration?3*e.targetDuration:0},Nl=function(t,e){var i=0,n=e-t.mediaSequence,r=t.segments[n];if(r){if("undefined"!==typeof r.start)return{result:r.start,precise:!0};if("undefined"!==typeof r.end)return{result:r.end-r.duration,precise:!0}}while(n--){if(r=t.segments[n],"undefined"!==typeof r.end)return{result:i+r.end,precise:!0};if(i+=r.duration,"undefined"!==typeof r.start)return{result:i+r.start,precise:!0}}return{result:i,precise:!1}},Bl=function(t,e){for(var i,n=0,r=e-t.mediaSequence;r<t.segments.length;r++){if(i=t.segments[r],"undefined"!==typeof i.start)return{result:i.start-n,precise:!0};if(n+=i.duration,"undefined"!==typeof i.end)return{result:i.end-n,precise:!0}}return{result:-1,precise:!1}},jl=function(t,e,i){if("undefined"===typeof e&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence)return 0;var n=Nl(t,e);if(n.precise)return n.result;var r=Bl(t,e);return r.precise?r.result:n.result+i},Ul=function(t,e,i){if(!t)return 0;if("number"!==typeof i&&(i=0),"undefined"===typeof e){if(t.totalDuration)return t.totalDuration;if(!t.endList)return s.a.Infinity}return jl(t,e,i)},Fl=function(t,e,i){var n=0;if(e>i){var r=[i,e];e=r[0],i=r[1]}if(e<0){for(var s=e;s<Math.min(0,i);s++)n+=t.targetDuration;e=0}for(var a=e;a<i;a++)n+=t.segments[a].duration;return n},zl=function(t,e,i,n){if(!t||!t.segments)return null;if(t.endList)return Ul(t);if(null===e)return null;e=e||0;var r=jl(t,t.mediaSequence+t.segments.length,e);return i&&(n="number"===typeof n?n:Dl(null,t),r-=n),Math.max(0,r)},Vl=function(t,e,i){var n=!0,r=e||0,s=zl(t,e,n,i);return null===s?Ll():Ll(r,s)},Hl=function(t,e,i,n){var r=Rl(t),s=e-n;if(s<0){if(i>0)for(var a=i-1;a>=0;a--){var o=r[a];if(s+=o.duration+Tl,s>0)return{mediaIndex:o.segmentIndex,startTime:n-Fl(t,i,o.segmentIndex),partIndex:o.partIndex}}return{mediaIndex:r[0]&&r[0].segmentIndex||0,partIndex:r[0]&&r[0].partIndex||null,startTime:e}}if(i<0){for(var l=i;l<0;l++)if(s-=t.targetDuration,s<0)return{mediaIndex:r[0].segmentIndex,startTime:e};i=0}for(var u=i;u<r.length;u++){var h=r[u];if(s-=h.duration+Tl,s<0)return{mediaIndex:h.segmentIndex,startTime:n+Fl(t,i,h.segmentIndex),partIndex:h.partIndex}}return{mediaIndex:r[r.length-1].segmentIndex,partIndex:r[r.length-1].partIndex,startTime:e}},ql=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},Gl=function(t){return t.excludeUntil&&t.excludeUntil===1/0},Wl=function(t){var e=ql(t);return!t.disabled&&!e},$l=function(t){return t.disabled},Kl=function(t){for(var e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},Zl=function(t,e){return e.attributes&&e.attributes[t]},Xl=function(t,e,i,n){if(void 0===n&&(n=0),!Zl("BANDWIDTH",i))return NaN;var r=t*i.attributes.BANDWIDTH;return(r-8*n)/e},Yl=function(t,e){if(1===t.playlists.length)return!0;var i=e.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===t.playlists.filter((function(t){return!!Wl(t)&&(t.attributes.BANDWIDTH||0)<i})).length},Ql=function(t,e){return!(!t&&!e||!t&&e||t&&!e)&&(t===e||(!(!t.id||!e.id||t.id!==e.id)||(!(!t.resolvedUri||!e.resolvedUri||t.resolvedUri!==e.resolvedUri)||!(!t.uri||!e.uri||t.uri!==e.uri))))},Jl=function(t,e){var i=t&&t.mediaGroups&&t.mediaGroups.AUDIO||{},n=!1;for(var r in i){for(var s in i[r])if(n=e(i[r][s]),n)break;if(n)break}return!!n},tu=function(t){if(!t||!t.playlists||!t.playlists.length){var e=Jl(t,(function(t){return t.playlists&&t.playlists.length||t.uri}));return e}for(var i=function(e){var i=t.playlists[e],n=i.attributes&&i.attributes.CODECS;if(n&&n.split(",").every((function(t){return Z(t)})))return"continue";var r=Jl(t,(function(t){return Ql(i,t)}));return r?"continue":{v:!1}},n=0;n<t.playlists.length;n++){var r=i(n);if("continue"!==r&&"object"===typeof r)return r.v}return!0},eu={liveEdgeDelay:Dl,duration:Ul,seekable:Vl,getMediaInfoForTime:Hl,isEnabled:Wl,isDisabled:$l,isBlacklisted:ql,isIncompatible:Gl,playlistEnd:zl,isAes:Kl,hasAttribute:Zl,estimateSegmentRequestTime:Xl,isLowestEnabledRendition:Yl,isAudioOnly:tu,playlistMatch:Ql},iu=Xo.xhr,nu=Xo.mergeOptions,ru=function(t,e,i,n){var r="arraybuffer"===t.responseType?t.response:t.responseText;!e&&r&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=r.byteLength||r.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),i.headers&&(t.responseHeaders=i.headers),e&&"ETIMEDOUT"===e.code&&(t.timedout=!0),e||t.aborted||200===i.statusCode||206===i.statusCode||0===i.statusCode||(e=new Error("XHR Failed with a response of: "+(t&&(r||t.responseText)))),n(e,t)},su=function(){var t=function t(e,i){e=nu({timeout:45e3},e);var n=t.beforeRequest||Xo.Vhs.xhr.beforeRequest;if(n&&"function"===typeof n){var r=n(e);r&&(e=r)}var s=!0===Xo.Vhs.xhr.original?iu:Xo.Vhs.xhr,a=s(e,(function(t,e){return ru(a,t,e,i)})),o=a.abort;return a.abort=function(){return a.aborted=!0,o.apply(a,arguments)},a.uri=e.uri,a.requestTime=Date.now(),a};return t.original=!0,t},au=function(t){var e=t.offset+t.length-1,i=t.offset;return"bytes="+i+"-"+e},ou=function(t){var e={};return t.byterange&&(e.Range=au(t.byterange)),e},lu=function(t,e){return t.start(e)+"-"+t.end(e)},uu=function(t,e){var i=t.toString(16);return"00".substring(0,2-i.length)+i+(e%2?" ":"")},hu=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},cu=function(t){var e={};return Object.keys(t).forEach((function(i){var n=t[i];ArrayBuffer.isView(n)?e[i]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:e[i]=n})),e},du=function(t){var e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},pu=function(t){return t.resolvedUri},fu=function(t){for(var e,i,n=Array.prototype.slice.call(t),r=16,s="",a=0;a<n.length/r;a++)e=n.slice(a*r,a*r+r).map(uu).join(""),i=n.slice(a*r,a*r+r).map(hu).join(""),s+=e+" "+i+"\n";return s},mu=function(t){var e=t.bytes;return fu(e)},gu=function(t){var e,i="";for(e=0;e<t.length;e++)i+=lu(t,e)+" ";return i},_u=Object.freeze({__proto__:null,createTransferableMessage:cu,initSegmentId:du,segmentKeyId:pu,hexDump:fu,tagDump:mu,textRanges:gu}),vu=.25,yu=function(t,e){if(!e.dateTimeObject)return null;var i=e.videoTimingInfo.transmuxerPrependedSeconds,n=e.videoTimingInfo.transmuxedPresentationStart,r=n+i,s=t-r;return new Date(e.dateTimeObject.getTime()+1e3*s)},bu=function(t){return t.transmuxedPresentationEnd-t.transmuxedPresentationStart-t.transmuxerPrependedSeconds},Tu=function(t,e){var i;try{i=new Date(t)}catch(h){return null}if(!e||!e.segments||0===e.segments.length)return null;var n=e.segments[0];if(i<n.dateTimeObject)return null;for(var r=0;r<e.segments.length-1;r++){n=e.segments[r];var s=e.segments[r+1].dateTimeObject;if(i<s)break}var a=e.segments[e.segments.length-1],o=a.dateTimeObject,l=a.videoTimingInfo?bu(a.videoTimingInfo):a.duration+a.duration*vu,u=new Date(o.getTime()+1e3*l);return i>u?null:(i>o&&(n=a),{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:eu.duration(e,e.mediaSequence+e.segments.indexOf(n)),type:n.videoTimingInfo?"accurate":"estimate"})},wu=function(t,e){if(!e||!e.segments||0===e.segments.length)return null;for(var i,n=0,r=0;r<e.segments.length;r++)if(i=e.segments[r],n=i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationEnd:n+i.duration,t<=n)break;var s=e.segments[e.segments.length-1];if(s.videoTimingInfo&&s.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>n){if(t>n+s.duration*vu)return null;i=s}return{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:n-i.duration,type:i.videoTimingInfo?"accurate":"estimate"}},Su=function(t,e){var i,n;try{i=new Date(t),n=new Date(e)}catch(a){}var r=i.getTime(),s=n.getTime();return(s-r)/1e3},Eu=function(t){if(!t.segments||0===t.segments.length)return!1;for(var e=0;e<t.segments.length;e++){var i=t.segments[e];if(!i.dateTimeObject)return!1}return!0},Cu=function(t){var e=t.playlist,i=t.time,n=void 0===i?void 0:i,r=t.callback;if(!r)throw new Error("getProgramTime: callback must be provided");if(!e||void 0===n)return r({message:"getProgramTime: playlist and time must be provided"});var s=wu(n,e);if(!s)return r({message:"valid programTime was not found"});if("estimate"===s.type)return r({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:s.estimatedStart});var a={mediaSeconds:n},o=yu(n,s.segment);return o&&(a.programDateTime=o.toISOString()),r(null,a)},ku=function t(e){var i=e.programTime,n=e.playlist,r=e.retryCount,s=void 0===r?2:r,a=e.seekTo,o=e.pauseAfterSeek,l=void 0===o||o,u=e.tech,h=e.callback;if(!h)throw new Error("seekToProgramTime: callback must be provided");if("undefined"===typeof i||!n||!a)return h({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!n.endList&&!u.hasStarted_)return h({message:"player must be playing a live stream to start buffering"});if(!Eu(n))return h({message:"programDateTime tags must be provided in the manifest "+n.resolvedUri});var c=Tu(i,n);if(!c)return h({message:i+" was not found in the stream"});var d=c.segment,p=Su(d.dateTimeObject,i);if("estimate"===c.type)return 0===s?h({message:i+" is not buffered yet. Try again"}):(a(c.estimatedStart+p),void u.one("seeked",(function(){t({programTime:i,playlist:n,retryCount:s-1,seekTo:a,pauseAfterSeek:l,tech:u,callback:h})})));var f=d.start+p,m=function(){return h(null,u.currentTime())};u.one("seeked",m),l&&u.pause(),a(f)},xu=function(t,e){if(4===t.readyState)return e()},Mu=function(t,e,i){var n,r=[],s=!1,a=function(t,e,n,r){return e.abort(),s=!0,i(t,e,n,r)},o=function(t,e){if(!s){if(t)return a(t,e,"",r);var i=e.responseText.substring(r&&r.byteLength||0,e.responseText.length);if(r=we(r,Te(i,!0)),n=n||ke(r),r.length<10||n&&r.length<n+2)return xu(e,(function(){return a(t,e,"",r)}));var o=Ye(r);return"ts"===o&&r.length<188||!o&&r.length<376?xu(e,(function(){return a(t,e,"",r)})):a(null,e,o,r)}},l={uri:t,beforeSend:function(t){t.overrideMimeType("text/plain; charset=x-user-defined"),t.addEventListener("progress",(function(e){return e.total,e.loaded,ru(t,null,{statusCode:t.status},o)}))}},u=e(l,(function(t,e){return ru(u,t,e,o)}));return u},Au=Xo.EventTarget,Iu=Xo.mergeOptions,Ou=function(t,e){if(!_l(t,e))return!1;if(t.sidx&&e.sidx&&(t.sidx.offset!==e.sidx.offset||t.sidx.length!==e.sidx.length))return!1;if(!t.sidx&&e.sidx||t.sidx&&!e.sidx)return!1;if(t.segments&&!e.segments||!t.segments&&e.segments)return!1;if(!t.segments&&!e.segments)return!0;for(var i=0;i<t.segments.length;i++){var n=t.segments[i],r=e.segments[i];if(n.uri!==r.uri)return!1;if(n.byterange||r.byterange){var s=n.byterange,a=r.byterange;if(s&&!a||!s&&a)return!1;if(s.offset!==a.offset||s.length!==a.length)return!1}}return!0},Pu=function(t){var e=t.masterXml,i=t.srcUrl,n=t.clientOffset,r=t.sidxMapping,s=le(e,{manifestUri:i,clientOffset:n,sidxMapping:r});return hl(s,i),s},Lu=function(t,e,i){for(var n=!0,r=Iu(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod}),s=0;s<e.playlists.length;s++){var a=e.playlists[s];if(a.sidx){var o=wt(a.sidx);i&&i[o]&&i[o].sidx&&Tt(a,i[o].sidx,a.sidx.resolvedUri)}var l=vl(r,a,Ou);l&&(r=l,n=!1)}return sl(e,(function(t,e,i,s){if(t.playlists&&t.playlists.length){var a=t.playlists[0].id,o=vl(r,t.playlists[0],Ou);o&&(r=o,r.mediaGroups[e][i][s].playlists[0]=r.playlists[a],n=!1)}})),e.minimumUpdatePeriod!==t.minimumUpdatePeriod&&(n=!1),n?null:r},Ru=function(t,e){var i=Boolean(!t.map&&!e.map),n=i||Boolean(t.map&&e.map&&t.map.byterange.offset===e.map.byterange.offset&&t.map.byterange.length===e.map.byterange.length);return n&&t.uri===e.uri&&t.byterange.offset===e.byterange.offset&&t.byterange.length===e.byterange.length},Du=function(t,e){var i={};for(var n in t){var r=t[n],s=r.sidx;if(s){var a=wt(s);if(!e[a])break;var o=e[a].sidxInfo;Ru(o,s)&&(i[a]=e[a])}}return i},Nu=function(t,e){var i=Du(t.playlists,e),n=i;return sl(t,(function(t,i,r,s){if(t.playlists&&t.playlists.length){var a=t.playlists;n=Iu(n,Du(a,e))}})),n},Bu=function(t){function e(e,i,n,r){var s;void 0===n&&(n={}),s=t.call(this)||this,s.masterPlaylistLoader_=r||c()(s),r||(s.isMaster_=!0);var a=n,o=a.withCredentials,l=void 0!==o&&o,u=a.handleManifestRedirects,h=void 0!==u&&u;if(s.vhs_=i,s.withCredentials=l,s.handleManifestRedirects=h,!e)throw new Error("A non-empty playlist URL or object is required");return s.on("minimumUpdatePeriod",(function(){s.refreshXml_()})),s.on("mediaupdatetimeout",(function(){s.refreshMedia_(s.media().id)})),s.state="HAVE_NOTHING",s.loadedPlaylists_={},s.logger_=el("DashPlaylistLoader"),s.isMaster_?(s.masterPlaylistLoader_.srcUrl=e,s.masterPlaylistLoader_.sidxMapping_={}):s.childPlaylist_=e,s}p()(e,t);var i=e.prototype;return i.requestErrored_=function(t,e,i){return!this.request||(this.request=null,t?(this.error="object"!==typeof t||t instanceof Error?{status:e.status,message:"DASH request error at URL: "+e.uri,response:e.response,code:2}:t,i&&(this.state=i),this.trigger("error"),!0):void 0)},i.addSidxSegments_=function(t,e,i){var n=this,r=t.sidx&&wt(t.sidx);if(t.sidx&&r&&!this.masterPlaylistLoader_.sidxMapping_[r]){var a=tl(this.handleManifestRedirects,t.sidx.resolvedUri),o=function(s,a){if(!n.requestErrored_(s,a,e)){var o,l=n.masterPlaylistLoader_.sidxMapping_;try{o=ce()(me(a.response).subarray(8))}catch(u){return void n.requestErrored_(u,a,e)}return l[r]={sidxInfo:t.sidx,sidx:o},Tt(t,o,t.sidx.resolvedUri),i(!0)}};this.request=Mu(a,this.vhs_.xhr,(function(e,i,r,s){if(e)return o(e,i);if(!r||"mp4"!==r)return o({status:i.status,message:"Unsupported "+(r||"unknown")+" container type for sidx segment at URL: "+a,response:"",playlist:t,internal:!0,blacklistDuration:1/0,code:2},i);var l=t.sidx.byterange,u=l.offset,h=l.length;if(s.length>=h+u)return o(e,{response:s.subarray(u,u+h),status:i.status,uri:i.uri});n.request=n.vhs_.xhr({uri:a,responseType:"arraybuffer",headers:ou({byterange:t.sidx.byterange})},o)}))}else this.mediaRequest_=s.a.setTimeout((function(){return i(!1)}),0)},i.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},s.a.clearTimeout(this.minimumUpdatePeriodTimeout_),s.a.clearTimeout(this.mediaRequest_),s.a.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},i.hasPendingRequest=function(){return this.request||this.mediaRequest_},i.stopRequest=function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}},i.media=function(t){var e=this;if(!t)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var i=this.state;if("string"===typeof t){if(!this.masterPlaylistLoader_.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.masterPlaylistLoader_.master.playlists[t]}var n=!this.media_||t.id!==this.media_.id;if(n&&this.loadedPlaylists_[t.id]&&this.loadedPlaylists_[t.id].endList)return this.state="HAVE_METADATA",this.media_=t,void(n&&(this.trigger("mediachanging"),this.trigger("mediachange")));n&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(t,i,(function(n){e.haveMetadata({startingState:i,playlist:t})})))},i.haveMetadata=function(t){var e=t.startingState,i=t.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[i.id]=i,this.mediaRequest_=null,this.refreshMedia_(i.id),"HAVE_MASTER"===e?this.trigger("loadedmetadata"):this.trigger("mediachange")},i.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),s.a.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(s.a.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),"HAVE_NOTHING"===this.state&&(this.started=!1)},i.load=function(t){var e=this;s.a.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var i=this.media();if(t){var n=i?i.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=s.a.setTimeout((function(){return e.load()}),n)}else this.started?i&&!i.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist"):this.start()},i.start=function(){var t=this;this.started=!0,this.isMaster_?this.requestMaster_((function(e,i){t.haveMaster_(),t.hasPendingRequest()||t.media_||t.media(t.masterPlaylistLoader_.master.playlists[0])})):this.mediaRequest_=s.a.setTimeout((function(){return t.haveMaster_()}),0)},i.requestMaster_=function(t){var e=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},(function(i,n){if(!e.requestErrored_(i,n)){var r=n.responseText!==e.masterPlaylistLoader_.masterXml_;return e.masterPlaylistLoader_.masterXml_=n.responseText,n.responseHeaders&&n.responseHeaders.date?e.masterLoaded_=Date.parse(n.responseHeaders.date):e.masterLoaded_=Date.now(),e.masterPlaylistLoader_.srcUrl=tl(e.handleManifestRedirects,e.masterPlaylistLoader_.srcUrl,n),r?(e.handleMaster_(),void e.syncClientServerClock_((function(){return t(n,r)}))):t(n,r)}"HAVE_NOTHING"===e.state&&(e.started=!1)}))},i.syncClientServerClock_=function(t){var e=this,i=ue(this.masterPlaylistLoader_.masterXml_);return null===i?(this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),t()):"DIRECT"===i.method?(this.masterPlaylistLoader_.clientOffset_=i.value-Date.now(),t()):void(this.request=this.vhs_.xhr({uri:Jo(this.masterPlaylistLoader_.srcUrl,i.value),method:i.method,withCredentials:this.withCredentials},(function(n,r){if(e.request){if(n)return e.masterPlaylistLoader_.clientOffset_=e.masterLoaded_-Date.now(),t();var s;s="HEAD"===i.method?r.responseHeaders&&r.responseHeaders.date?Date.parse(r.responseHeaders.date):e.masterLoaded_:Date.parse(r.responseText),e.masterPlaylistLoader_.clientOffset_=s-Date.now(),t()}})))},i.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},i.handleMaster_=function(){this.mediaRequest_=null;var t=Pu({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_}),e=this.masterPlaylistLoader_.master;e&&(t=Lu(e,t,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=t||e;var i=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return i&&i!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=i),(!e||t&&t.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(t)},i.updateMinimumUpdatePeriodTimeout_=function(){var t=this.masterPlaylistLoader_;t.createMupOnMedia_&&(t.off("loadedmetadata",t.createMupOnMedia_),t.createMupOnMedia_=null),t.minimumUpdatePeriodTimeout_&&(s.a.clearTimeout(t.minimumUpdatePeriodTimeout_),t.minimumUpdatePeriodTimeout_=null);var e=t.master&&t.master.minimumUpdatePeriod;0===e&&(t.media()?e=1e3*t.media().targetDuration:(t.createMupOnMedia_=t.updateMinimumUpdatePeriodTimeout_,t.one("loadedmetadata",t.createMupOnMedia_))),"number"!==typeof e||e<=0?e<0&&this.logger_("found invalid minimumUpdatePeriod of "+e+", not setting a timeout"):this.createMUPTimeout_(e)},i.createMUPTimeout_=function(t){var e=this.masterPlaylistLoader_;e.minimumUpdatePeriodTimeout_=s.a.setTimeout((function(){e.minimumUpdatePeriodTimeout_=null,e.trigger("minimumUpdatePeriod"),e.createMUPTimeout_(t)}),t)},i.refreshXml_=function(){var t=this;this.requestMaster_((function(e,i){i&&(t.media_&&(t.media_=t.masterPlaylistLoader_.master.playlists[t.media_.id]),t.masterPlaylistLoader_.sidxMapping_=Nu(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.sidxMapping_),t.addSidxSegments_(t.media(),t.state,(function(e){t.refreshMedia_(t.media().id)})))}))},i.refreshMedia_=function(t){var e=this;if(!t)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var i=this.masterPlaylistLoader_.master.playlists,n=!this.media_||this.media_!==i[t];if(n?this.media_=i[t]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){var r=function t(){e.media().endList||(e.mediaUpdateTimeout=s.a.setTimeout((function(){e.trigger("mediaupdatetimeout"),t()}),yl(e.media(),Boolean(n))))};r()}this.trigger("loadedplaylist")},e}(Au),ju={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},Uu=function(t){for(var e=new Uint8Array(new ArrayBuffer(t.length)),i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e.buffer},Fu=function(t){return t.on=t.addEventListener,t.off=t.removeEventListener,t},zu=function(t){try{return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch(i){var e=new BlobBuilder;return e.append(t),URL.createObjectURL(e.getBlob())}},Vu=function(t){return function(){var e=zu(t),i=Fu(new Worker(e));i.objURL=e;var n=i.terminate;return i.on=i.addEventListener,i.off=i.removeEventListener,i.terminate=function(){return URL.revokeObjectURL(e),n.call(this)},i}},Hu=function(t){return"var browserWorkerPolyFill = "+Fu.toString()+";\nbrowserWorkerPolyFill(self);\n"+t},qu=function(t){return t.toString().replace(/^function.+?{/,"").slice(0,-1)},Gu=Hu(qu((function(){var t=function(){this.init=function(){var t={};this.on=function(e,i){t[e]||(t[e]=[]),t[e]=t[e].concat(i)},this.off=function(e,i){var n;return!!t[e]&&(n=t[e].indexOf(i),t[e]=t[e].slice(),t[e].splice(n,1),n>-1)},this.trigger=function(e){var i,n,r,s;if(i=t[e],i)if(2===arguments.length)for(r=i.length,n=0;n<r;++n)i[n].call(this,arguments[1]);else{for(s=[],n=arguments.length,n=1;n<arguments.length;++n)s.push(arguments[n]);for(r=i.length,n=0;n<r;++n)i[n].apply(this,s)}},this.dispose=function(){t={}}}};t.prototype.pipe=function(t){return this.on("data",(function(e){t.push(e)})),this.on("done",(function(e){t.flush(e)})),this.on("partialdone",(function(e){t.partialFlush(e)})),this.on("endedtimeline",(function(e){t.endTimeline(e)})),this.on("reset",(function(e){t.reset(e)})),t},t.prototype.push=function(t){this.trigger("data",t)},t.prototype.flush=function(t){this.trigger("done",t)},t.prototype.partialFlush=function(t){this.trigger("partialdone",t)},t.prototype.endTimeline=function(t){this.trigger("endedtimeline",t)},t.prototype.reset=function(t){this.trigger("reset",t)};var e,i,n,r,s,a,o,l,u,h,c,d,p,f,m,g,_,v,y,b,T,w,S,E,C,k,x,M,A,I,O,P,L,R,D,N,B=t,j=Math.pow(2,32)-1;(function(){var t;if(S={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!==typeof Uint8Array){for(t in S)S.hasOwnProperty(t)&&(S[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);E=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),k=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),C=new Uint8Array([0,0,0,1]),x=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),M=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),A={video:x,audio:M},P=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),O=new Uint8Array([0,0,0,0,0,0,0,0]),L=new Uint8Array([0,0,0,0,0,0,0,0]),R=L,D=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),N=L,I=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),e=function(t){var e,i,n,r=[],s=0;for(e=1;e<arguments.length;e++)r.push(arguments[e]);e=r.length;while(e--)s+=r[e].byteLength;for(i=new Uint8Array(s+8),n=new DataView(i.buffer,i.byteOffset,i.byteLength),n.setUint32(0,i.byteLength),i.set(t,4),e=0,s=8;e<r.length;e++)i.set(r[e],s),s+=r[e].byteLength;return i},i=function(){return e(S.dinf,e(S.dref,P))},n=function(t){return e(S.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,t.audioobjecttype<<3|t.samplingfrequencyindex>>>1,t.samplingfrequencyindex<<7|t.channelcount<<3,6,1,2]))},r=function(){return e(S.ftyp,E,C,E,k)},g=function(t){return e(S.hdlr,A[t])},s=function(t){return e(S.mdat,t)},m=function(t){var i=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,t.duration>>>24&255,t.duration>>>16&255,t.duration>>>8&255,255&t.duration,85,196,0,0]);return t.samplerate&&(i[12]=t.samplerate>>>24&255,i[13]=t.samplerate>>>16&255,i[14]=t.samplerate>>>8&255,i[15]=255&t.samplerate),e(S.mdhd,i)},f=function(t){return e(S.mdia,m(t),g(t.type),o(t))},a=function(t){return e(S.mfhd,new Uint8Array([0,0,0,0,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))},o=function(t){return e(S.minf,"video"===t.type?e(S.vmhd,I):e(S.smhd,O),i(),v(t))},l=function(t,i){var n=[],r=i.length;while(r--)n[r]=b(i[r]);return e.apply(null,[S.moof,a(t)].concat(n))},u=function(t){var i=t.length,n=[];while(i--)n[i]=d(t[i]);return e.apply(null,[S.moov,c(4294967295)].concat(n).concat(h(t)))},h=function(t){var i=t.length,n=[];while(i--)n[i]=T(t[i]);return e.apply(null,[S.mvex].concat(n))},c=function(t){var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e(S.mvhd,i)},_=function(t){var i,n,r=t.samples||[],s=new Uint8Array(4+r.length);for(n=0;n<r.length;n++)i=r[n].flags,s[n+4]=i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy;return e(S.sdtp,s)},v=function(t){return e(S.stbl,y(t),e(S.stts,N),e(S.stsc,R),e(S.stsz,D),e(S.stco,L))},function(){var t,i;y=function(n){return e(S.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===n.type?t(n):i(n))},t=function(t){var i,n,r=t.sps||[],s=t.pps||[],a=[],o=[];for(i=0;i<r.length;i++)a.push((65280&r[i].byteLength)>>>8),a.push(255&r[i].byteLength),a=a.concat(Array.prototype.slice.call(r[i]));for(i=0;i<s.length;i++)o.push((65280&s[i].byteLength)>>>8),o.push(255&s[i].byteLength),o=o.concat(Array.prototype.slice.call(s[i]));if(n=[S.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&t.width)>>8,255&t.width,(65280&t.height)>>8,255&t.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),e(S.avcC,new Uint8Array([1,t.profileIdc,t.profileCompatibility,t.levelIdc,255].concat([r.length],a,[s.length],o))),e(S.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],t.sarRatio){var l=t.sarRatio[0],u=t.sarRatio[1];n.push(e(S.pasp,new Uint8Array([(4278190080&l)>>24,(16711680&l)>>16,(65280&l)>>8,255&l,(4278190080&u)>>24,(16711680&u)>>16,(65280&u)>>8,255&u])))}return e.apply(null,n)},i=function(t){return e(S.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&t.channelcount)>>8,255&t.channelcount,(65280&t.samplesize)>>8,255&t.samplesize,0,0,0,0,(65280&t.samplerate)>>8,255&t.samplerate,0,0]),n(t))}}(),p=function(t){var i=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,0,(4278190080&t.duration)>>24,(16711680&t.duration)>>16,(65280&t.duration)>>8,255&t.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&t.width)>>8,255&t.width,0,0,(65280&t.height)>>8,255&t.height,0,0]);return e(S.tkhd,i)},b=function(t){var i,n,r,s,a,o,l;return i=e(S.tfhd,new Uint8Array([0,0,0,58,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),o=Math.floor(t.baseMediaDecodeTime/(j+1)),l=Math.floor(t.baseMediaDecodeTime%(j+1)),n=e(S.tfdt,new Uint8Array([1,0,0,0,o>>>24&255,o>>>16&255,o>>>8&255,255&o,l>>>24&255,l>>>16&255,l>>>8&255,255&l])),a=92,"audio"===t.type?(r=w(t,a),e(S.traf,i,n,r)):(s=_(t),r=w(t,s.length+a),e(S.traf,i,n,r,s))},d=function(t){return t.duration=t.duration||4294967295,e(S.trak,p(t),f(t))},T=function(t){var i=new Uint8Array([0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==t.type&&(i[i.length-1]=0),e(S.trex,i)},function(){var t,i,n;n=function(t,e){var i=0,n=0,r=0,s=0;return t.length&&(void 0!==t[0].duration&&(i=1),void 0!==t[0].size&&(n=2),void 0!==t[0].flags&&(r=4),void 0!==t[0].compositionTimeOffset&&(s=8)),[0,0,i|n|r|s,1,(4278190080&t.length)>>>24,(16711680&t.length)>>>16,(65280&t.length)>>>8,255&t.length,(4278190080&e)>>>24,(16711680&e)>>>16,(65280&e)>>>8,255&e]},i=function(t,i){var r,s,a,o,l,u;for(o=t.samples||[],i+=20+16*o.length,a=n(o,i),s=new Uint8Array(a.length+16*o.length),s.set(a),r=a.length,u=0;u<o.length;u++)l=o[u],s[r++]=(4278190080&l.duration)>>>24,s[r++]=(16711680&l.duration)>>>16,s[r++]=(65280&l.duration)>>>8,s[r++]=255&l.duration,s[r++]=(4278190080&l.size)>>>24,s[r++]=(16711680&l.size)>>>16,s[r++]=(65280&l.size)>>>8,s[r++]=255&l.size,s[r++]=l.flags.isLeading<<2|l.flags.dependsOn,s[r++]=l.flags.isDependedOn<<6|l.flags.hasRedundancy<<4|l.flags.paddingValue<<1|l.flags.isNonSyncSample,s[r++]=61440&l.flags.degradationPriority,s[r++]=15&l.flags.degradationPriority,s[r++]=(4278190080&l.compositionTimeOffset)>>>24,s[r++]=(16711680&l.compositionTimeOffset)>>>16,s[r++]=(65280&l.compositionTimeOffset)>>>8,s[r++]=255&l.compositionTimeOffset;return e(S.trun,s)},t=function(t,i){var r,s,a,o,l,u;for(o=t.samples||[],i+=20+8*o.length,a=n(o,i),r=new Uint8Array(a.length+8*o.length),r.set(a),s=a.length,u=0;u<o.length;u++)l=o[u],r[s++]=(4278190080&l.duration)>>>24,r[s++]=(16711680&l.duration)>>>16,r[s++]=(65280&l.duration)>>>8,r[s++]=255&l.duration,r[s++]=(4278190080&l.size)>>>24,r[s++]=(16711680&l.size)>>>16,r[s++]=(65280&l.size)>>>8,r[s++]=255&l.size;return e(S.trun,r)},w=function(e,n){return"audio"===e.type?t(e,n):i(e,n)}}();var U,F,z,V,H,q,G,W,$={ftyp:r,mdat:s,moof:l,moov:u,initSegment:function(t){var e,i=r(),n=u(t);return e=new Uint8Array(i.byteLength+n.byteLength),e.set(i),e.set(n,i.byteLength),e}},K=function(t){var e,i,n=[],r=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,n.byteLength=0,e=0;e<t.length;e++)i=t[e],"access_unit_delimiter_rbsp"===i.nalUnitType?(n.length&&(n.duration=i.dts-n.dts,r.byteLength+=n.byteLength,r.nalCount+=n.length,r.duration+=n.duration,r.push(n)),n=[i],n.byteLength=i.data.byteLength,n.pts=i.pts,n.dts=i.dts):("slice_layer_without_partitioning_rbsp_idr"===i.nalUnitType&&(n.keyFrame=!0),n.duration=i.dts-n.dts,n.byteLength+=i.data.byteLength,n.push(i));return r.length&&(!n.duration||n.duration<=0)&&(n.duration=r[r.length-1].duration),r.byteLength+=n.byteLength,r.nalCount+=n.length,r.duration+=n.duration,r.push(n),r},Z=function(t){var e,i,n=[],r=[];for(n.byteLength=0,n.nalCount=0,n.duration=0,n.pts=t[0].pts,n.dts=t[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=t[0].pts,r.dts=t[0].dts,e=0;e<t.length;e++)i=t[e],i.keyFrame?(n.length&&(r.push(n),r.byteLength+=n.byteLength,r.nalCount+=n.nalCount,r.duration+=n.duration),n=[i],n.nalCount=i.length,n.byteLength=i.byteLength,n.pts=i.pts,n.dts=i.dts,n.duration=i.duration):(n.duration+=i.duration,n.nalCount+=i.length,n.byteLength+=i.byteLength,n.push(i));return r.length&&n.duration<=0&&(n.duration=r[r.length-1].duration),r.byteLength+=n.byteLength,r.nalCount+=n.nalCount,r.duration+=n.duration,r.push(n),r},X=function(t){var e;return!t[0][0].keyFrame&&t.length>1&&(e=t.shift(),t.byteLength-=e.byteLength,t.nalCount-=e.nalCount,t[0][0].dts=e.dts,t[0][0].pts=e.pts,t[0][0].duration+=e.duration),t},Y=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},Q=function(t,e){var i=Y();return i.dataOffset=e,i.compositionTimeOffset=t.pts-t.dts,i.duration=t.duration,i.size=4*t.length,i.size+=t.byteLength,t.keyFrame&&(i.flags.dependsOn=2,i.flags.isNonSyncSample=0),i},J=function(t,e){var i,n,r,s,a,o=e||0,l=[];for(i=0;i<t.length;i++)for(s=t[i],n=0;n<s.length;n++)a=s[n],r=Q(a,o),o+=r.size,l.push(r);return l},tt=function(t){var e,i,n,r,s,a,o=0,l=t.byteLength,u=t.nalCount,h=l+4*u,c=new Uint8Array(h),d=new DataView(c.buffer);for(e=0;e<t.length;e++)for(r=t[e],i=0;i<r.length;i++)for(s=r[i],n=0;n<s.length;n++)a=s[n],d.setUint32(o,a.data.byteLength),o+=4,c.set(a.data,o),o+=a.data.byteLength;return c},et=function(t,e){var i,n=e||0,r=[];return i=Q(t,n),r.push(i),r},it=function(t){var e,i,n=0,r=t.byteLength,s=t.length,a=r+4*s,o=new Uint8Array(a),l=new DataView(o.buffer);for(e=0;e<t.length;e++)i=t[e],l.setUint32(n,i.data.byteLength),n+=4,o.set(i.data,n),n+=i.data.byteLength;return o},nt={groupNalsIntoFrames:K,groupFramesIntoGops:Z,extendFirstKeyFrame:X,generateSampleTable:J,concatenateNalData:tt,generateSampleTableForFrame:et,concatenateNalDataForFrame:it},rt=[33,16,5,32,164,27],st=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],at=function(t){var e=[];while(t--)e.push(0);return e},ot=function(t){return Object.keys(t).reduce((function(e,i){return e[i]=new Uint8Array(t[i].reduce((function(t,e){return t.concat(e)}),[])),e}),{})},lt=function(){if(!U){var t={96e3:[rt,[227,64],at(154),[56]],88200:[rt,[231],at(170),[56]],64e3:[rt,[248,192],at(240),[56]],48e3:[rt,[255,192],at(268),[55,148,128],at(54),[112]],44100:[rt,[255,192],at(268),[55,163,128],at(84),[112]],32e3:[rt,[255,192],at(268),[55,234],at(226),[112]],24e3:[rt,[255,192],at(268),[55,255,128],at(268),[111,112],at(126),[224]],16e3:[rt,[255,192],at(268),[55,255,128],at(268),[111,255],at(269),[223,108],at(195),[1,192]],12e3:[st,at(268),[3,127,248],at(268),[6,255,240],at(268),[13,255,224],at(268),[27,253,128],at(259),[56]],11025:[st,at(268),[3,127,248],at(268),[6,255,240],at(268),[13,255,224],at(268),[27,255,192],at(268),[55,175,128],at(108),[112]],8e3:[st,at(268),[3,121,16],at(47),[7]]};U=ot(t)}return U},ut=9e4;F=function(t){return t*ut},z=function(t,e){return t*e},V=function(t){return t/ut},H=function(t,e){return t/e},q=function(t,e){return F(H(t,e))},G=function(t,e){return z(V(t),e)},W=function(t,e,i){return V(i?t:t-e)};var ht={ONE_SECOND_IN_TS:ut,secondsToVideoTs:F,secondsToAudioTs:z,videoTsToSeconds:V,audioTsToSeconds:H,audioTsToVideoTs:q,videoTsToAudioTs:G,metadataTsToSeconds:W},ct=function(t){var e,i,n=0;for(e=0;e<t.length;e++)i=t[e],n+=i.data.byteLength;return n},dt=function(t,e,i,n){var r,s,a,o,l=0,u=0,h=0,c=0;if(e.length&&(r=ht.audioTsToVideoTs(t.baseMediaDecodeTime,t.samplerate),l=Math.ceil(ht.ONE_SECOND_IN_TS/(t.samplerate/1024)),i&&n&&(u=r-Math.max(i,n),h=Math.floor(u/l),c=h*l),!(h<1||c>ht.ONE_SECOND_IN_TS/2))){for(s=lt()[t.samplerate],s||(s=e[0].data),a=0;a<h;a++)o=e[0],e.splice(0,0,{data:s,dts:o.dts-l,pts:o.pts-l});return t.baseMediaDecodeTime-=Math.floor(ht.videoTsToAudioTs(c,t.samplerate)),c}},pt=function(t,e,i){return e.minSegmentDts>=i?t:(e.minSegmentDts=1/0,t.filter((function(t){return t.dts>=i&&(e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),e.minSegmentPts=e.minSegmentDts,!0)})))},ft=function(t){var e,i,n=[];for(e=0;e<t.length;e++)i=t[e],n.push({size:i.data.byteLength,duration:1024});return n},mt=function(t){var e,i,n=0,r=new Uint8Array(ct(t));for(e=0;e<t.length;e++)i=t[e],r.set(i.data,n),n+=i.data.byteLength;return r},gt={prefixWithSilence:dt,trimAdtsFramesByEarliestDts:pt,generateSampleTable:ft,concatenateFrameData:mt},_t=ht.ONE_SECOND_IN_TS,vt=function(t,e){"number"===typeof e.pts&&(void 0===t.timelineStartInfo.pts&&(t.timelineStartInfo.pts=e.pts),void 0===t.minSegmentPts?t.minSegmentPts=e.pts:t.minSegmentPts=Math.min(t.minSegmentPts,e.pts),void 0===t.maxSegmentPts?t.maxSegmentPts=e.pts:t.maxSegmentPts=Math.max(t.maxSegmentPts,e.pts)),"number"===typeof e.dts&&(void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),void 0===t.minSegmentDts?t.minSegmentDts=e.dts:t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),void 0===t.maxSegmentDts?t.maxSegmentDts=e.dts:t.maxSegmentDts=Math.max(t.maxSegmentDts,e.dts))},yt=function(t){delete t.minSegmentDts,delete t.maxSegmentDts,delete t.minSegmentPts,delete t.maxSegmentPts},bt=function(t,e){var i,n,r=t.minSegmentDts;return e||(r-=t.timelineStartInfo.dts),i=t.timelineStartInfo.baseMediaDecodeTime,i+=r,i=Math.max(0,i),"audio"===t.type&&(n=t.samplerate/_t,i*=n,i=Math.floor(i)),i},Tt={clearDtsInfo:yt,calculateTrackBaseMediaDecodeTime:bt,collectDtsInfo:vt},wt=4,St=128,Et=function(t){var e=0,i={payloadType:-1,payloadSize:0},n=0,r=0;while(e<t.byteLength){if(t[e]===St)break;while(255===t[e])n+=255,e++;n+=t[e++];while(255===t[e])r+=255,e++;if(r+=t[e++],!i.payload&&n===wt){var s=String.fromCharCode(t[e+3],t[e+4],t[e+5],t[e+6]);if("GA94"===s){i.payloadType=n,i.payloadSize=r,i.payload=t.subarray(e,e+r);break}i.payload=void 0}e+=r,n=0,r=0}return i},Ct=function(t){return 181!==t.payload[0]||49!==(t.payload[1]<<8|t.payload[2])||"GA94"!==String.fromCharCode(t.payload[3],t.payload[4],t.payload[5],t.payload[6])||3!==t.payload[7]?null:t.payload.subarray(8,t.payload.length-1)},kt=function(t,e){var i,n,r,s,a=[];if(!(64&e[0]))return a;for(n=31&e[0],i=0;i<n;i++)r=3*i,s={type:3&e[r+2],pts:t},4&e[r+2]&&(s.ccData=e[r+3]<<8|e[r+4],a.push(s));return a},xt=function(t){var e,i,n=t.byteLength,r=[],s=1;while(s<n-2)0===t[s]&&0===t[s+1]&&3===t[s+2]?(r.push(s+2),s+=2):s++;if(0===r.length)return t;e=n-r.length,i=new Uint8Array(e);var a=0;for(s=0;s<e;a++,s++)a===r[0]&&(a++,r.shift()),i[s]=t[a];return i},Mt={parseSei:Et,parseUserData:Ct,parseCaptionPackets:kt,discardEmulationPreventionBytes:xt,USER_DATA_REGISTERED_ITU_T_T35:wt},At=function t(e){e=e||{},t.prototype.init.call(this),this.parse708captions_="boolean"!==typeof e.parse708captions||e.parse708captions,this.captionPackets_=[],this.ccStreams_=[new zt(0,0),new zt(0,1),new zt(1,0),new zt(1,1)],this.parse708captions_&&(this.cc708Stream_=new Dt),this.reset(),this.ccStreams_.forEach((function(t){t.on("data",this.trigger.bind(this,"data")),t.on("partialdone",this.trigger.bind(this,"partialdone")),t.on("done",this.trigger.bind(this,"done"))}),this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};At.prototype=new B,At.prototype.push=function(t){var e,i,n;if("sei_rbsp"===t.nalUnitType&&(e=Mt.parseSei(t.escapedRBSP),e.payload&&e.payloadType===Mt.USER_DATA_REGISTERED_ITU_T_T35&&(i=Mt.parseUserData(e),i)))if(t.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(t.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));n=Mt.parseCaptionPackets(t.pts,i),this.captionPackets_=this.captionPackets_.concat(n),this.latestDts_!==t.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=t.dts}},At.prototype.flushCCStreams=function(t){this.ccStreams_.forEach((function(e){return"flush"===t?e.flush():e.partialFlush()}),this)},At.prototype.flushStream=function(t){this.captionPackets_.length?(this.captionPackets_.forEach((function(t,e){t.presortIndex=e})),this.captionPackets_.sort((function(t,e){return t.pts===e.pts?t.presortIndex-e.presortIndex:t.pts-e.pts})),this.captionPackets_.forEach((function(t){t.type<2?this.dispatchCea608Packet(t):this.dispatchCea708Packet(t)}),this),this.captionPackets_.length=0,this.flushCCStreams(t)):this.flushCCStreams(t)},At.prototype.flush=function(){return this.flushStream("flush")},At.prototype.partialFlush=function(){return this.flushStream("partialFlush")},At.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(t){t.reset()}))},At.prototype.dispatchCea608Packet=function(t){this.setsTextOrXDSActive(t)?this.activeCea608Channel_[t.type]=null:this.setsChannel1Active(t)?this.activeCea608Channel_[t.type]=0:this.setsChannel2Active(t)&&(this.activeCea608Channel_[t.type]=1),null!==this.activeCea608Channel_[t.type]&&this.ccStreams_[(t.type<<1)+this.activeCea608Channel_[t.type]].push(t)},At.prototype.setsChannel1Active=function(t){return 4096===(30720&t.ccData)},At.prototype.setsChannel2Active=function(t){return 6144===(30720&t.ccData)},At.prototype.setsTextOrXDSActive=function(t){return 256===(28928&t.ccData)||4138===(30974&t.ccData)||6186===(30974&t.ccData)},At.prototype.dispatchCea708Packet=function(t){this.parse708captions_&&this.cc708Stream_.push(t)};var It={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Ot=function(t){var e=It[t]||t;return 4096&t&&t===e?"":String.fromCharCode(e)},Pt=function(t){return 32<=t&&t<=127||160<=t&&t<=255},Lt=function(t){this.windowNum=t,this.reset()};Lt.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Lt.prototype.getText=function(){return this.rows.join("\n")},Lt.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Lt.prototype.newLine=function(t){this.rows.length>=this.virtualRowCount&&"function"===typeof this.beforeRowOverflow&&this.beforeRowOverflow(t),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);while(this.rows.length>this.virtualRowCount)this.rows.shift(),this.rowIdx--},Lt.prototype.isEmpty=function(){return 0===this.rows.length||1===this.rows.length&&""===this.rows[0]},Lt.prototype.addText=function(t){this.rows[this.rowIdx]+=t},Lt.prototype.backspace=function(){if(!this.isEmpty()){var t=this.rows[this.rowIdx];this.rows[this.rowIdx]=t.substr(0,t.length-1)}};var Rt=function(t){this.serviceNum=t,this.text="",this.currentWindow=new Lt(-1),this.windows=[]};Rt.prototype.init=function(t,e){this.startPts=t;for(var i=0;i<8;i++)this.windows[i]=new Lt(i),"function"===typeof e&&(this.windows[i].beforeRowOverflow=e)},Rt.prototype.setCurrentWindow=function(t){this.currentWindow=this.windows[t]};var Dt=function t(){t.prototype.init.call(this);var e=this;this.current708Packet=null,this.services={},this.push=function(t){3===t.type?(e.new708Packet(),e.add708Bytes(t)):(null===e.current708Packet&&e.new708Packet(),e.add708Bytes(t))}};Dt.prototype=new B,Dt.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Dt.prototype.add708Bytes=function(t){var e=t.ccData,i=e>>>8,n=255&e;this.current708Packet.ptsVals.push(t.pts),this.current708Packet.data.push(i),this.current708Packet.data.push(n)},Dt.prototype.push708Packet=function(){var t=this.current708Packet,e=t.data,i=null,n=null,r=0,s=e[r++];for(t.seq=s>>6,t.sizeCode=63&s;r<e.length;r++)s=e[r++],i=s>>5,n=31&s,7===i&&n>0&&(s=e[r++],i=s),this.pushServiceBlock(i,r,n),n>0&&(r+=n-1)},Dt.prototype.pushServiceBlock=function(t,e,i){var n,r=e,s=this.current708Packet.data,a=this.services[t];for(a||(a=this.initService(t,r));r<e+i&&r<s.length;r++)n=s[r],Pt(n)?r=this.handleText(r,a):16===n?r=this.extendedCommands(r,a):128<=n&&n<=135?r=this.setCurrentWindow(r,a):152<=n&&n<=159?r=this.defineWindow(r,a):136===n?r=this.clearWindows(r,a):140===n?r=this.deleteWindows(r,a):137===n?r=this.displayWindows(r,a):138===n?r=this.hideWindows(r,a):139===n?r=this.toggleWindows(r,a):151===n?r=this.setWindowAttributes(r,a):144===n?r=this.setPenAttributes(r,a):145===n?r=this.setPenColor(r,a):146===n?r=this.setPenLocation(r,a):143===n?a=this.reset(r,a):8===n?a.currentWindow.backspace():12===n?a.currentWindow.clearText():13===n?a.currentWindow.pendingNewLine=!0:14===n?a.currentWindow.clearText():141===n&&r++},Dt.prototype.extendedCommands=function(t,e){var i=this.current708Packet.data,n=i[++t];return Pt(n)&&(t=this.handleText(t,e,!0)),t},Dt.prototype.getPts=function(t){return this.current708Packet.ptsVals[Math.floor(t/2)]},Dt.prototype.initService=function(t,e){var i=this;return this.services[t]=new Rt(t),this.services[t].init(this.getPts(e),(function(e){i.flushDisplayed(e,i.services[t])})),this.services[t]},Dt.prototype.handleText=function(t,e,i){var n=this.current708Packet.data,r=n[t],s=i?4096:0,a=Ot(s|r),o=e.currentWindow;return o.pendingNewLine&&!o.isEmpty()&&o.newLine(this.getPts(t)),o.pendingNewLine=!1,o.addText(a),t},Dt.prototype.setCurrentWindow=function(t,e){var i=this.current708Packet.data,n=i[t],r=7&n;return e.setCurrentWindow(r),t},Dt.prototype.defineWindow=function(t,e){var i=this.current708Packet.data,n=i[t],r=7&n;e.setCurrentWindow(r);var s=e.currentWindow;return n=i[++t],s.visible=(32&n)>>5,s.rowLock=(16&n)>>4,s.columnLock=(8&n)>>3,s.priority=7&n,n=i[++t],s.relativePositioning=(128&n)>>7,s.anchorVertical=127&n,n=i[++t],s.anchorHorizontal=n,n=i[++t],s.anchorPoint=(240&n)>>4,s.rowCount=15&n,n=i[++t],s.columnCount=63&n,n=i[++t],s.windowStyle=(56&n)>>3,s.penStyle=7&n,s.virtualRowCount=s.rowCount+1,t},Dt.prototype.setWindowAttributes=function(t,e){var i=this.current708Packet.data,n=i[t],r=e.currentWindow.winAttr;return n=i[++t],r.fillOpacity=(192&n)>>6,r.fillRed=(48&n)>>4,r.fillGreen=(12&n)>>2,r.fillBlue=3&n,n=i[++t],r.borderType=(192&n)>>6,r.borderRed=(48&n)>>4,r.borderGreen=(12&n)>>2,r.borderBlue=3&n,n=i[++t],r.borderType+=(128&n)>>5,r.wordWrap=(64&n)>>6,r.printDirection=(48&n)>>4,r.scrollDirection=(12&n)>>2,r.justify=3&n,n=i[++t],r.effectSpeed=(240&n)>>4,r.effectDirection=(12&n)>>2,r.displayEffect=3&n,t},Dt.prototype.flushDisplayed=function(t,e){for(var i=[],n=0;n<8;n++)e.windows[n].visible&&!e.windows[n].isEmpty()&&i.push(e.windows[n].getText());e.endPts=t,e.text=i.join("\n\n"),this.pushCaption(e),e.startPts=t},Dt.prototype.pushCaption=function(t){""!==t.text&&(this.trigger("data",{startPts:t.startPts,endPts:t.endPts,text:t.text,stream:"cc708_"+t.serviceNum}),t.text="",t.startPts=t.endPts)},Dt.prototype.displayWindows=function(t,e){var i=this.current708Packet.data,n=i[++t],r=this.getPts(t);this.flushDisplayed(r,e);for(var s=0;s<8;s++)n&1<<s&&(e.windows[s].visible=1);return t},Dt.prototype.hideWindows=function(t,e){var i=this.current708Packet.data,n=i[++t],r=this.getPts(t);this.flushDisplayed(r,e);for(var s=0;s<8;s++)n&1<<s&&(e.windows[s].visible=0);return t},Dt.prototype.toggleWindows=function(t,e){var i=this.current708Packet.data,n=i[++t],r=this.getPts(t);this.flushDisplayed(r,e);for(var s=0;s<8;s++)n&1<<s&&(e.windows[s].visible^=1);return t},Dt.prototype.clearWindows=function(t,e){var i=this.current708Packet.data,n=i[++t],r=this.getPts(t);this.flushDisplayed(r,e);for(var s=0;s<8;s++)n&1<<s&&e.windows[s].clearText();return t},Dt.prototype.deleteWindows=function(t,e){var i=this.current708Packet.data,n=i[++t],r=this.getPts(t);this.flushDisplayed(r,e);for(var s=0;s<8;s++)n&1<<s&&e.windows[s].reset();return t},Dt.prototype.setPenAttributes=function(t,e){var i=this.current708Packet.data,n=i[t],r=e.currentWindow.penAttr;return n=i[++t],r.textTag=(240&n)>>4,r.offset=(12&n)>>2,r.penSize=3&n,n=i[++t],r.italics=(128&n)>>7,r.underline=(64&n)>>6,r.edgeType=(56&n)>>3,r.fontStyle=7&n,t},Dt.prototype.setPenColor=function(t,e){var i=this.current708Packet.data,n=i[t],r=e.currentWindow.penColor;return n=i[++t],r.fgOpacity=(192&n)>>6,r.fgRed=(48&n)>>4,r.fgGreen=(12&n)>>2,r.fgBlue=3&n,n=i[++t],r.bgOpacity=(192&n)>>6,r.bgRed=(48&n)>>4,r.bgGreen=(12&n)>>2,r.bgBlue=3&n,n=i[++t],r.edgeRed=(48&n)>>4,r.edgeGreen=(12&n)>>2,r.edgeBlue=3&n,t},Dt.prototype.setPenLocation=function(t,e){var i=this.current708Packet.data,n=i[t],r=e.currentWindow.penLoc;return e.currentWindow.pendingNewLine=!0,n=i[++t],r.row=15&n,n=i[++t],r.column=63&n,t},Dt.prototype.reset=function(t,e){var i=this.getPts(t);return this.flushDisplayed(i,e),this.initService(e.serviceNum,t)};var Nt={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Bt=function(t){return null===t?"":(t=Nt[t]||t,String.fromCharCode(t))},jt=14,Ut=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Ft=function(){var t=[],e=jt+1;while(e--)t.push("");return t},zt=function t(e,i){t.prototype.init.call(this),this.field_=e||0,this.dataChannel_=i||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(t){var e,i,n,r,s;if(e=32639&t.ccData,e!==this.lastControlCode_){if(4096===(61440&e)?this.lastControlCode_=e:e!==this.PADDING_&&(this.lastControlCode_=null),n=e>>>8,r=255&e,e!==this.PADDING_)if(e===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(e===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(t.pts),this.flushDisplayed(t.pts),i=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=i,this.startPts_=t.pts;else if(e===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(t.pts);else if(e===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(t.pts);else if(e===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(t.pts);else if(e===this.CARRIAGE_RETURN_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts;else if(e===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(e===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(t.pts),this.displayed_=Ft();else if(e===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Ft();else if(e===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(t.pts),this.displayed_=Ft()),this.mode_="paintOn",this.startPts_=t.pts;else if(this.isSpecialCharacter(n,r))n=(3&n)<<8,s=Bt(n|r),this[this.mode_](t.pts,s),this.column_++;else if(this.isExtCharacter(n,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),n=(3&n)<<8,s=Bt(n|r),this[this.mode_](t.pts,s),this.column_++;else if(this.isMidRowCode(n,r))this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,14===(14&r)&&this.addFormatting(t.pts,["i"]),1===(1&r)&&this.addFormatting(t.pts,["u"]);else if(this.isOffsetControlCode(n,r))this.column_+=3&r;else if(this.isPAC(n,r)){var a=Ut.indexOf(7968&e);"rollUp"===this.mode_&&(a-this.rollUpRows_+1<0&&(a=this.rollUpRows_-1),this.setRollUp(t.pts,a)),a!==this.row_&&(this.clearFormatting(t.pts),this.row_=a),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(t.pts,["u"]),16===(16&e)&&(this.column_=4*((14&e)>>1)),this.isColorPAC(r)&&14===(14&r)&&this.addFormatting(t.pts,["i"])}else this.isNormalChar(n)&&(0===r&&(r=null),s=Bt(n),s+=Bt(r),this[this.mode_](t.pts,s),this.column_+=s.length)}else this.lastControlCode_=null}};zt.prototype=new B,zt.prototype.flushDisplayed=function(t){var e=this.displayed_.map((function(t){try{return t.trim()}catch(e){return console.error("Skipping malformed caption."),""}})).join("\n").replace(/^\n+|\n+$/g,"");e.length&&this.trigger("data",{startPts:this.startPts_,endPts:t,text:e,stream:this.name_})},zt.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Ft(),this.nonDisplayed_=Ft(),this.lastControlCode_=null,this.column_=0,this.row_=jt,this.rollUpRows_=2,this.formatting_=[]},zt.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},zt.prototype.isSpecialCharacter=function(t,e){return t===this.EXT_&&e>=48&&e<=63},zt.prototype.isExtCharacter=function(t,e){return(t===this.EXT_+1||t===this.EXT_+2)&&e>=32&&e<=63},zt.prototype.isMidRowCode=function(t,e){return t===this.EXT_&&e>=32&&e<=47},zt.prototype.isOffsetControlCode=function(t,e){return t===this.OFFSET_&&e>=33&&e<=35},zt.prototype.isPAC=function(t,e){return t>=this.BASE_&&t<this.BASE_+8&&e>=64&&e<=127},zt.prototype.isColorPAC=function(t){return t>=64&&t<=79||t>=96&&t<=127},zt.prototype.isNormalChar=function(t){return t>=32&&t<=127},zt.prototype.setRollUp=function(t,e){if("rollUp"!==this.mode_&&(this.row_=jt,this.mode_="rollUp",this.flushDisplayed(t),this.nonDisplayed_=Ft(),this.displayed_=Ft()),void 0!==e&&e!==this.row_)for(var i=0;i<this.rollUpRows_;i++)this.displayed_[e-i]=this.displayed_[this.row_-i],this.displayed_[this.row_-i]="";void 0===e&&(e=this.row_),this.topRow_=e-this.rollUpRows_+1},zt.prototype.addFormatting=function(t,e){this.formatting_=this.formatting_.concat(e);var i=e.reduce((function(t,e){return t+"<"+e+">"}),"");this[this.mode_](t,i)},zt.prototype.clearFormatting=function(t){if(this.formatting_.length){var e=this.formatting_.reverse().reduce((function(t,e){return t+"</"+e+">"}),"");this.formatting_=[],this[this.mode_](t,e)}},zt.prototype.popOn=function(t,e){var i=this.nonDisplayed_[this.row_];i+=e,this.nonDisplayed_[this.row_]=i},zt.prototype.rollUp=function(t,e){var i=this.displayed_[this.row_];i+=e,this.displayed_[this.row_]=i},zt.prototype.shiftRowsUp_=function(){var t;for(t=0;t<this.topRow_;t++)this.displayed_[t]="";for(t=this.row_+1;t<jt+1;t++)this.displayed_[t]="";for(t=this.topRow_;t<this.row_;t++)this.displayed_[t]=this.displayed_[t+1];this.displayed_[this.row_]=""},zt.prototype.paintOn=function(t,e){var i=this.displayed_[this.row_];i+=e,this.displayed_[this.row_]=i};var Vt={CaptionStream:At,Cea608Stream:zt,Cea708Stream:Dt},Ht={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},qt=8589934592,Gt=4294967296,Wt="shared",$t=function(t,e){var i=1;t>e&&(i=-1);while(Math.abs(e-t)>Gt)t+=i*qt;return t},Kt=function t(e){var i,n;t.prototype.init.call(this),this.type_=e||Wt,this.push=function(t){this.type_!==Wt&&t.type!==this.type_||(void 0===n&&(n=t.dts),t.dts=$t(t.dts,n),t.pts=$t(t.pts,n),i=t.dts,this.trigger("data",t))},this.flush=function(){n=i,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){n=void 0,i=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Kt.prototype=new B;var Zt,Xt={TimestampRolloverStream:Kt,handleRollover:$t},Yt=function(t,e,i){var n,r="";for(n=e;n<i;n++)r+="%"+("00"+t[n].toString(16)).slice(-2);return r},Qt=function(t,e,i){return decodeURIComponent(Yt(t,e,i))},Jt=function(t,e,i){return unescape(Yt(t,e,i))},te=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},ee={TXXX:function(t){var e;if(3===t.data[0]){for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=Qt(t.data,1,e),t.value=Qt(t.data,e+1,t.data.length).replace(/\0*$/,"");break}t.data=t.value}},WXXX:function(t){var e;if(3===t.data[0])for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=Qt(t.data,1,e),t.url=Qt(t.data,e+1,t.data.length);break}},PRIV:function(t){var e;for(e=0;e<t.data.length;e++)if(0===t.data[e]){t.owner=Jt(t.data,0,e);break}t.privateData=t.data.subarray(e+1),t.data=t.privateData}};Zt=function(t){var e,i={debug:!(!t||!t.debug),descriptor:t&&t.descriptor},n=0,r=[],s=0;if(Zt.prototype.init.call(this),this.dispatchType=Ht.METADATA_STREAM_TYPE.toString(16),i.descriptor)for(e=0;e<i.descriptor.length;e++)this.dispatchType+=("00"+i.descriptor[e].toString(16)).slice(-2);this.push=function(t){var e,a,o,l,u,h;if("timed-metadata"===t.type)if(t.dataAlignmentIndicator&&(s=0,r.length=0),0===r.length&&(t.data.length<10||t.data[0]!=="I".charCodeAt(0)||t.data[1]!=="D".charCodeAt(0)||t.data[2]!=="3".charCodeAt(0)))i.debug&&console.log("Skipping unrecognized metadata packet");else if(r.push(t),s+=t.data.byteLength,1===r.length&&(n=te(t.data.subarray(6,10)),n+=10),!(s<n)){for(e={data:new Uint8Array(n),frames:[],pts:r[0].pts,dts:r[0].dts},u=0;u<n;)e.data.set(r[0].data.subarray(0,n-u),u),u+=r[0].data.byteLength,s-=r[0].data.byteLength,r.shift();a=10,64&e.data[5]&&(a+=4,a+=te(e.data.subarray(10,14)),n-=te(e.data.subarray(16,20)));do{if(o=te(e.data.subarray(a+4,a+8)),o<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if(h=String.fromCharCode(e.data[a],e.data[a+1],e.data[a+2],e.data[a+3]),l={id:h,data:e.data.subarray(a+10,a+o+10)},l.key=l.id,ee[l.id]&&(ee[l.id](l),"com.apple.streaming.transportStreamTimestamp"===l.owner)){var c=l.data,d=(1&c[3])<<30|c[4]<<22|c[5]<<14|c[6]<<6|c[7]>>>2;d*=4,d+=3&c[7],l.timeStamp=d,void 0===e.pts&&void 0===e.dts&&(e.pts=l.timeStamp,e.dts=l.timeStamp),this.trigger("timestamp",l)}e.frames.push(l),a+=10,a+=o}while(a<n);this.trigger("data",e)}}},Zt.prototype=new B;var ie,ne,re,se=Zt,ae=Xt.TimestampRolloverStream,oe=188,le=71;ie=function(){var t=new Uint8Array(oe),e=0;ie.prototype.init.call(this),this.push=function(i){var n,r=0,s=oe;e?(n=new Uint8Array(i.byteLength+e),n.set(t.subarray(0,e)),n.set(i,e),e=0):n=i;while(s<n.byteLength)n[r]!==le||n[s]!==le?(r++,s++):(this.trigger("data",n.subarray(r,s)),r+=oe,s+=oe);r<n.byteLength&&(t.set(n.subarray(r),0),e=n.byteLength-r)},this.flush=function(){e===oe&&t[0]===le&&(this.trigger("data",t),e=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){e=0,this.trigger("reset")}},ie.prototype=new B,ne=function(){var t,e,i,n;ne.prototype.init.call(this),n=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,t=function(t,n){var r=0;n.payloadUnitStartIndicator&&(r+=t[r]+1),"pat"===n.type?e(t.subarray(r),n):i(t.subarray(r),n)},e=function(t,e){e.section_number=t[7],e.last_section_number=t[8],n.pmtPid=(31&t[10])<<8|t[11],e.pmtPid=n.pmtPid},i=function(t,e){var i,r,s,a;if(1&t[5]){n.programMapTable={video:null,audio:null,"timed-metadata":{}},i=(15&t[1])<<8|t[2],r=3+i-4,s=(15&t[10])<<8|t[11],a=12+s;while(a<r){var o=t[a],l=(31&t[a+1])<<8|t[a+2];o===Ht.H264_STREAM_TYPE&&null===n.programMapTable.video?n.programMapTable.video=l:o===Ht.ADTS_STREAM_TYPE&&null===n.programMapTable.audio?n.programMapTable.audio=l:o===Ht.METADATA_STREAM_TYPE&&(n.programMapTable["timed-metadata"][l]=o),a+=5+((15&t[a+3])<<8|t[a+4])}e.programMapTable=n.programMapTable}},this.push=function(e){var i={},n=4;if(i.payloadUnitStartIndicator=!!(64&e[1]),i.pid=31&e[1],i.pid<<=8,i.pid|=e[2],(48&e[3])>>>4>1&&(n+=e[n]+1),0===i.pid)i.type="pat",t(e.subarray(n),i),this.trigger("data",i);else if(i.pid===this.pmtPid){i.type="pmt",t(e.subarray(n),i),this.trigger("data",i);while(this.packetsWaitingForPmt.length)this.processPes_.apply(this,this.packetsWaitingForPmt.shift())}else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,n,i]):this.processPes_(e,n,i)},this.processPes_=function(t,e,i){i.pid===this.programMapTable.video?i.streamType=Ht.H264_STREAM_TYPE:i.pid===this.programMapTable.audio?i.streamType=Ht.ADTS_STREAM_TYPE:i.streamType=this.programMapTable["timed-metadata"][i.pid],i.type="pes",i.data=t.subarray(e),this.trigger("data",i)}},ne.prototype=new B,ne.STREAM_TYPES={h264:27,adts:15},re=function(){var t,e=this,i={data:[],size:0},n={data:[],size:0},r={data:[],size:0},s=function(t,e){var i,n=t[0]<<16|t[1]<<8|t[2];e.data=new Uint8Array,1===n&&(e.packetLength=6+(t[4]<<8|t[5]),e.dataAlignmentIndicator=0!==(4&t[6]),i=t[7],192&i&&(e.pts=(14&t[9])<<27|(255&t[10])<<20|(254&t[11])<<12|(255&t[12])<<5|(254&t[13])>>>3,e.pts*=4,e.pts+=(6&t[13])>>>1,e.dts=e.pts,64&i&&(e.dts=(14&t[14])<<27|(255&t[15])<<20|(254&t[16])<<12|(255&t[17])<<5|(254&t[18])>>>3,e.dts*=4,e.dts+=(6&t[18])>>>1)),e.data=t.subarray(9+t[8]))},a=function(t,i,n){var r,a=new Uint8Array(t.size),o={type:i},l=0,u=0,h=!1;if(t.data.length&&!(t.size<9)){for(o.trackId=t.data[0].pid,l=0;l<t.data.length;l++)r=t.data[l],a.set(r.data,u),u+=r.data.byteLength;s(a,o),h="video"===i||o.packetLength<=t.size,(n||h)&&(t.size=0,t.data.length=0),h&&e.trigger("data",o)}};re.prototype.init.call(this),this.push=function(s){({pat:function(){},pes:function(){var t,e;switch(s.streamType){case Ht.H264_STREAM_TYPE:t=i,e="video";break;case Ht.ADTS_STREAM_TYPE:t=n,e="audio";break;case Ht.METADATA_STREAM_TYPE:t=r,e="timed-metadata";break;default:return}s.payloadUnitStartIndicator&&a(t,e,!0),t.data.push(s),t.size+=s.data.byteLength},pmt:function(){var i={type:"metadata",tracks:[]};t=s.programMapTable,null!==t.video&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.video,codec:"avc",type:"video"}),null!==t.audio&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.audio,codec:"adts",type:"audio"}),e.trigger("data",i)}})[s.type]()},this.reset=function(){i.size=0,i.data.length=0,n.size=0,n.data.length=0,this.trigger("reset")},this.flushStreams_=function(){a(i,"video"),a(n,"audio"),a(r,"timed-metadata")},this.flush=function(){this.flushStreams_(),this.trigger("done")}},re.prototype=new B;var ue={PAT_PID:0,MP2T_PACKET_LENGTH:oe,TransportPacketStream:ie,TransportParseStream:ne,ElementaryStream:re,TimestampRolloverStream:ae,CaptionStream:Vt.CaptionStream,Cea608Stream:Vt.Cea608Stream,Cea708Stream:Vt.Cea708Stream,MetadataStream:se};for(var he in Ht)Ht.hasOwnProperty(he)&&(ue[he]=Ht[he]);var ce,de=ue,pe=ht.ONE_SECOND_IN_TS,fe=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];ce=function(t){var e,i=0;ce.prototype.init.call(this),this.push=function(n){var r,s,a,o,l,u,h=0;if(t||(i=0),"audio"===n.type){e?(o=e,e=new Uint8Array(o.byteLength+n.data.byteLength),e.set(o),e.set(n.data,o.byteLength)):e=n.data;while(h+5<e.length)if(255===e[h]&&240===(246&e[h+1])){if(s=2*(1&~e[h+1]),r=(3&e[h+3])<<11|e[h+4]<<3|(224&e[h+5])>>5,l=1024*(1+(3&e[h+6])),u=l*pe/fe[(60&e[h+2])>>>2],a=h+r,e.byteLength<a)return;if(this.trigger("data",{pts:n.pts+i*u,dts:n.dts+i*u,sampleCount:l,audioobjecttype:1+(e[h+2]>>>6&3),channelcount:(1&e[h+2])<<2|(192&e[h+3])>>>6,samplerate:fe[(60&e[h+2])>>>2],samplingfrequencyindex:(60&e[h+2])>>>2,samplesize:16,data:e.subarray(h+7+s,a)}),i++,e.byteLength===a)return void(e=void 0);e=e.subarray(a)}else h++}},this.flush=function(){i=0,this.trigger("done")},this.reset=function(){e=void 0,this.trigger("reset")},this.endTimeline=function(){e=void 0,this.trigger("endedtimeline")}},ce.prototype=new B;var me,ge=ce;me=function(t){var e=t.byteLength,i=0,n=0;this.length=function(){return 8*e},this.bitsAvailable=function(){return 8*e+n},this.loadWord=function(){var r=t.byteLength-e,s=new Uint8Array(4),a=Math.min(4,e);if(0===a)throw new Error("no bytes available");s.set(t.subarray(r,r+a)),i=new DataView(s.buffer).getUint32(0),n=8*a,e-=a},this.skipBits=function(t){var r;n>t?(i<<=t,n-=t):(t-=n,r=Math.floor(t/8),t-=8*r,e-=r,this.loadWord(),i<<=t,n-=t)},this.readBits=function(t){var r=Math.min(n,t),s=i>>>32-r;return n-=r,n>0?i<<=r:e>0&&this.loadWord(),r=t-r,r>0?s<<r|this.readBits(r):s},this.skipLeadingZeros=function(){var t;for(t=0;t<n;++t)if(0!==(i&2147483648>>>t))return i<<=t,n-=t,t;return this.loadWord(),t+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var t=this.skipLeadingZeros();return this.readBits(t+1)-1},this.readExpGolomb=function(){var t=this.readUnsignedExpGolomb();return 1&t?1+t>>>1:-1*(t>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var _e,ve,ye,be=me;ve=function(){var t,e,i=0;ve.prototype.init.call(this),this.push=function(n){var r;e?(r=new Uint8Array(e.byteLength+n.data.byteLength),r.set(e),r.set(n.data,e.byteLength),e=r):e=n.data;for(var s=e.byteLength;i<s-3;i++)if(1===e[i+2]){t=i+5;break}while(t<s)switch(e[t]){case 0:if(0!==e[t-1]){t+=2;break}if(0!==e[t-2]){t++;break}i+3!==t-2&&this.trigger("data",e.subarray(i+3,t-2));do{t++}while(1!==e[t]&&t<s);i=t-2,t+=3;break;case 1:if(0!==e[t-1]||0!==e[t-2]){t+=3;break}this.trigger("data",e.subarray(i+3,t-2)),i=t-2,t+=3;break;default:t+=3;break}e=e.subarray(i),t-=i,i=0},this.reset=function(){e=null,i=0,this.trigger("reset")},this.flush=function(){e&&e.byteLength>3&&this.trigger("data",e.subarray(i+3)),e=null,i=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},ve.prototype=new B,ye={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},_e=function(){var t,e,i,n,r,s,a,o=new ve;_e.prototype.init.call(this),t=this,this.push=function(t){"video"===t.type&&(e=t.trackId,i=t.pts,n=t.dts,o.push(t))},o.on("data",(function(a){var o={trackId:e,pts:i,dts:n,data:a};switch(31&a[0]){case 5:o.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:o.nalUnitType="sei_rbsp",o.escapedRBSP=r(a.subarray(1));break;case 7:o.nalUnitType="seq_parameter_set_rbsp",o.escapedRBSP=r(a.subarray(1)),o.config=s(o.escapedRBSP);break;case 8:o.nalUnitType="pic_parameter_set_rbsp";break;case 9:o.nalUnitType="access_unit_delimiter_rbsp";break}t.trigger("data",o)})),o.on("done",(function(){t.trigger("done")})),o.on("partialdone",(function(){t.trigger("partialdone")})),o.on("reset",(function(){t.trigger("reset")})),o.on("endedtimeline",(function(){t.trigger("endedtimeline")})),this.flush=function(){o.flush()},this.partialFlush=function(){o.partialFlush()},this.reset=function(){o.reset()},this.endTimeline=function(){o.endTimeline()},a=function(t,e){var i,n,r=8,s=8;for(i=0;i<t;i++)0!==s&&(n=e.readExpGolomb(),s=(r+n+256)%256),r=0===s?r:s},r=function(t){var e,i,n=t.byteLength,r=[],s=1;while(s<n-2)0===t[s]&&0===t[s+1]&&3===t[s+2]?(r.push(s+2),s+=2):s++;if(0===r.length)return t;e=n-r.length,i=new Uint8Array(e);var a=0;for(s=0;s<e;a++,s++)a===r[0]&&(a++,r.shift()),i[s]=t[a];return i},s=function(t){var e,i,n,r,s,o,l,u,h,c,d,p,f,m,g=0,_=0,v=0,y=0,b=1;if(e=new be(t),i=e.readUnsignedByte(),r=e.readUnsignedByte(),n=e.readUnsignedByte(),e.skipUnsignedExpGolomb(),ye[i]&&(s=e.readUnsignedExpGolomb(),3===s&&e.skipBits(1),e.skipUnsignedExpGolomb(),e.skipUnsignedExpGolomb(),e.skipBits(1),e.readBoolean()))for(d=3!==s?8:12,m=0;m<d;m++)e.readBoolean()&&a(m<6?16:64,e);if(e.skipUnsignedExpGolomb(),o=e.readUnsignedExpGolomb(),0===o)e.readUnsignedExpGolomb();else if(1===o)for(e.skipBits(1),e.skipExpGolomb(),e.skipExpGolomb(),l=e.readUnsignedExpGolomb(),m=0;m<l;m++)e.skipExpGolomb();if(e.skipUnsignedExpGolomb(),e.skipBits(1),u=e.readUnsignedExpGolomb(),h=e.readUnsignedExpGolomb(),c=e.readBits(1),0===c&&e.skipBits(1),e.skipBits(1),e.readBoolean()&&(g=e.readUnsignedExpGolomb(),_=e.readUnsignedExpGolomb(),v=e.readUnsignedExpGolomb(),y=e.readUnsignedExpGolomb()),e.readBoolean()&&e.readBoolean()){switch(f=e.readUnsignedByte(),f){case 1:p=[1,1];break;case 2:p=[12,11];break;case 3:p=[10,11];break;case 4:p=[16,11];break;case 5:p=[40,33];break;case 6:p=[24,11];break;case 7:p=[20,11];break;case 8:p=[32,11];break;case 9:p=[80,33];break;case 10:p=[18,11];break;case 11:p=[15,11];break;case 12:p=[64,33];break;case 13:p=[160,99];break;case 14:p=[4,3];break;case 15:p=[3,2];break;case 16:p=[2,1];break;case 255:p=[e.readUnsignedByte()<<8|e.readUnsignedByte(),e.readUnsignedByte()<<8|e.readUnsignedByte()];break}p&&(b=p[0]/p[1])}return{profileIdc:i,levelIdc:n,profileCompatibility:r,width:Math.ceil((16*(u+1)-2*g-2*_)*b),height:(2-c)*(h+1)*16-2*v-2*y,sarRatio:p}}},_e.prototype=new B;var Te,we={H264Stream:_e,NalByteStream:ve},Se=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Ee=function(t,e){var i=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9],n=t[e+5],r=(16&n)>>4;return i=i>=0?i:0,r?i+20:i+10},Ce=function t(e,i){return e.length-i<10||e[i]!=="I".charCodeAt(0)||e[i+1]!=="D".charCodeAt(0)||e[i+2]!=="3".charCodeAt(0)?i:(i+=Ee(e,i),t(e,i))},ke=function(t){var e=Ce(t,0);return t.length>=e+2&&255===(255&t[e])&&240===(240&t[e+1])&&16===(22&t[e+1])},xe=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},Me=function(t,e,i){var n,r="";for(n=e;n<i;n++)r+="%"+("00"+t[n].toString(16)).slice(-2);return r},Ae=function(t,e,i){return unescape(Me(t,e,i))},Ie=function(t,e){var i=(224&t[e+5])>>5,n=t[e+4]<<3,r=6144&t[e+3];return r|n|i},Oe=function(t,e){return t[e]==="I".charCodeAt(0)&&t[e+1]==="D".charCodeAt(0)&&t[e+2]==="3".charCodeAt(0)?"timed-metadata":!0&t[e]&&240===(240&t[e+1])?"audio":null},Pe=function(t){var e=0;while(e+5<t.length){if(255===t[e]&&240===(246&t[e+1]))return Se[(60&t[e+2])>>>2];e++}return null},Le=function(t){var e,i,n,r;e=10,64&t[5]&&(e+=4,e+=xe(t.subarray(10,14)));do{if(i=xe(t.subarray(e+4,e+8)),i<1)return null;if(r=String.fromCharCode(t[e],t[e+1],t[e+2],t[e+3]),"PRIV"===r){n=t.subarray(e+10,e+i+10);for(var s=0;s<n.byteLength;s++)if(0===n[s]){var a=Ae(n,0,s);if("com.apple.streaming.transportStreamTimestamp"===a){var o=n.subarray(s+1),l=(1&o[3])<<30|o[4]<<22|o[5]<<14|o[6]<<6|o[7]>>>2;return l*=4,l+=3&o[7],l}break}}e+=10,e+=i}while(e<t.byteLength);return null},Re={isLikelyAacData:ke,parseId3TagSize:Ee,parseAdtsSize:Ie,parseType:Oe,parseSampleRate:Pe,parseAacTimestamp:Le};Te=function(){var t=new Uint8Array,e=0;Te.prototype.init.call(this),this.setTimestamp=function(t){e=t},this.push=function(i){var n,r,s,a,o=0,l=0;t.length?(a=t.length,t=new Uint8Array(i.byteLength+a),t.set(t.subarray(0,a)),t.set(i,a)):t=i;while(t.length-l>=3)if(t[l]!=="I".charCodeAt(0)||t[l+1]!=="D".charCodeAt(0)||t[l+2]!=="3".charCodeAt(0))if(255!==(255&t[l])||240!==(240&t[l+1]))l++;else{if(t.length-l<7)break;if(o=Re.parseAdtsSize(t,l),l+o>t.length)break;s={type:"audio",data:t.subarray(l,l+o),pts:e,dts:e},this.trigger("data",s),l+=o}else{if(t.length-l<10)break;if(o=Re.parseId3TagSize(t,l),l+o>t.length)break;r={type:"timed-metadata",data:t.subarray(l,l+o)},this.trigger("data",r),l+=o}n=t.length-l,t=n>0?t.subarray(l):new Uint8Array},this.reset=function(){t=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){t=new Uint8Array,this.trigger("endedtimeline")}},Te.prototype=new B;var De,Ne,Be,je,Ue=Te,Fe=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],ze=Fe,Ve=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],He=Ve,qe=we.H264Stream,Ge=Re.isLikelyAacData,We=ht.ONE_SECOND_IN_TS,$e=function(t,e){var i;if(t.length!==e.length)return!1;for(i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0},Ke=function(t,e,i,n,r,s){var a=i-e,o=n-e,l=r-i;return{start:{dts:t,pts:t+a},end:{dts:t+o,pts:t+l},prependedContentDuration:s,baseMediaDecodeTime:t}};Ne=function(t,e){var i=[],n=0,r=0,s=0,a=1/0;e=e||{},Ne.prototype.init.call(this),this.push=function(e){Tt.collectDtsInfo(t,e),t&&ze.forEach((function(i){t[i]=e[i]})),i.push(e)},this.setEarliestDts=function(t){r=t},this.setVideoBaseMediaDecodeTime=function(t){a=t},this.setAudioAppendStart=function(t){s=t},this.flush=function(){var o,l,u,h,c,d,p;0!==i.length?(o=gt.trimAdtsFramesByEarliestDts(i,t,r),t.baseMediaDecodeTime=Tt.calculateTrackBaseMediaDecodeTime(t,e.keepOriginalTimestamps),p=gt.prefixWithSilence(t,o,s,a),t.samples=gt.generateSampleTable(o),u=$.mdat(gt.concatenateFrameData(o)),i=[],l=$.moof(n,[t]),h=new Uint8Array(l.byteLength+u.byteLength),n++,h.set(l),h.set(u,l.byteLength),Tt.clearDtsInfo(t),c=Math.ceil(1024*We/t.samplerate),o.length&&(d=o.length*c,this.trigger("segmentTimingInfo",Ke(ht.audioTsToVideoTs(t.baseMediaDecodeTime,t.samplerate),o[0].dts,o[0].pts,o[0].dts+d,o[0].pts+d,p||0)),this.trigger("timingInfo",{start:o[0].pts,end:o[0].pts+d})),this.trigger("data",{track:t,boxes:h}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){Tt.clearDtsInfo(t),i=[],this.trigger("reset")}},Ne.prototype=new B,De=function(t,e){var i,n,r=0,s=[],a=[];e=e||{},De.prototype.init.call(this),delete t.minPTS,this.gopCache_=[],this.push=function(e){Tt.collectDtsInfo(t,e),"seq_parameter_set_rbsp"!==e.nalUnitType||i||(i=e.config,t.sps=[e.data],He.forEach((function(e){t[e]=i[e]}),this)),"pic_parameter_set_rbsp"!==e.nalUnitType||n||(n=e.data,t.pps=[e.data]),s.push(e)},this.flush=function(){var i,n,o,l,u,h,c,d,p=0;while(s.length){if("access_unit_delimiter_rbsp"===s[0].nalUnitType)break;s.shift()}if(0===s.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(i=nt.groupNalsIntoFrames(s),o=nt.groupFramesIntoGops(i),o[0][0].keyFrame||(n=this.getGopForFusion_(s[0],t),n?(p=n.duration,o.unshift(n),o.byteLength+=n.byteLength,o.nalCount+=n.nalCount,o.pts=n.pts,o.dts=n.dts,o.duration+=n.duration):o=nt.extendFirstKeyFrame(o)),a.length){var f;if(f=e.alignGopsAtEnd?this.alignGopsAtEnd_(o):this.alignGopsAtStart_(o),!f)return this.gopCache_.unshift({gop:o.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),s=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");Tt.clearDtsInfo(t),o=f}Tt.collectDtsInfo(t,o),t.samples=nt.generateSampleTable(o),u=$.mdat(nt.concatenateNalData(o)),t.baseMediaDecodeTime=Tt.calculateTrackBaseMediaDecodeTime(t,e.keepOriginalTimestamps),this.trigger("processedGopsInfo",o.map((function(t){return{pts:t.pts,dts:t.dts,byteLength:t.byteLength}}))),c=o[0],d=o[o.length-1],this.trigger("segmentTimingInfo",Ke(t.baseMediaDecodeTime,c.dts,c.pts,d.dts+d.duration,d.pts+d.duration,p)),this.trigger("timingInfo",{start:o[0].pts,end:o[o.length-1].pts+o[o.length-1].duration}),this.gopCache_.unshift({gop:o.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),s=[],this.trigger("baseMediaDecodeTime",t.baseMediaDecodeTime),this.trigger("timelineStartInfo",t.timelineStartInfo),l=$.moof(r,[t]),h=new Uint8Array(l.byteLength+u.byteLength),r++,h.set(l),h.set(u,l.byteLength),this.trigger("data",{track:t,boxes:h}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),s=[],this.gopCache_.length=0,a.length=0,this.trigger("reset")},this.resetStream_=function(){Tt.clearDtsInfo(t),i=void 0,n=void 0},this.getGopForFusion_=function(e){var i,n,r,s,a,o=45e3,l=1e4,u=1/0;for(a=0;a<this.gopCache_.length;a++)s=this.gopCache_[a],r=s.gop,t.pps&&$e(t.pps[0],s.pps[0])&&t.sps&&$e(t.sps[0],s.sps[0])&&(r.dts<t.timelineStartInfo.dts||(i=e.dts-r.dts-r.duration,i>=-l&&i<=o&&(!n||u>i)&&(n=s,u=i)));return n?n.gop:null},this.alignGopsAtStart_=function(t){var e,i,n,r,s,o,l,u;s=t.byteLength,o=t.nalCount,l=t.duration,e=i=0;while(e<a.length&&i<t.length){if(n=a[e],r=t[i],n.pts===r.pts)break;r.pts>n.pts?e++:(i++,s-=r.byteLength,o-=r.nalCount,l-=r.duration)}return 0===i?t:i===t.length?null:(u=t.slice(i),u.byteLength=s,u.duration=l,u.nalCount=o,u.pts=u[0].pts,u.dts=u[0].dts,u)},this.alignGopsAtEnd_=function(t){var e,i,n,r,s,o,l;e=a.length-1,i=t.length-1,s=null,o=!1;while(e>=0&&i>=0){if(n=a[e],r=t[i],n.pts===r.pts){o=!0;break}n.pts>r.pts?e--:(e===a.length-1&&(s=i),i--)}if(!o&&null===s)return null;if(l=o?i:s,0===l)return t;var u=t.slice(l),h=u.reduce((function(t,e){return t.byteLength+=e.byteLength,t.duration+=e.duration,t.nalCount+=e.nalCount,t}),{byteLength:0,duration:0,nalCount:0});return u.byteLength=h.byteLength,u.duration=h.duration,u.nalCount=h.nalCount,u.pts=u[0].pts,u.dts=u[0].dts,u},this.alignGopsWith=function(t){a=t}},De.prototype=new B,je=function(t,e){this.numberOfTracks=0,this.metadataStream=e,t=t||{},"undefined"!==typeof t.remux?this.remuxTracks=!!t.remux:this.remuxTracks=!0,"boolean"===typeof t.keepOriginalTimestamps?this.keepOriginalTimestamps=t.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,je.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):(this.pendingTracks.push(t.track),this.pendingBytes+=t.boxes.byteLength,"video"===t.track.type&&(this.videoTrack=t.track,this.pendingBoxes.push(t.boxes)),void("audio"===t.track.type&&(this.audioTrack=t.track,this.pendingBoxes.unshift(t.boxes))))}},je.prototype=new B,je.prototype.flush=function(t){var e,i,n,r,s=0,a={captions:[],captionStreams:{},metadata:[],info:{}},o=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(o=this.videoTrack.timelineStartInfo.pts,He.forEach((function(t){a.info[t]=this.videoTrack[t]}),this)):this.audioTrack&&(o=this.audioTrack.timelineStartInfo.pts,ze.forEach((function(t){a.info[t]=this.audioTrack[t]}),this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,n=$.initSegment(this.pendingTracks),a.initSegment=new Uint8Array(n.byteLength),a.initSegment.set(n),a.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)a.data.set(this.pendingBoxes[r],s),s+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)e=this.pendingCaptions[r],e.startTime=ht.metadataTsToSeconds(e.startPts,o,this.keepOriginalTimestamps),e.endTime=ht.metadataTsToSeconds(e.endPts,o,this.keepOriginalTimestamps),a.captionStreams[e.stream]=!0,a.captions.push(e);for(r=0;r<this.pendingMetadata.length;r++)i=this.pendingMetadata[r],i.cueTime=ht.metadataTsToSeconds(i.pts,o,this.keepOriginalTimestamps),a.metadata.push(i);for(a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),r=0;r<a.captions.length;r++)e=a.captions[r],this.trigger("caption",e);for(r=0;r<a.metadata.length;r++)i=a.metadata[r],this.trigger("id3Frame",i)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},je.prototype.setRemux=function(t){this.remuxTracks=t},Be=function(t){var e,i,n=this,r=!0;Be.prototype.init.call(this),t=t||{},this.baseMediaDecodeTime=t.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="aac",r.metadataStream=new de.MetadataStream,r.aacStream=new Ue,r.audioTimestampRolloverStream=new de.TimestampRolloverStream("audio"),r.timedMetadataTimestampRolloverStream=new de.TimestampRolloverStream("timed-metadata"),r.adtsStream=new ge,r.coalesceStream=new je(t,r.metadataStream),r.headOfPipeline=r.aacStream,r.aacStream.pipe(r.audioTimestampRolloverStream).pipe(r.adtsStream),r.aacStream.pipe(r.timedMetadataTimestampRolloverStream).pipe(r.metadataStream).pipe(r.coalesceStream),r.metadataStream.on("timestamp",(function(t){r.aacStream.setTimestamp(t.timeStamp)})),r.aacStream.on("data",(function(s){"timed-metadata"!==s.type&&"audio"!==s.type||r.audioSegmentStream||(i=i||{timelineStartInfo:{baseMediaDecodeTime:n.baseMediaDecodeTime},codec:"adts",type:"audio"},r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new Ne(i,t),r.audioSegmentStream.on("timingInfo",n.trigger.bind(n,"audioTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream),n.trigger("trackinfo",{hasAudio:!!i,hasVideo:!!e}))})),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="ts",r.metadataStream=new de.MetadataStream,r.packetStream=new de.TransportPacketStream,r.parseStream=new de.TransportParseStream,r.elementaryStream=new de.ElementaryStream,r.timestampRolloverStream=new de.TimestampRolloverStream,r.adtsStream=new ge,r.h264Stream=new qe,r.captionStream=new de.CaptionStream(t),r.coalesceStream=new je(t,r.metadataStream),r.headOfPipeline=r.packetStream,r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream).pipe(r.timestampRolloverStream),r.timestampRolloverStream.pipe(r.h264Stream),r.timestampRolloverStream.pipe(r.adtsStream),r.timestampRolloverStream.pipe(r.metadataStream).pipe(r.coalesceStream),r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream),r.elementaryStream.on("data",(function(s){var a;if("metadata"===s.type){a=s.tracks.length;while(a--)e||"video"!==s.tracks[a].type?i||"audio"!==s.tracks[a].type||(i=s.tracks[a],i.timelineStartInfo.baseMediaDecodeTime=n.baseMediaDecodeTime):(e=s.tracks[a],e.timelineStartInfo.baseMediaDecodeTime=n.baseMediaDecodeTime);e&&!r.videoSegmentStream&&(r.coalesceStream.numberOfTracks++,r.videoSegmentStream=new De(e,t),r.videoSegmentStream.on("timelineStartInfo",(function(e){i&&!t.keepOriginalTimestamps&&(i.timelineStartInfo=e,r.audioSegmentStream.setEarliestDts(e.dts-n.baseMediaDecodeTime))})),r.videoSegmentStream.on("processedGopsInfo",n.trigger.bind(n,"gopInfo")),r.videoSegmentStream.on("segmentTimingInfo",n.trigger.bind(n,"videoSegmentTimingInfo")),r.videoSegmentStream.on("baseMediaDecodeTime",(function(t){i&&r.audioSegmentStream.setVideoBaseMediaDecodeTime(t)})),r.videoSegmentStream.on("timingInfo",n.trigger.bind(n,"videoTimingInfo")),r.h264Stream.pipe(r.videoSegmentStream).pipe(r.coalesceStream)),i&&!r.audioSegmentStream&&(r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new Ne(i,t),r.audioSegmentStream.on("timingInfo",n.trigger.bind(n,"audioTimingInfo")),r.audioSegmentStream.on("segmentTimingInfo",n.trigger.bind(n,"audioSegmentTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream)),n.trigger("trackinfo",{hasAudio:!!i,hasVideo:!!e})}})),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("id3Frame",(function(t){t.dispatchType=r.metadataStream.dispatchType,n.trigger("id3Frame",t)})),r.coalesceStream.on("caption",this.trigger.bind(this,"caption")),r.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(n){var r=this.transmuxPipeline_;t.keepOriginalTimestamps||(this.baseMediaDecodeTime=n),i&&(i.timelineStartInfo.dts=void 0,i.timelineStartInfo.pts=void 0,Tt.clearDtsInfo(i),r.audioTimestampRolloverStream&&r.audioTimestampRolloverStream.discontinuity()),e&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[]),e.timelineStartInfo.dts=void 0,e.timelineStartInfo.pts=void 0,Tt.clearDtsInfo(e),r.captionStream.reset()),r.timestampRolloverStream&&r.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(t){i&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(t)},this.setRemux=function(e){var i=this.transmuxPipeline_;t.remux=e,i&&i.coalesceStream&&i.coalesceStream.setRemux(e)},this.alignGopsWith=function(t){e&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(t)},this.push=function(t){if(r){var e=Ge(t);e&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():e||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),r=!1}this.transmuxPipeline_.headOfPipeline.push(t)},this.flush=function(){r=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Be.prototype=new B;var Ze,Xe,Ye,Qe,Je,ti,ei={Transmuxer:Be,VideoSegmentStream:De,AudioSegmentStream:Ne,AUDIO_PROPERTIES:ze,VIDEO_PROPERTIES:He,generateSegmentTimingInfo:Ke},ii=function(t){return t>>>0},ni=function(t){return("00"+t.toString(16)).slice(-2)},ri={toUnsigned:ii,toHexString:ni},si=function(t){var e="";return e+=String.fromCharCode(t[0]),e+=String.fromCharCode(t[1]),e+=String.fromCharCode(t[2]),e+=String.fromCharCode(t[3]),e},ai=si,oi=ri.toUnsigned,li=function t(e,i){var n,r,s,a,o,l=[];if(!i.length)return null;for(n=0;n<e.byteLength;)r=oi(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]),s=ai(e.subarray(n+4,n+8)),a=r>1?n+r:e.byteLength,s===i[0]&&(1===i.length?l.push(e.subarray(n+8,a)):(o=t(e.subarray(n+8,a),i.slice(1)),o.length&&(l=l.concat(o)))),n=a;return l},ui=li,hi=ri.toUnsigned,ci=function(t){var e={version:t[0],flags:new Uint8Array(t.subarray(1,4)),baseMediaDecodeTime:hi(t[4]<<24|t[5]<<16|t[6]<<8|t[7])};return 1===e.version&&(e.baseMediaDecodeTime*=Math.pow(2,32),e.baseMediaDecodeTime+=hi(t[8]<<24|t[9]<<16|t[10]<<8|t[11])),e},di=ci,pi=function(t){return{isLeading:(12&t[0])>>>2,dependsOn:3&t[0],isDependedOn:(192&t[1])>>>6,hasRedundancy:(48&t[1])>>>4,paddingValue:(14&t[1])>>>1,isNonSyncSample:1&t[1],degradationPriority:t[2]<<8|t[3]}},fi=pi,mi=function(t){var e,i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]},n=new DataView(t.buffer,t.byteOffset,t.byteLength),r=1&i.flags[2],s=4&i.flags[2],a=1&i.flags[1],o=2&i.flags[1],l=4&i.flags[1],u=8&i.flags[1],h=n.getUint32(4),c=8;r&&(i.dataOffset=n.getInt32(c),c+=4),s&&h&&(e={flags:fi(t.subarray(c,c+4))},c+=4,a&&(e.duration=n.getUint32(c),c+=4),o&&(e.size=n.getUint32(c),c+=4),u&&(1===i.version?e.compositionTimeOffset=n.getInt32(c):e.compositionTimeOffset=n.getUint32(c),c+=4),i.samples.push(e),h--);while(h--)e={},a&&(e.duration=n.getUint32(c),c+=4),o&&(e.size=n.getUint32(c),c+=4),l&&(e.flags=fi(t.subarray(c,c+4)),c+=4),u&&(1===i.version?e.compositionTimeOffset=n.getInt32(c):e.compositionTimeOffset=n.getUint32(c),c+=4),i.samples.push(e);return i},gi=mi,_i=function(t){var e,i=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:i.getUint32(4)},r=1&n.flags[2],s=2&n.flags[2],a=8&n.flags[2],o=16&n.flags[2],l=32&n.flags[2],u=65536&n.flags[0],h=131072&n.flags[0];return e=8,r&&(e+=4,n.baseDataOffset=i.getUint32(12),e+=4),s&&(n.sampleDescriptionIndex=i.getUint32(e),e+=4),a&&(n.defaultSampleDuration=i.getUint32(e),e+=4),o&&(n.defaultSampleSize=i.getUint32(e),e+=4),l&&(n.defaultSampleFlags=i.getUint32(e)),u&&(n.durationIsEmpty=!0),!r&&h&&(n.baseDataOffsetIsMoof=!0),n},vi=_i,yi=Mt.discardEmulationPreventionBytes,bi=Vt.CaptionStream,Ti=function(t,e){for(var i=t,n=0;n<e.length;n++){var r=e[n];if(i<r.size)return r;i-=r.size}return null},wi=function(t,e,i){var n,r,s,a,o=new DataView(t.buffer,t.byteOffset,t.byteLength),l=[];for(r=0;r+4<t.length;r+=s)if(s=o.getUint32(r),r+=4,!(s<=0))switch(31&t[r]){case 6:var u=t.subarray(r+1,r+1+s),h=Ti(r,e);if(n={nalUnitType:"sei_rbsp",size:s,data:u,escapedRBSP:yi(u),trackId:i},h)n.pts=h.pts,n.dts=h.dts,a=h;else{if(!a){console.log("We've encountered a nal unit without data. See mux.js#233.");break}n.pts=a.pts,n.dts=a.dts}l.push(n);break}return l},Si=function(t,e,i){var n=e,r=i.defaultSampleDuration||0,s=i.defaultSampleSize||0,a=i.trackId,o=[];return t.forEach((function(t){var e=gi(t),i=e.samples;i.forEach((function(t){void 0===t.duration&&(t.duration=r),void 0===t.size&&(t.size=s),t.trackId=a,t.dts=n,void 0===t.compositionTimeOffset&&(t.compositionTimeOffset=0),t.pts=n+t.compositionTimeOffset,n+=t.duration})),o=o.concat(i)})),o},Ei=function(t,e){var i=ui(t,["moof","traf"]),n=ui(t,["mdat"]),r={},s=[];return n.forEach((function(t,e){var n=i[e];s.push({mdat:t,traf:n})})),s.forEach((function(t){var i,n,s=t.mdat,a=t.traf,o=ui(a,["tfhd"]),l=vi(o[0]),u=l.trackId,h=ui(a,["tfdt"]),c=h.length>0?di(h[0]).baseMediaDecodeTime:0,d=ui(a,["trun"]);e===u&&d.length>0&&(i=Si(d,c,l),n=wi(s,i,u),r[u]||(r[u]=[]),r[u]=r[u].concat(n))})),r},Ci=function(t,e,i){var n;return null===e?null:(n=Ei(t,e),{seiNals:n[e],timescale:i})},ki=function(){var t,e,i,n,r,s,a=!1;this.isInitialized=function(){return a},this.init=function(e){t=new bi,a=!0,s=!!e&&e.isPartial,t.on("data",(function(t){t.startTime=t.startPts/n,t.endTime=t.endPts/n,r.captions.push(t),r.captionStreams[t.stream]=!0}))},this.isNewInit=function(t,e){return!(t&&0===t.length||e&&"object"===typeof e&&0===Object.keys(e).length)&&(i!==t[0]||n!==e[i])},this.parse=function(t,s,a){var o;if(!this.isInitialized())return null;if(!s||!a)return null;if(this.isNewInit(s,a))i=s[0],n=a[i];else if(null===i||!n)return e.push(t),null;while(e.length>0){var l=e.shift();this.parse(l,s,a)}return o=Ci(t,i,n),null!==o&&o.seiNals?(this.pushNals(o.seiNals),this.flushStream(),r):null},this.pushNals=function(e){if(!this.isInitialized()||!e||0===e.length)return null;e.forEach((function(e){t.push(e)}))},this.flushStream=function(){if(!this.isInitialized())return null;s?t.partialFlush():t.flush()},this.clearParsedCaptions=function(){r.captions=[],r.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;t.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){e=[],i=null,n=null,r?this.clearParsedCaptions():r={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()},xi=ki,Mi=ri.toUnsigned,Ai=ri.toHexString;Ze=function(t){var e={},i=ui(t,["moov","trak"]);return i.reduce((function(t,e){var i,n,r,s,a;return i=ui(e,["tkhd"])[0],i?(n=i[0],r=0===n?12:20,s=Mi(i[r]<<24|i[r+1]<<16|i[r+2]<<8|i[r+3]),a=ui(e,["mdia","mdhd"])[0],a?(n=a[0],r=0===n?12:20,t[s]=Mi(a[r]<<24|a[r+1]<<16|a[r+2]<<8|a[r+3]),t):null):null}),e)},Xe=function(t,e){var i,n,r;return i=ui(e,["moof","traf"]),n=[].concat.apply([],i.map((function(e){return ui(e,["tfhd"]).map((function(i){var n,r,s;return n=Mi(i[4]<<24|i[5]<<16|i[6]<<8|i[7]),r=t[n]||9e4,s=ui(e,["tfdt"]).map((function(t){var e,i;return e=t[0],i=Mi(t[4]<<24|t[5]<<16|t[6]<<8|t[7]),1===e&&(i*=Math.pow(2,32),i+=Mi(t[8]<<24|t[9]<<16|t[10]<<8|t[11])),i}))[0],s="number"!==typeof s||isNaN(s)?1/0:s,s/r}))}))),r=Math.min.apply(null,n),isFinite(r)?r:0},Ye=function(t,e){var i,n=ui(e,["moof","traf"]),r=0,s=0;if(n&&n.length){var a=ui(n[0],["tfhd"])[0],o=ui(n[0],["trun"])[0],l=ui(n[0],["tfdt"])[0];if(a){var u=vi(a);i=u.trackId}if(l){var h=di(l);r=h.baseMediaDecodeTime}if(o){var c=gi(o);c.samples&&c.samples.length&&(s=c.samples[0].compositionTimeOffset||0)}}var d=t[i]||9e4;return(r+s)/d},Qe=function(t){var e=ui(t,["moov","trak"]),i=[];return e.forEach((function(t){var e=ui(t,["mdia","hdlr"]),n=ui(t,["tkhd"]);e.forEach((function(t,e){var r,s,a,o=ai(t.subarray(8,12)),l=n[e];"vide"===o&&(r=new DataView(l.buffer,l.byteOffset,l.byteLength),s=r.getUint8(0),a=0===s?r.getUint32(12):r.getUint32(20),i.push(a))}))})),i},ti=function(t){var e=t[0],i=0===e?12:20;return Mi(t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3])},Je=function(t){var e=ui(t,["moov","trak"]),i=[];return e.forEach((function(t){var e,n,r={},s=ui(t,["tkhd"])[0];s&&(e=new DataView(s.buffer,s.byteOffset,s.byteLength),n=e.getUint8(0),r.id=0===n?e.getUint32(12):e.getUint32(20));var a=ui(t,["mdia","hdlr"])[0];if(a){var o=ai(a.subarray(8,12));r.type="vide"===o?"video":"soun"===o?"audio":o}var l=ui(t,["mdia","minf","stbl","stsd"])[0];if(l){var u=l.subarray(8);r.codec=ai(u.subarray(4,8));var h,c,d=ui(u,[r.codec])[0];d&&(/^[a-z]vc[1-9]$/i.test(r.codec)?(h=d.subarray(78),c=ai(h.subarray(4,8)),"avcC"===c&&h.length>11?(r.codec+=".",r.codec+=Ai(h[9]),r.codec+=Ai(h[10]),r.codec+=Ai(h[11])):r.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(r.codec)?(h=d.subarray(28),c=ai(h.subarray(4,8)),"esds"===c&&h.length>20&&0!==h[19]?(r.codec+="."+Ai(h[19]),r.codec+="."+Ai(h[20]>>>2&63).replace(/^0/,"")):r.codec="mp4a.40.2"):r.codec=r.codec.toLowerCase())}var p=ui(t,["mdia","mdhd"])[0];p&&(r.timescale=ti(p)),i.push(r)})),i};var Ii={findBox:ui,parseType:ai,timescale:Ze,startTime:Xe,compositionStartTime:Ye,videoTrackIds:Qe,tracks:Je,getTimescaleFromMediaHeader:ti},Oi=function(t){var e=31&t[1];return e<<=8,e|=t[2],e},Pi=function(t){return!!(64&t[1])},Li=function(t){var e=0;return(48&t[3])>>>4>1&&(e+=t[4]+1),e},Ri=function(t,e){var i=Oi(t);return 0===i?"pat":i===e?"pmt":e?"pes":null},Di=function(t){var e=Pi(t),i=4+Li(t);return e&&(i+=t[i]+1),(31&t[i+10])<<8|t[i+11]},Ni=function(t){var e={},i=Pi(t),n=4+Li(t);if(i&&(n+=t[n]+1),1&t[n+5]){var r,s,a;r=(15&t[n+1])<<8|t[n+2],s=3+r-4,a=(15&t[n+10])<<8|t[n+11];var o=12+a;while(o<s){var l=n+o;e[(31&t[l+1])<<8|t[l+2]]=t[l],o+=5+((15&t[l+3])<<8|t[l+4])}return e}},Bi=function(t,e){var i=Oi(t),n=e[i];switch(n){case Ht.H264_STREAM_TYPE:return"video";case Ht.ADTS_STREAM_TYPE:return"audio";case Ht.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},ji=function(t){var e=Pi(t);if(!e)return null;var i=4+Li(t);if(i>=t.byteLength)return null;var n,r=null;return n=t[i+7],192&n&&(r={},r.pts=(14&t[i+9])<<27|(255&t[i+10])<<20|(254&t[i+11])<<12|(255&t[i+12])<<5|(254&t[i+13])>>>3,r.pts*=4,r.pts+=(6&t[i+13])>>>1,r.dts=r.pts,64&n&&(r.dts=(14&t[i+14])<<27|(255&t[i+15])<<20|(254&t[i+16])<<12|(255&t[i+17])<<5|(254&t[i+18])>>>3,r.dts*=4,r.dts+=(6&t[i+18])>>>1)),r},Ui=function(t){switch(t){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Fi=function(t){for(var e,i=4+Li(t),n=t.subarray(i),r=0,s=0,a=!1;s<n.byteLength-3;s++)if(1===n[s+2]){r=s+5;break}while(r<n.byteLength)switch(n[r]){case 0:if(0!==n[r-1]){r+=2;break}if(0!==n[r-2]){r++;break}s+3!==r-2&&(e=Ui(31&n[s+3]),"slice_layer_without_partitioning_rbsp_idr"===e&&(a=!0));do{r++}while(1!==n[r]&&r<n.length);s=r-2,r+=3;break;case 1:if(0!==n[r-1]||0!==n[r-2]){r+=3;break}e=Ui(31&n[s+3]),"slice_layer_without_partitioning_rbsp_idr"===e&&(a=!0),s=r-2,r+=3;break;default:r+=3;break}return n=n.subarray(s),r-=s,s=0,n&&n.byteLength>3&&(e=Ui(31&n[s+3]),"slice_layer_without_partitioning_rbsp_idr"===e&&(a=!0)),a},zi={parseType:Ri,parsePat:Di,parsePmt:Ni,parsePayloadUnitStartIndicator:Pi,parsePesType:Bi,parsePesTime:ji,videoPacketContainsKeyFrame:Fi},Vi=Xt.handleRollover,Hi={};Hi.ts=zi,Hi.aac=Re;var qi=ht.ONE_SECOND_IN_TS,Gi=188,Wi=71,$i=function(t,e){var i,n,r=0,s=Gi;while(s<t.byteLength)if(t[r]!==Wi||t[s]!==Wi)r++,s++;else{switch(i=t.subarray(r,s),n=Hi.ts.parseType(i,e.pid),n){case"pat":e.pid||(e.pid=Hi.ts.parsePat(i));break;case"pmt":e.table||(e.table=Hi.ts.parsePmt(i));break}if(e.pid&&e.table)return;r+=Gi,s+=Gi}},Ki=function(t,e,i){var n,r,s,a,o,l=0,u=Gi,h=!1;while(u<=t.byteLength)if(t[l]!==Wi||t[u]!==Wi&&u!==t.byteLength)l++,u++;else{switch(n=t.subarray(l,u),r=Hi.ts.parseType(n,e.pid),r){case"pes":s=Hi.ts.parsePesType(n,e.table),a=Hi.ts.parsePayloadUnitStartIndicator(n),"audio"===s&&a&&(o=Hi.ts.parsePesTime(n),o&&(o.type="audio",i.audio.push(o),h=!0));break}if(h)break;l+=Gi,u+=Gi}u=t.byteLength,l=u-Gi,h=!1;while(l>=0)if(t[l]!==Wi||t[u]!==Wi&&u!==t.byteLength)l--,u--;else{switch(n=t.subarray(l,u),r=Hi.ts.parseType(n,e.pid),r){case"pes":s=Hi.ts.parsePesType(n,e.table),a=Hi.ts.parsePayloadUnitStartIndicator(n),"audio"===s&&a&&(o=Hi.ts.parsePesTime(n),o&&(o.type="audio",i.audio.push(o),h=!0));break}if(h)break;l-=Gi,u-=Gi}},Zi=function(t,e,i){var n,r,s,a,o,l,u,h,c=0,d=Gi,p=!1,f={data:[],size:0};while(d<t.byteLength)if(t[c]!==Wi||t[d]!==Wi)c++,d++;else{switch(n=t.subarray(c,d),r=Hi.ts.parseType(n,e.pid),r){case"pes":if(s=Hi.ts.parsePesType(n,e.table),a=Hi.ts.parsePayloadUnitStartIndicator(n),"video"===s&&(a&&!p&&(o=Hi.ts.parsePesTime(n),o&&(o.type="video",i.video.push(o),p=!0)),!i.firstKeyFrame)){if(a&&0!==f.size){l=new Uint8Array(f.size),u=0;while(f.data.length)h=f.data.shift(),l.set(h,u),u+=h.byteLength;if(Hi.ts.videoPacketContainsKeyFrame(l)){var m=Hi.ts.parsePesTime(l);m?(i.firstKeyFrame=m,i.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}f.size=0}f.data.push(n),f.size+=n.byteLength}break}if(p&&i.firstKeyFrame)break;c+=Gi,d+=Gi}d=t.byteLength,c=d-Gi,p=!1;while(c>=0)if(t[c]!==Wi||t[d]!==Wi)c--,d--;else{switch(n=t.subarray(c,d),r=Hi.ts.parseType(n,e.pid),r){case"pes":s=Hi.ts.parsePesType(n,e.table),a=Hi.ts.parsePayloadUnitStartIndicator(n),"video"===s&&a&&(o=Hi.ts.parsePesTime(n),o&&(o.type="video",i.video.push(o),p=!0));break}if(p)break;c-=Gi,d-=Gi}},Xi=function(t,e){if(t.audio&&t.audio.length){var i=e;("undefined"===typeof i||isNaN(i))&&(i=t.audio[0].dts),t.audio.forEach((function(t){t.dts=Vi(t.dts,i),t.pts=Vi(t.pts,i),t.dtsTime=t.dts/qi,t.ptsTime=t.pts/qi}))}if(t.video&&t.video.length){var n=e;if(("undefined"===typeof n||isNaN(n))&&(n=t.video[0].dts),t.video.forEach((function(t){t.dts=Vi(t.dts,n),t.pts=Vi(t.pts,n),t.dtsTime=t.dts/qi,t.ptsTime=t.pts/qi})),t.firstKeyFrame){var r=t.firstKeyFrame;r.dts=Vi(r.dts,n),r.pts=Vi(r.pts,n),r.dtsTime=r.dts/qi,r.ptsTime=r.pts/qi}}},Yi=function(t){var e,i=!1,n=0,r=null,s=null,a=0,o=0;while(t.length-o>=3){var l=Hi.aac.parseType(t,o);switch(l){case"timed-metadata":if(t.length-o<10){i=!0;break}if(a=Hi.aac.parseId3TagSize(t,o),a>t.length){i=!0;break}null===s&&(e=t.subarray(o,o+a),s=Hi.aac.parseAacTimestamp(e)),o+=a;break;case"audio":if(t.length-o<7){i=!0;break}if(a=Hi.aac.parseAdtsSize(t,o),a>t.length){i=!0;break}null===r&&(e=t.subarray(o,o+a),r=Hi.aac.parseSampleRate(e)),n++,o+=a;break;default:o++;break}if(i)return null}if(null===r||null===s)return null;var u=qi/r,h={audio:[{type:"audio",dts:s,pts:s},{type:"audio",dts:s+1024*n*u,pts:s+1024*n*u}]};return h},Qi=function(t){var e={pid:null,table:null},i={};for(var n in $i(t,e),e.table)if(e.table.hasOwnProperty(n)){var r=e.table[n];switch(r){case Ht.H264_STREAM_TYPE:i.video=[],Zi(t,e,i),0===i.video.length&&delete i.video;break;case Ht.ADTS_STREAM_TYPE:i.audio=[],Ki(t,e,i),0===i.audio.length&&delete i.audio;break}}return i},Ji=function(t,e){var i,n=Hi.aac.isLikelyAacData(t);return i=n?Yi(t):Qi(t),i&&(i.audio||i.video)?(Xi(i,e),i):null},tn={inspect:Ji,parseAudioPes_:Ki},en=function(t,e){e.on("data",(function(e){var i=e.initSegment;e.initSegment={data:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength};var n=e.data;e.data=n.buffer,t.postMessage({action:"data",segment:e,byteOffset:n.byteOffset,byteLength:n.byteLength},[e.data])})),e.on("done",(function(e){t.postMessage({action:"done"})})),e.on("gopInfo",(function(e){t.postMessage({action:"gopInfo",gopInfo:e})})),e.on("videoSegmentTimingInfo",(function(e){var i={start:{decode:ht.videoTsToSeconds(e.start.dts),presentation:ht.videoTsToSeconds(e.start.pts)},end:{decode:ht.videoTsToSeconds(e.end.dts),presentation:ht.videoTsToSeconds(e.end.pts)},baseMediaDecodeTime:ht.videoTsToSeconds(e.baseMediaDecodeTime)};e.prependedContentDuration&&(i.prependedContentDuration=ht.videoTsToSeconds(e.prependedContentDuration)),t.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:i})})),e.on("audioSegmentTimingInfo",(function(e){var i={start:{decode:ht.videoTsToSeconds(e.start.dts),presentation:ht.videoTsToSeconds(e.start.pts)},end:{decode:ht.videoTsToSeconds(e.end.dts),presentation:ht.videoTsToSeconds(e.end.pts)},baseMediaDecodeTime:ht.videoTsToSeconds(e.baseMediaDecodeTime)};e.prependedContentDuration&&(i.prependedContentDuration=ht.videoTsToSeconds(e.prependedContentDuration)),t.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:i})})),e.on("id3Frame",(function(e){t.postMessage({action:"id3Frame",id3Frame:e})})),e.on("caption",(function(e){t.postMessage({action:"caption",caption:e})})),e.on("trackinfo",(function(e){t.postMessage({action:"trackinfo",trackInfo:e})})),e.on("audioTimingInfo",(function(e){t.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:ht.videoTsToSeconds(e.start),end:ht.videoTsToSeconds(e.end)}})})),e.on("videoTimingInfo",(function(e){t.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:ht.videoTsToSeconds(e.start),end:ht.videoTsToSeconds(e.end)}})}))},nn=function(){function t(t,e){this.options=e||{},this.self=t,this.init()}var e=t.prototype;return e.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new ei.Transmuxer(this.options),en(this.self,this.transmuxer)},e.pushMp4Captions=function(t){this.captionParser||(this.captionParser=new xi,this.captionParser.init());var e=new Uint8Array(t.data,t.byteOffset,t.byteLength),i=this.captionParser.parse(e,t.trackIds,t.timescales);this.self.postMessage({action:"mp4Captions",captions:i&&i.captions||[],data:e.buffer},[e.buffer])},e.probeMp4StartTime=function(t){var e=t.timescales,i=t.data,n=Ii.startTime(e,i);this.self.postMessage({action:"probeMp4StartTime",startTime:n,data:i},[i.buffer])},e.probeMp4Tracks=function(t){var e=t.data,i=Ii.tracks(e);this.self.postMessage({action:"probeMp4Tracks",tracks:i,data:e},[e.buffer])},e.probeTs=function(t){var e=t.data,i=t.baseStartTime,n="number"!==typeof i||isNaN(i)?void 0:i*ht.ONE_SECOND_IN_TS,r=tn.inspect(e,n),s=null;r&&(s={hasVideo:r.video&&2===r.video.length||!1,hasAudio:r.audio&&2===r.audio.length||!1},s.hasVideo&&(s.videoStart=r.video[0].ptsTime),s.hasAudio&&(s.audioStart=r.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:s,data:e},[e.buffer])},e.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},e.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},e.push=function(t){var e=new Uint8Array(t.data,t.byteOffset,t.byteLength);this.transmuxer.push(e)},e.reset=function(){this.transmuxer.reset()},e.setTimestampOffset=function(t){var e=t.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(ht.secondsToVideoTs(e)))},e.setAudioAppendStart=function(t){this.transmuxer.setAudioAppendStart(Math.ceil(ht.secondsToVideoTs(t.appendStart)))},e.setRemux=function(t){this.transmuxer.setRemux(t.remux)},e.flush=function(t){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},e.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},e.alignGopsWith=function(t){this.transmuxer.alignGopsWith(t.gopsToAlignWith.slice())},t}();self.onmessage=function(t){"init"===t.data.action&&t.data.options?this.messageHandlers=new nn(self,t.data.options):(this.messageHandlers||(this.messageHandlers=new nn(self)),t.data&&t.data.action&&"init"!==t.data.action&&this.messageHandlers[t.data.action]&&this.messageHandlers[t.data.action](t.data))}}))),Wu=Vu(Gu),$u=function(t,e,i){var n=t.data.segment,r=n.type,s=n.initSegment,a=n.captions,o=n.captionStreams,l=n.metadata,u=n.videoFrameDtsTime,h=n.videoFramePtsTime;e.buffer.push({captions:a,captionStreams:o,metadata:l});var c=t.data.segment.boxes||{data:t.data.segment.data},d={type:r,data:new Uint8Array(c.data,c.data.byteOffset,c.data.byteLength),initSegment:new Uint8Array(s.data,s.byteOffset,s.byteLength)};"undefined"!==typeof u&&(d.videoFrameDtsTime=u),"undefined"!==typeof h&&(d.videoFramePtsTime=h),i(d)},Ku=function(t){var e=t.transmuxedData,i=t.callback;e.buffer=[],i(e)},Zu=function(t,e){e.gopInfo=t.data.gopInfo},Xu=function(t){var e=t.transmuxer,i=t.bytes,n=t.audioAppendStart,r=t.gopsToAlignWith,s=t.remux,a=t.onData,o=t.onTrackInfo,l=t.onAudioTimingInfo,u=t.onVideoTimingInfo,h=t.onVideoSegmentTimingInfo,c=t.onAudioSegmentTimingInfo,d=t.onId3,p=t.onCaptions,f=t.onDone,m=t.onEndedTimeline,g=t.isEndOfTimeline,_={buffer:[]},v=g,y=function(i){e.currentTransmux===t&&("data"===i.data.action&&$u(i,_,a),"trackinfo"===i.data.action&&o(i.data.trackInfo),"gopInfo"===i.data.action&&Zu(i,_),"audioTimingInfo"===i.data.action&&l(i.data.audioTimingInfo),"videoTimingInfo"===i.data.action&&u(i.data.videoTimingInfo),"videoSegmentTimingInfo"===i.data.action&&h(i.data.videoSegmentTimingInfo),"audioSegmentTimingInfo"===i.data.action&&c(i.data.audioSegmentTimingInfo),"id3Frame"===i.data.action&&d([i.data.id3Frame],i.data.id3Frame.dispatchType),"caption"===i.data.action&&p(i.data.caption),"endedtimeline"===i.data.action&&(v=!1,m()),"transmuxed"===i.data.type&&(v||(e.onmessage=null,Ku({transmuxedData:_,callback:f}),Yu(e))))};if(e.onmessage=y,n&&e.postMessage({action:"setAudioAppendStart",appendStart:n}),Array.isArray(r)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:r}),"undefined"!==typeof s&&e.postMessage({action:"setRemux",remux:s}),i.byteLength){var b=i instanceof ArrayBuffer?i:i.buffer,T=i instanceof ArrayBuffer?0:i.byteOffset;e.postMessage({action:"push",data:b,byteOffset:T,byteLength:i.byteLength},[b])}g&&e.postMessage({action:"endTimeline"}),e.postMessage({action:"flush"})},Yu=function(t){t.currentTransmux=null,t.transmuxQueue.length&&(t.currentTransmux=t.transmuxQueue.shift(),"function"===typeof t.currentTransmux?t.currentTransmux():Xu(t.currentTransmux))},Qu=function(t,e){t.postMessage({action:e}),Yu(t)},Ju=function(t,e){if(!e.currentTransmux)return e.currentTransmux=t,void Qu(e,t);e.transmuxQueue.push(Qu.bind(null,e,t))},th=function(t){Ju("reset",t)},eh=function(t){Ju("endTimeline",t)},ih=function(t){if(!t.transmuxer.currentTransmux)return t.transmuxer.currentTransmux=t,void Xu(t);t.transmuxer.transmuxQueue.push(t)},nh=function(t){var e=new Wu;e.currentTransmux=null,e.transmuxQueue=[];var i=e.terminate;return e.terminate=function(){return e.currentTransmux=null,e.transmuxQueue.length=0,i.call(e)},e.postMessage({action:"init",options:t}),e},rh={reset:th,endTimeline:eh,transmux:ih,createTransmuxer:nh},sh=function(t){var e=t.transmuxer,i=t.endAction||t.action,n=t.callback,r=u()({},t,{endAction:null,transmuxer:null,callback:null}),s=function r(s){s.data.action===i&&(e.removeEventListener("message",r),s.data.data&&(s.data.data=new Uint8Array(s.data.data,t.byteOffset||0,t.byteLength||s.data.data.byteLength),t.data&&(t.data=s.data.data)),n(s.data))};if(e.addEventListener("message",s),t.data){var a=t.data instanceof ArrayBuffer;r.byteOffset=a?0:t.data.byteOffset,r.byteLength=t.data.byteLength;var o=[a?t.data:t.data.buffer];e.postMessage(r,o)}else e.postMessage(r)},ah={FAILURE:2,TIMEOUT:-101,ABORTED:-102},oh=function(t){t.forEach((function(t){t.abort()}))},lh=function(t){return{bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}},uh=function(t){var e=t.target,i=Date.now()-e.requestTime,n={bandwidth:1/0,bytesReceived:0,roundTripTime:i||0};return n.bytesReceived=t.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n},hh=function(t,e){return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:ah.TIMEOUT,xhr:e}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:ah.ABORTED,xhr:e}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:ah.FAILURE,xhr:e}:null},ch=function(t,e){return function(i,n){var r=n.response,s=hh(i,n);if(s)return e(s,t);if(16!==r.byteLength)return e({status:n.status,message:"Invalid HLS key at URL: "+n.uri,code:ah.FAILURE,xhr:n},t);var a=new DataView(r);return t.key.bytes=new Uint32Array([a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12)]),e(null,t)}},dh=function(t){var e=t.segment,i=t.finishProcessingFn;return function(t,n){var r=n.response,s=hh(t,n);if(s)return i(s,e);if(0===r.byteLength)return i({status:n.status,message:"Empty HLS segment content at URL: "+n.uri,code:ah.FAILURE,xhr:n},e);e.map.bytes=new Uint8Array(n.response);var a=Ye(e.map.bytes);if("mp4"!==a)return i({status:n.status,message:"Found unsupported "+(a||"unknown")+" container for initialization segment at URL: "+n.uri,code:ah.FAILURE,internal:!0,xhr:n},e);sh({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:function(t){var n=t.tracks,r=t.data;return e.map.bytes=r,n.forEach((function(t){e.map.tracks=e.map.tracks||{},e.map.tracks[t.type]||(e.map.tracks[t.type]=t,"number"===typeof t.id&&t.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[t.id]=t.timescale))})),i(null,e)}})}},ph=function(t){var e=t.segment,i=t.finishProcessingFn,n=t.responseType;return function(t,r){var s=r.response,a=hh(t,r);if(a)return i(a,e);var o="arraybuffer"!==n&&r.responseText?Uu(r.responseText.substring(e.lastReachedChar||0)):r.response;return 0===s.byteLength?i({status:r.status,message:"Empty HLS segment content at URL: "+r.uri,code:ah.FAILURE,xhr:r},e):(e.stats=lh(r),e.key?e.encryptedBytes=new Uint8Array(o):e.bytes=new Uint8Array(o),i(null,e))}},fh=function(t){var e=t.segment,i=t.bytes,n=t.trackInfoFn,r=t.timingInfoFn,s=t.videoSegmentTimingInfoFn,a=t.audioSegmentTimingInfoFn,o=t.id3Fn,l=t.captionsFn,u=t.isEndOfTimeline,h=t.endedTimelineFn,c=t.dataFn,d=t.doneFn,p=e.map&&e.map.tracks||{},f=Boolean(p.audio&&p.video),m=r.bind(null,e,"audio","start"),g=r.bind(null,e,"audio","end"),_=r.bind(null,e,"video","start"),v=r.bind(null,e,"video","end"),y=function(){return ih({bytes:i,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,remux:f,onData:function(t){t.type="combined"===t.type?"video":t.type,c(e,t)},onTrackInfo:function(t){n&&(f&&(t.isMuxed=!0),n(e,t))},onAudioTimingInfo:function(t){m&&"undefined"!==typeof t.start&&(m(t.start),m=null),g&&"undefined"!==typeof t.end&&g(t.end)},onVideoTimingInfo:function(t){_&&"undefined"!==typeof t.start&&(_(t.start),_=null),v&&"undefined"!==typeof t.end&&v(t.end)},onVideoSegmentTimingInfo:function(t){s(t)},onAudioSegmentTimingInfo:function(t){a(t)},onId3:function(t,i){o(e,t,i)},onCaptions:function(t){l(e,[t])},isEndOfTimeline:u,onEndedTimeline:function(){h()},onDone:function(t){d&&(t.type="combined"===t.type?"video":t.type,d(null,e,t))}})};sh({action:"probeTs",transmuxer:e.transmuxer,data:i,baseStartTime:e.baseStartTime,callback:function(t){e.bytes=i=t.data;var r=t.result;r&&(n(e,{hasAudio:r.hasAudio,hasVideo:r.hasVideo,isMuxed:f}),n=null,r.hasAudio&&!f&&m(r.audioStart),r.hasVideo&&_(r.videoStart),m=null,_=null),y()}})},mh=function(t){var e=t.segment,i=t.bytes,n=t.trackInfoFn,r=t.timingInfoFn,s=t.videoSegmentTimingInfoFn,a=t.audioSegmentTimingInfoFn,o=t.id3Fn,l=t.captionsFn,u=t.isEndOfTimeline,h=t.endedTimelineFn,c=t.dataFn,d=t.doneFn,p=new Uint8Array(i);if(Qe(p)){e.isFmp4=!0;var f=e.map.tracks,m={isFmp4:!0,hasVideo:!!f.video,hasAudio:!!f.audio};f.audio&&f.audio.codec&&"enca"!==f.audio.codec&&(m.audioCodec=f.audio.codec),f.video&&f.video.codec&&"encv"!==f.video.codec&&(m.videoCodec=f.video.codec),f.video&&f.audio&&(m.isMuxed=!0),n(e,m);var g=function(t){c(e,{data:p,type:m.hasAudio&&!m.isMuxed?"audio":"video"}),t&&t.length&&l(e,t),d(null,e,{})};sh({action:"probeMp4StartTime",timescales:e.map.timescales,data:p,transmuxer:e.transmuxer,callback:function(t){var n=t.data,s=t.startTime;i=n.buffer,e.bytes=p=n,m.hasAudio&&!m.isMuxed&&r(e,"audio","start",s),m.hasVideo&&r(e,"video","start",s),f.video&&n.byteLength&&e.transmuxer?sh({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:e.transmuxer,data:p,timescales:e.map.timescales,trackIds:[f.video.id],callback:function(t){i=t.data.buffer,e.bytes=p=t.data,g(t.captions)}}):g()}})}else if(e.transmuxer){if("undefined"===typeof e.container&&(e.container=Ye(p)),"ts"!==e.container&&"aac"!==e.container)return n(e,{hasAudio:!1,hasVideo:!1}),void d(null,e,{});fh({segment:e,bytes:i,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:a,id3Fn:o,captionsFn:l,isEndOfTimeline:u,endedTimelineFn:h,dataFn:c,doneFn:d})}else d(null,e,{})},gh=function(t){var e,i=t.decryptionWorker,n=t.segment,r=t.trackInfoFn,s=t.timingInfoFn,a=t.videoSegmentTimingInfoFn,o=t.audioSegmentTimingInfoFn,l=t.id3Fn,u=t.captionsFn,h=t.isEndOfTimeline,c=t.endedTimelineFn,d=t.dataFn,p=t.doneFn,f=function t(e){if(e.data.source===n.requestId){i.removeEventListener("message",t);var f=e.data.decrypted;n.bytes=new Uint8Array(f.bytes,f.byteOffset,f.byteLength),mh({segment:n,bytes:n.bytes,trackInfoFn:r,timingInfoFn:s,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:u,isEndOfTimeline:h,endedTimelineFn:c,dataFn:d,doneFn:p})}};i.addEventListener("message",f),e=n.key.bytes.slice?n.key.bytes.slice():new Uint32Array(Array.prototype.slice.call(n.key.bytes)),i.postMessage(cu({source:n.requestId,encrypted:n.encryptedBytes,key:e,iv:n.key.iv}),[n.encryptedBytes.buffer,e.buffer])},_h=function(t){var e=t.activeXhrs,i=t.decryptionWorker,n=t.trackInfoFn,r=t.timingInfoFn,s=t.videoSegmentTimingInfoFn,a=t.audioSegmentTimingInfoFn,o=t.id3Fn,l=t.captionsFn,u=t.isEndOfTimeline,h=t.endedTimelineFn,c=t.dataFn,d=t.doneFn,p=0,f=!1;return function(t,m){if(!f){if(t)return f=!0,oh(e),d(t,m);if(p+=1,p===e.length){if(m.endOfAllRequests=Date.now(),m.encryptedBytes)return gh({decryptionWorker:i,segment:m,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:a,id3Fn:o,captionsFn:l,isEndOfTimeline:u,endedTimelineFn:h,dataFn:c,doneFn:d});mh({segment:m,bytes:m.bytes,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:a,id3Fn:o,captionsFn:l,isEndOfTimeline:u,endedTimelineFn:h,dataFn:c,doneFn:d})}}}},vh=function(t){var e=t.loadendState,i=t.abortFn;return function(t){var n=t.target;n.aborted&&i&&!e.calledAbortFn&&(i(),e.calledAbortFn=!0)}},yh=function(t){var e=t.segment,i=t.progressFn;return t.trackInfoFn,t.timingInfoFn,t.videoSegmentTimingInfoFn,t.audioSegmentTimingInfoFn,t.id3Fn,t.captionsFn,t.isEndOfTimeline,t.endedTimelineFn,t.dataFn,function(t){var n=t.target;if(!n.aborted)return e.stats=Xo.mergeOptions(e.stats,uh(t)),!e.stats.firstBytesReceivedAt&&e.stats.bytesReceived&&(e.stats.firstBytesReceivedAt=Date.now()),i(t,e)}},bh=function(t){var e=t.xhr,i=t.xhrOptions,n=t.decryptionWorker,r=t.segment,s=t.abortFn,a=t.progressFn,o=t.trackInfoFn,l=t.timingInfoFn,u=t.videoSegmentTimingInfoFn,h=t.audioSegmentTimingInfoFn,c=t.id3Fn,d=t.captionsFn,p=t.isEndOfTimeline,f=t.endedTimelineFn,m=t.dataFn,g=t.doneFn,_=[],v=_h({activeXhrs:_,decryptionWorker:n,trackInfoFn:o,timingInfoFn:l,videoSegmentTimingInfoFn:u,audioSegmentTimingInfoFn:h,id3Fn:c,captionsFn:d,isEndOfTimeline:p,endedTimelineFn:f,dataFn:m,doneFn:g});if(r.key&&!r.key.bytes){var y=Xo.mergeOptions(i,{uri:r.key.resolvedUri,responseType:"arraybuffer"}),b=ch(r,v),T=e(y,b);_.push(T)}if(r.map&&!r.map.bytes){var w=Xo.mergeOptions(i,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:ou(r.map)}),S=dh({segment:r,finishProcessingFn:v}),E=e(w,S);_.push(E)}var C=Xo.mergeOptions(i,{uri:r.part&&r.part.resolvedUri||r.resolvedUri,responseType:"arraybuffer",headers:ou(r)}),k=ph({segment:r,finishProcessingFn:v,responseType:C.responseType}),x=e(C,k);x.addEventListener("progress",yh({segment:r,progressFn:a,trackInfoFn:o,timingInfoFn:l,videoSegmentTimingInfoFn:u,audioSegmentTimingInfoFn:h,id3Fn:c,captionsFn:d,isEndOfTimeline:p,endedTimelineFn:f,dataFn:m})),_.push(x);var M={};return _.forEach((function(t){t.addEventListener("loadend",vh({loadendState:M,abortFn:s}))})),function(){return oh(_)}},Th=el("CodecUtils"),wh=function(t){var e=t.attributes||{};if(e.CODECS)return $(e.CODECS)},Sh=function(t,e){var i=e.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&i.AUDIO&&t.mediaGroups.AUDIO[i.AUDIO]},Eh=function(t,e){if(!Sh(t,e))return!0;var i=e.attributes||{},n=t.mediaGroups.AUDIO[i.AUDIO];for(var r in n)if(!n[r].uri&&!n[r].playlists)return!0;return!1},Ch=function(t){var e={};return t.forEach((function(t){var i=t.mediaType,n=t.type,r=t.details;e[i]=e[i]||[],e[i].push(W(""+n+r))})),Object.keys(e).forEach((function(t){if(e[t].length>1)return Th("multiple "+t+" codecs found as attributes: "+e[t].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),void(e[t]=null);e[t]=e[t][0]})),e},kh=function(t){var e=0;return t.audio&&e++,t.video&&e++,e},xh=function(t,e){var i=e.attributes||{},n=Ch(wh(e)||[]);if(Sh(t,e)&&!n.audio&&!Eh(t,e)){var r=Ch(K(t,i.AUDIO)||[]);r.audio&&(n.audio=r.audio)}return n},Mh=el("PlaylistSelector"),Ah=function(t){if(t&&t.playlist){var e=t.playlist;return JSON.stringify({id:e.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:e.attributes&&e.attributes.CODECS||""})}},Ih=function(t,e){if(!t)return"";var i=s.a.getComputedStyle(t);return i?i[e]:""},Oh=function(t,e){var i=t.slice();t.sort((function(t,n){var r=e(t,n);return 0===r?i.indexOf(t)-i.indexOf(n):r}))},Ph=function(t,e){var i,n;return t.attributes.BANDWIDTH&&(i=t.attributes.BANDWIDTH),i=i||s.a.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||s.a.Number.MAX_VALUE,i-n},Lh=function(t,e){var i,n;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(i=t.attributes.RESOLUTION.width),i=i||s.a.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||s.a.Number.MAX_VALUE,i===n&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:i-n},Rh=function(t,e,i,n,r,a){if(t){var o={bandwidth:e,width:i,height:n,limitRenditionByPlayerDimensions:r},l=t.playlists;eu.isAudioOnly(t)&&(l=a.getAudioTrackPlaylists_(),o.audioOnly=!0);var u=l.map((function(t){var e,i=t.attributes&&t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width,n=t.attributes&&t.attributes.RESOLUTION&&t.attributes.RESOLUTION.height;return e=t.attributes&&t.attributes.BANDWIDTH,e=e||s.a.Number.MAX_VALUE,{bandwidth:e,width:i,height:n,playlist:t}}));Oh(u,(function(t,e){return t.bandwidth-e.bandwidth})),u=u.filter((function(t){return!eu.isIncompatible(t.playlist)}));var h=u.filter((function(t){return eu.isEnabled(t.playlist)}));h.length||(h=u.filter((function(t){return!eu.isDisabled(t.playlist)})));var c=h.filter((function(t){return t.bandwidth*ju.BANDWIDTH_VARIANCE<e})),d=c[c.length-1],p=c.filter((function(t){return t.bandwidth===d.bandwidth}))[0];if(!1===r){var f=p||h[0]||u[0];if(f&&f.playlist){var m="sortedPlaylistReps";return p&&(m="bandwidthBestRep"),h[0]&&(m="enabledPlaylistReps"),Mh("choosing "+Ah(f)+" using "+m+" with options",o),f.playlist}return Mh("could not choose a playlist with options",o),null}var g=c.filter((function(t){return t.width&&t.height}));Oh(g,(function(t,e){return t.width-e.width}));var _=g.filter((function(t){return t.width===i&&t.height===n}));d=_[_.length-1];var v,y,b,T=_.filter((function(t){return t.bandwidth===d.bandwidth}))[0];T||(v=g.filter((function(t){return t.width>i||t.height>n})),y=v.filter((function(t){return t.width===v[0].width&&t.height===v[0].height})),d=y[y.length-1],b=y.filter((function(t){return t.bandwidth===d.bandwidth}))[0]);var w=b||T||p||h[0]||u[0];if(w&&w.playlist){var S="sortedPlaylistReps";return b?S="resolutionPlusOneRep":T?S="resolutionBestRep":p?S="bandwidthBestRep":h[0]&&(S="enabledPlaylistReps"),Mh("choosing "+Ah(w)+" using "+S+" with options",o),w.playlist}return Mh("could not choose a playlist with options",o),null}},Dh=function(){var t=this.useDevicePixelRatio&&s.a.devicePixelRatio||1;return Rh(this.playlists.master,this.systemBandwidth,parseInt(Ih(this.tech_.el(),"width"),10)*t,parseInt(Ih(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},Nh=function(t){var e=-1;if(t<0||t>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var i=this.useDevicePixelRatio&&s.a.devicePixelRatio||1;return e<0&&(e=this.systemBandwidth),e=t*this.systemBandwidth+(1-t)*e,Rh(this.playlists.master,e,parseInt(Ih(this.tech_.el(),"width"),10)*i,parseInt(Ih(this.tech_.el(),"height"),10)*i,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},Bh=function(t){var e=t.master,i=t.currentTime,n=t.bandwidth,r=t.duration,s=t.segmentDuration,a=t.timeUntilRebuffer,o=t.currentTimeline,l=t.syncController,u=e.playlists.filter((function(t){return!eu.isIncompatible(t)})),h=u.filter(eu.isEnabled);h.length||(h=u.filter((function(t){return!eu.isDisabled(t)})));var c=h.filter(eu.hasAttribute.bind(null,"BANDWIDTH")),d=c.map((function(t){var e=l.getSyncPoint(t,r,o,i),u=e?1:2,h=eu.estimateSegmentRequestTime(s,n,t),c=h*u-a;return{playlist:t,rebufferingImpact:c}})),p=d.filter((function(t){return t.rebufferingImpact<=0}));return Oh(p,(function(t,e){return Ph(e.playlist,t.playlist)})),p.length?p[0]:(Oh(d,(function(t,e){return t.rebufferingImpact-e.rebufferingImpact})),d[0]||null)},jh=function(){var t=this,e=this.playlists.master.playlists.filter(eu.isEnabled);Oh(e,(function(t,e){return Ph(t,e)}));var i=e.filter((function(e){return!!xh(t.playlists.master,e).video}));return i[0]||null},Uh=function(t){var e,i=0;return t.bytes&&(e=new Uint8Array(t.bytes),t.segments.forEach((function(t){e.set(t,i),i+=t.byteLength}))),e},Fh=function(t,e,i){if(!t[i]){e.trigger({type:"usage",name:"vhs-608"}),e.trigger({type:"usage",name:"hls-608"});var n=e.textTracks().getTrackById(i);t[i]=n||e.addRemoteTextTrack({kind:"captions",id:i,label:i},!1).track}},zh=function(t){var e=t.inbandTextTracks,i=t.captionArray,n=t.timestampOffset;if(i){var r=s.a.WebKitDataCue||s.a.VTTCue;i.forEach((function(t){var i=t.stream;e[i].addCue(new r(t.startTime+n,t.endTime+n,t.text))}))}},Vh=function(t){Object.defineProperties(t.frame,{id:{get:function(){return Xo.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get:function(){return Xo.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get:function(){return Xo.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},Hh=function(t){var e=t.inbandTextTracks,i=t.metadataArray,n=t.timestampOffset,r=t.videoDuration;if(i){var a=s.a.WebKitDataCue||s.a.VTTCue,o=e.metadataTrack_;if(o&&(i.forEach((function(t){var e=t.cueTime+n;!("number"!==typeof e||s.a.isNaN(e)||e<0)&&e<1/0&&t.frames.forEach((function(t){var i=new a(e,e,t.value||t.url||t.data||"");i.frame=t,i.value=t,Vh(i),o.addCue(i)}))})),o.cues&&o.cues.length)){for(var l=o.cues,u=[],h=0;h<l.length;h++)l[h]&&u.push(l[h]);var c=u.reduce((function(t,e){var i=t[e.startTime]||[];return i.push(e),t[e.startTime]=i,t}),{}),d=Object.keys(c).sort((function(t,e){return Number(t)-Number(e)}));d.forEach((function(t,e){var i=c[t],n=Number(d[e+1])||r;i.forEach((function(t){t.endTime=n}))}))}}},qh=function(t,e,i){t.metadataTrack_||(t.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,t.metadataTrack_.inBandMetadataTrackDispatchType=e)},Gh=function(t,e,i){var n,r;if(i&&i.cues){n=i.cues.length;while(n--)r=i.cues[n],r.startTime>=t&&r.endTime<=e&&i.removeCue(r)}},Wh=function(t){var e=t.cues;if(e)for(var i=0;i<e.length;i++){for(var n=[],r=0,s=0;s<e.length;s++)e[i].startTime===e[s].startTime&&e[i].endTime===e[s].endTime&&e[i].text===e[s].text&&(r++,r>1&&n.push(e[s]));n.length&&n.forEach((function(e){return t.removeCue(e)}))}},$h=function(t,e,i){if("undefined"===typeof e||null===e||!t.length)return[];var n,r=Math.ceil((e-i+3)*Je["ONE_SECOND_IN_TS"]);for(n=0;n<t.length;n++)if(t[n].pts>r)break;return t.slice(n)},Kh=function(t,e,i){if(!e.length)return t;if(i)return e.slice();var n=e[0].pts,r=0;for(r;r<t.length;r++)if(t[r].pts>=n)break;return t.slice(0,r).concat(e)},Zh=function(t,e,i,n){var r=Math.ceil((e-n)*Je["ONE_SECOND_IN_TS"]),s=Math.ceil((i-n)*Je["ONE_SECOND_IN_TS"]),a=t.slice(),o=t.length;while(o--)if(t[o].pts<=s)break;if(-1===o)return a;var l=o+1;while(l--)if(t[l].pts<=r)break;return l=Math.max(l,0),a.splice(l,o-l+1),a},Xh=function(t,e){if(!t&&!e||!t&&e||t&&!e)return!1;if(t===e)return!0;var i=Object.keys(t).sort(),n=Object.keys(e).sort();if(i.length!==n.length)return!1;for(var r=0;r<i.length;r++){var s=i[r];if(s!==n[r])return!1;if(t[s]!==e[s])return!1}return!0},Yh=22,Qh=function(t,e){var i=void 0===e?{}:e,n=i.segments,r=void 0===n?[]:n;if(-1===t)return 0;var s=r.reduce((function(e,i,n){return i.timeline===t&&e.push(n),e}),[]);return s.length?s[Math.min(s.length-1,1)]:Math.max(r.length-1,0)},Jh=1,tc=500,ec=function(t){return"number"===typeof t&&isFinite(t)},ic=1/60,nc=function(t,e,i){return"main"===t&&e&&i?i.hasAudio||i.hasVideo?e.hasVideo&&!i.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&i.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null},rc=function(t,e,i){var n=e-ju.BACK_BUFFER_LENGTH;t.length&&(n=Math.max(n,t.start(0)));var r=e-i;return Math.min(r,n)},sc=function(t){var e=t.startOfSegment,i=t.duration,n=t.segment,r=n.start,s=n.end,a=n.parts,o=t.playlist,l=o.mediaSequence,u=o.id,h=o.segments,c=void 0===h?[]:h,d=t.mediaIndex,p=t.partIndex,f=t.timeline,m=c.length-1,g="mediaIndex/partIndex increment";t.getMediaInfoForTime?g="getMediaInfoForTime ("+t.getMediaInfoForTime+")":t.isSyncRequest&&(g="getSyncSegmentCandidate (isSyncRequest)");var _=t.segment.uri?"segment":"pre-segment";return _+" ["+d+"/"+m+"]"+(p?" part ["+p+"/"+(a.length-1)+"]":"")+" mediaSequenceNumber ["+l+"/"+(l+m)+"] start/end ["+r+" => "+s+"] startOfSegment ["+e+"] duration ["+i+"] timeline ["+f+"] selected by ["+g+"] playlist ["+u+"]"},ac=function(t){return t+"TimingInfo"},oc=function(t){var e=t.segmentTimeline,i=t.currentTimeline,n=t.startOfSegment,r=t.buffered,s=t.overrideCheck;return s||e!==i?e<i?n:r.length?r.end(r.length-1):n:null},lc=function(t){var e=t.timelineChangeController,i=t.currentTimeline,n=t.segmentTimeline,r=t.loaderType,s=t.audioDisabled;if(i===n)return!1;if("audio"===r){var a=e.lastTimelineChange({type:"main"});return!a||a.to!==n}if("main"===r&&s){var o=e.pendingTimelineChange({type:"audio"});return!o||o.to!==n}return!1},uc=function(t,e){var i=t&&"number"===typeof t.start&&"number"===typeof t.end?t.end-t.start:0,n=e&&"number"===typeof e.start&&"number"===typeof e.end?e.end-e.start:0;return Math.max(i,n)},hc=function(t){var e=t.segmentDuration,i=t.maxDuration;return!!e&&Math.round(e)>i+Tl},cc=function(t,e){if("hls"!==e)return null;var i=uc(t.audioTimingInfo,t.videoTimingInfo);if(!i)return null;var n=t.playlist.targetDuration,r=hc({segmentDuration:i,maxDuration:2*n}),s=hc({segmentDuration:i,maxDuration:n}),a="Segment with index "+t.mediaIndex+" from playlist "+t.playlist.id+" has a duration of "+i+" when the reported duration is "+t.duration+" and the target duration is "+n+". For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return r||s?{severity:r?"warn":"info",message:a}:null},dc=function(t){function e(e,i){var n;if(n=t.call(this)||this,!e)throw new TypeError("Initialization settings are required");if("function"!==typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");return n.bandwidth=e.bandwidth,n.throughput={rate:0,count:0},n.roundTrip=NaN,n.resetStats_(),n.mediaIndex=null,n.partIndex=null,n.hasPlayed_=e.hasPlayed,n.currentTime_=e.currentTime,n.seekable_=e.seekable,n.seeking_=e.seeking,n.duration_=e.duration,n.mediaSource_=e.mediaSource,n.vhs_=e.vhs,n.loaderType_=e.loaderType,n.currentMediaInfo_=void 0,n.startingMediaInfo_=void 0,n.segmentMetadataTrack_=e.segmentMetadataTrack,n.goalBufferLength_=e.goalBufferLength,n.sourceType_=e.sourceType,n.sourceUpdater_=e.sourceUpdater,n.inbandTextTracks_=e.inbandTextTracks,n.state_="INIT",n.timelineChangeController_=e.timelineChangeController,n.shouldSaveSegmentTimingInfo_=!0,n.parse708captions_=e.parse708captions,n.checkBufferTimeout_=null,n.error_=void 0,n.currentTimeline_=-1,n.pendingSegment_=null,n.xhrOptions_=null,n.pendingSegments_=[],n.audioDisabled_=!1,n.isPendingTimestampOffset_=!1,n.gopBuffer_=[],n.timeMapping_=0,n.safeAppend_=Xo.browser.IE_VERSION>=11,n.appendInitSegment_={audio:!0,video:!0},n.playlistOfLastInitSegment_={audio:null,video:null},n.callQueue_=[],n.loadQueue_=[],n.metadataQueue_={id3:[],caption:[]},n.waitingOnRemove_=!1,n.quotaExceededErrorRetryTimeout_=null,n.activeInitSegmentId_=null,n.initSegments_={},n.cacheEncryptionKeys_=e.cacheEncryptionKeys,n.keyCache_={},n.decrypter_=e.decrypter,n.syncController_=e.syncController,n.syncPoint_={segmentIndex:0,time:0},n.transmuxer_=n.createTransmuxer_(),n.triggerSyncInfoUpdate_=function(){return n.trigger("syncinfoupdate")},n.syncController_.on("syncinfoupdate",n.triggerSyncInfoUpdate_),n.mediaSource_.addEventListener("sourceopen",(function(){n.isEndOfStream_()||(n.ended_=!1)})),n.fetchAtBuffer_=!1,n.logger_=el("SegmentLoader["+n.loaderType_+"]"),Object.defineProperty(c()(n),"state",{get:function(){return this.state_},set:function(t){t!==this.state_&&(this.logger_(this.state_+" -> "+t),this.state_=t,this.trigger("statechange"))}}),n.sourceUpdater_.on("ready",(function(){n.hasEnoughInfoToAppend_()&&n.processCallQueue_()})),"main"===n.loaderType_&&n.timelineChangeController_.on("pendingtimelinechange",(function(){n.hasEnoughInfoToAppend_()&&n.processCallQueue_()})),"audio"===n.loaderType_&&n.timelineChangeController_.on("timelinechange",(function(){n.hasEnoughInfoToLoad_()&&n.processLoadQueue_(),n.hasEnoughInfoToAppend_()&&n.processCallQueue_()})),n}p()(e,t);var i=e.prototype;return i.createTransmuxer_=function(){return rh.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_})},i.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0},i.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&s.a.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},i.setAudio=function(t){this.audioDisabled_=!t,t?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},i.abort=function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)},i.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,s.a.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},i.checkForAbort_=function(t){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==t:(this.state="READY",!0)},i.error=function(t){return"undefined"!==typeof t&&(this.logger_("error occurred:",t),this.error_=t),this.pendingSegment_=null,this.error_},i.endOfStream=function(){this.ended_=!0,this.transmuxer_&&rh.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},i.buffered_=function(){if(!this.sourceUpdater_||!this.startingMediaInfo_)return Xo.createTimeRanges();if("main"===this.loaderType_){var t=this.startingMediaInfo_,e=t.hasAudio,i=t.hasVideo,n=t.isMuxed;if(i&&e&&!this.audioDisabled_&&!n)return this.sourceUpdater_.buffered();if(i)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},i.initSegmentForMap=function(t,e){if(void 0===e&&(e=!1),!t)return null;var i=du(t),n=this.initSegments_[i];return e&&!n&&t.bytes&&(this.initSegments_[i]=n={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:t.bytes,tracks:t.tracks,timescales:t.timescales}),n||t},i.segmentKey=function(t,e){if(void 0===e&&(e=!1),!t)return null;var i=pu(t),n=this.keyCache_[i];this.cacheEncryptionKeys_&&e&&!n&&t.bytes&&(this.keyCache_[i]=n={resolvedUri:t.resolvedUri,bytes:t.bytes});var r={resolvedUri:(n||t).resolvedUri};return n&&(r.bytes=n.bytes),r},i.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},i.load=function(){if(this.monitorBuffer_(),this.playlist_)return"INIT"===this.state&&this.couldBeginLoading_()?this.init_():void(!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY"))},i.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},i.playlist=function(t,e){if(void 0===e&&(e={}),t){var i=this.playlist_,n=this.pendingSegment_;this.playlist_=t,this.xhrOptions_=e,"INIT"===this.state&&(t.syncInfo={mediaSequence:t.mediaSequence,time:0},"main"===this.loaderType_&&this.syncController_.setDateTimeMappingForStart(t));var r=null;if(i&&(i.id?r=i.id:i.uri&&(r=i.uri)),this.logger_("playlist update ["+r+" => "+(t.id||t.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!i||i.uri!==t.uri)return null!==this.mediaIndex&&this.resyncLoader(),this.currentMediaInfo_=void 0,void this.trigger("playlistupdate");var s=t.mediaSequence-i.mediaSequence;if(this.logger_("live window shift ["+s+"]"),null!==this.mediaIndex)if(this.mediaIndex-=s,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var a=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!a.parts||!a.parts.length||!a.parts[this.partIndex])){var o=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=o}}n&&(n.mediaIndex-=s,n.mediaIndex<0?(n.mediaIndex=null,n.partIndex=null):(n.mediaIndex>=0&&(n.segment=t.segments[n.mediaIndex]),n.partIndex>=0&&n.segment.parts&&(n.part=n.segment.parts[n.partIndex]))),this.syncController_.saveExpiredSegmentInfo(i,t)}},i.pause=function(){this.checkBufferTimeout_&&(s.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},i.paused=function(){return null===this.checkBufferTimeout_},i.resetEverything=function(t){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,t),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"})},i.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},i.resyncLoader=function(){this.transmuxer_&&rh.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},i.remove=function(t,e,i,n){if(void 0===i&&(i=function(){}),void 0===n&&(n=!1),e===1/0&&(e=this.duration_()),e<=t)this.logger_("skipping remove because end ${end} is <= start ${start}");else if(this.sourceUpdater_&&this.startingMediaInfo_){var r=1,s=function(){r--,0===r&&i()};for(var a in!n&&this.audioDisabled_||(r++,this.sourceUpdater_.removeAudio(t,e,s)),(n||"main"===this.loaderType_)&&(this.gopBuffer_=Zh(this.gopBuffer_,t,e,this.timeMapping_),r++,this.sourceUpdater_.removeVideo(t,e,s)),this.inbandTextTracks_)Gh(t,e,this.inbandTextTracks_[a]);Gh(t,e,this.segmentMetadataTrack_),s()}else this.logger_("skipping remove because no source updater or starting media info")},i.monitorBuffer_=function(){this.checkBufferTimeout_&&s.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=s.a.setTimeout(this.monitorBufferTick_.bind(this),1)},i.monitorBufferTick_=function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&s.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=s.a.setTimeout(this.monitorBufferTick_.bind(this),tc)},i.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var t=this.chooseNextRequest_();t&&("number"===typeof t.timestampOffset&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:t.timeline})),this.loadSegment_(t))}},i.isEndOfStream_=function(t,e,i){if(void 0===t&&(t=this.mediaIndex),void 0===e&&(e=this.playlist_),void 0===i&&(i=this.partIndex),!e||!this.mediaSource_)return!1;var n="number"===typeof t&&e.segments[t],r=t+1===e.segments.length,s=!n||!n.parts||i+1===n.parts.length;return e.endList&&"open"===this.mediaSource_.readyState&&r&&s},i.chooseNextRequest_=function(){var t=Pl(this.buffered_())||0,e=Math.max(0,t-this.currentTime_()),i=!this.hasPlayed_()&&e>=1,n=e>=this.goalBufferLength_(),r=this.playlist_.segments;if(!r.length||i||n)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var s={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(s.isSyncRequest)s.mediaIndex=Qh(this.currentTimeline_,this.playlist_);else if(null!==this.mediaIndex){var a=r[this.mediaIndex],o="number"===typeof this.partIndex?this.partIndex:-1;s.startOfSegment=a.end?a.end:t,a.parts&&a.parts[o+1]?(s.mediaIndex=this.mediaIndex,s.partIndex=o+1):s.mediaIndex=this.mediaIndex+1}else{var l=eu.getMediaInfoForTime(this.playlist_,this.fetchAtBuffer_?t:this.currentTime_(),this.syncPoint_.segmentIndex,this.syncPoint_.time);s.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd":"currentTime",s.mediaIndex=l.mediaIndex,s.startOfSegment=l.startTime,s.partIndex=l.partIndex}var u=r[s.mediaIndex],h=u&&"number"===typeof s.partIndex&&u.parts&&u.parts[s.partIndex];if(!u||"number"===typeof s.partIndex&&!h)return null;"number"!==typeof s.partIndex&&u.parts&&(s.partIndex=0);var c=this.mediaSource_&&"ended"===this.mediaSource_.readyState;return s.mediaIndex>=r.length-1&&c&&!this.seeking_()?null:this.generateSegmentInfo_(s)},i.generateSegmentInfo_=function(t){var e=t.playlist,i=t.mediaIndex,n=t.startOfSegment,r=t.isSyncRequest,s=t.partIndex,a=t.forceTimestampOffset,o=t.getMediaInfoForTime,l=e.segments[i],u="number"===typeof s&&l.parts[s],h={requestId:"segment-loader-"+Math.random(),uri:u&&u.resolvedUri||l.resolvedUri,mediaIndex:i,partIndex:u?s:null,isSyncRequest:r,startOfSegment:n,playlist:e,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:l.timeline,duration:l.duration,segment:l,part:u,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:o},c="undefined"!==typeof a?a:this.isPendingTimestampOffset_;h.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:l.timeline,currentTimeline:this.currentTimeline_,startOfSegment:n,buffered:this.buffered_(),overrideCheck:c});var d=Pl(this.sourceUpdater_.audioBuffered());return"number"===typeof d&&(h.audioAppendStart=d-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(h.gopsToAlignWith=$h(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),h},i.timestampOffsetForSegment_=function(t){return oc(t)},i.earlyAbortWhenNeeded_=function(t){if(!this.vhs_.tech_.paused()&&this.xhrOptions_.timeout&&this.playlist_.attributes.BANDWIDTH&&!(Date.now()-(t.firstBytesReceivedAt||Date.now())<1e3)){var e=this.currentTime_(),i=t.bandwidth,n=this.pendingSegment_.duration,r=eu.estimateSegmentRequestTime(n,i,this.playlist_,t.bytesReceived),s=Al(this.buffered_(),e,this.vhs_.tech_.playbackRate())-1;if(!(r<=s)){var a=Bh({master:this.vhs_.playlists.master,currentTime:e,bandwidth:i,duration:this.duration_(),segmentDuration:n,timeUntilRebuffer:s,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(a){var o=r-s,l=o-a.rebufferingImpact,u=.5;s<=Tl&&(u=1),!a.playlist||a.playlist.uri===this.playlist_.uri||l<u||(this.bandwidth=a.playlist.attributes.BANDWIDTH*ju.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},i.handleAbort_=function(t){this.logger_("Aborting "+sc(t)),this.mediaRequestsAborted+=1},i.handleProgress_=function(t,e){this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||this.trigger("progress")},i.handleTrackInfo_=function(t,e){this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId)||this.checkForIllegalMediaSwitch(e)||(e=e||{},Xh(this.currentMediaInfo_,e)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=e,this.currentMediaInfo_=e,this.logger_("trackinfo update",e),this.trigger("trackinfo")),this.checkForAbort_(t.requestId)||(this.pendingSegment_.trackInfo=e,this.hasEnoughInfoToAppend_()&&this.processCallQueue_()))},i.handleTimingInfo_=function(t,e,i,n){if(this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)){var r=this.pendingSegment_,s=ac(e);r[s]=r[s]||{},r[s][i]=n,this.logger_("timinginfo: "+e+" - "+i+" - "+n),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},i.handleCaptions_=function(t,e){var i=this;if(this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId))if(0!==e.length){var n=this.pendingSegment_;if(n.hasAppendedData_){var r=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),s={};e.forEach((function(t){s[t.stream]=s[t.stream]||{startTime:1/0,captions:[],endTime:0};var e=s[t.stream];e.startTime=Math.min(e.startTime,t.startTime+r),e.endTime=Math.max(e.endTime,t.endTime+r),e.captions.push(t)})),Object.keys(s).forEach((function(t){var e=s[t],n=e.startTime,a=e.endTime,o=e.captions,l=i.inbandTextTracks_;i.logger_("adding cues from "+n+" -> "+a+" for "+t),Fh(l,i.vhs_.tech_,t),Gh(n,a,l[t]),zh({captionArray:o,inbandTextTracks:l,timestampOffset:r})})),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}else this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,t,e))}else this.logger_("SegmentLoader received no captions from a caption event")},i.handleId3_=function(t,e,i){if(this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)){var n=this.pendingSegment_;if(n.hasAppendedData_){var r=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();qh(this.inbandTextTracks_,i,this.vhs_.tech_),Hh({inbandTextTracks:this.inbandTextTracks_,metadataArray:e,timestampOffset:r,videoDuration:this.duration_()})}else this.metadataQueue_.id3.push(this.handleId3_.bind(this,t,e,i))}},i.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach((function(t){return t()})),this.metadataQueue_.caption.forEach((function(t){return t()})),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},i.processCallQueue_=function(){var t=this.callQueue_;this.callQueue_=[],t.forEach((function(t){return t()}))},i.processLoadQueue_=function(){var t=this.loadQueue_;this.loadQueue_=[],t.forEach((function(t){return t()}))},i.hasEnoughInfoToLoad_=function(){if("audio"!==this.loaderType_)return!0;var t=this.pendingSegment_;return!!t&&(!this.currentMediaInfo_||!lc({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:t.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},i.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready())return!1;if(this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var t=this.pendingSegment_;if(!t||!t.trackInfo)return!1;var e=this.currentMediaInfo_,i=e.hasAudio,n=e.hasVideo,r=e.isMuxed;return!(n&&!t.videoTimingInfo)&&(!(i&&!this.audioDisabled_&&!r&&!t.audioTimingInfo)&&!lc({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:t.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},i.handleData_=function(t,e){if(this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId))if(!this.callQueue_.length&&this.hasEnoughInfoToAppend_()){var i=this.pendingSegment_;if(this.setTimeMapping_(i.timeline),this.updateMediaSecondsLoaded_(i.segment),"closed"!==this.mediaSource_.readyState){if(t.map&&(t.map=this.initSegmentForMap(t.map,!0),i.segment.map=t.map),t.key&&this.segmentKey(t.key,!0),i.isFmp4=t.isFmp4,i.timingInfo=i.timingInfo||{},i.isFmp4)this.trigger("fmp4"),i.timingInfo.start=i[ac(e.type)].start;else{var n,r="main"===this.loaderType_&&this.currentMediaInfo_.hasVideo;r&&(n=i.videoTimingInfo.start),i.timingInfo.start=this.trueSegmentStart_({currentStart:i.timingInfo.start,playlist:i.playlist,mediaIndex:i.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:r,firstVideoFrameTimeForData:n,videoTimingInfo:i.videoTimingInfo,audioTimingInfo:i.audioTimingInfo})}this.updateAppendInitSegmentStatus(i,e.type),this.updateSourceBufferTimestampOffset_(i),i.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(i,e)}}else this.callQueue_.push(this.handleData_.bind(this,t,e))},i.updateAppendInitSegmentStatus=function(t,e){"main"!==this.loaderType_||"number"!==typeof t.timestampOffset||t.changedTimestampOffset||(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[e]!==t.playlist&&(this.appendInitSegment_[e]=!0)},i.getInitSegmentAndUpdateState_=function(t){var e=t.type,i=t.initSegment,n=t.map,r=t.playlist;if(n){var s=du(n);if(this.activeInitSegmentId_===s)return null;i=this.initSegmentForMap(n,!0).bytes,this.activeInitSegmentId_=s}return i&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=r,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,i):null},i.handleQuotaExceededError_=function(t,e){var i=this,n=t.segmentInfo,r=t.type,a=t.bytes,o=this.sourceUpdater_.audioBuffered(),l=this.sourceUpdater_.videoBuffered();o.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Il(o).join(", ")),l.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Il(l).join(", "));var u=o.length?o.start(0):0,h=o.length?o.end(o.length-1):0,c=l.length?l.start(0):0,d=l.length?l.end(l.length-1):0;if(h-u<=Jh&&d-c<=Jh)return this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: "+a.byteLength+", audio buffer: "+Il(o).join(", ")+", video buffer: "+Il(l).join(", ")+", "),this.error({message:"Quota exceeded error with append of a single segment of content",blacklistDuration:1/0}),void this.trigger("error");this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:n,type:r,bytes:a}));var p=this.currentTime_(),f=p-Jh;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+f),this.remove(0,f,(function(){i.logger_("On QUOTA_EXCEEDED_ERR, retrying append in "+Jh+"s"),i.waitingOnRemove_=!1,i.quotaExceededErrorRetryTimeout_=s.a.setTimeout((function(){i.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),i.quotaExceededErrorRetryTimeout_=null,i.processCallQueue_()}),1e3*Jh)}),!0)},i.handleAppendError_=function(t,e){var i=t.segmentInfo,n=t.type,r=t.bytes;e&&(e.code!==Yh?(this.logger_("Received non QUOTA_EXCEEDED_ERR on append",e),this.error(n+" append of "+r.length+"b failed for segment #"+i.mediaIndex+" in playlist "+i.playlist.id),this.trigger("appenderror")):this.handleQuotaExceededError_({segmentInfo:i,type:n,bytes:r}))},i.appendToSourceBuffer_=function(t){var e=t.segmentInfo,i=t.type,n=t.initSegment,r=t.data,s=t.bytes;if(!s){var a=[r],o=r.byteLength;n&&(a.unshift(n),o+=n.byteLength),s=Uh({bytes:o,segments:a})}this.sourceUpdater_.appendBuffer({segmentInfo:e,type:i,bytes:s},this.handleAppendError_.bind(this,{segmentInfo:e,type:i,bytes:s}))},i.handleSegmentTimingInfo_=function(t,e,i){if(this.pendingSegment_&&e===this.pendingSegment_.requestId){var n=this.pendingSegment_.segment,r=t+"TimingInfo";n[r]||(n[r]={}),n[r].transmuxerPrependedSeconds=i.prependedContentDuration||0,n[r].transmuxedPresentationStart=i.start.presentation,n[r].transmuxedDecodeStart=i.start.decode,n[r].transmuxedPresentationEnd=i.end.presentation,n[r].transmuxedDecodeEnd=i.end.decode,n[r].baseMediaDecodeTime=i.baseMediaDecodeTime}},i.appendData_=function(t,e){var i=e.type,n=e.data;if(n&&n.byteLength&&("audio"!==i||!this.audioDisabled_)){var r=this.getInitSegmentAndUpdateState_({type:i,initSegment:e.initSegment,playlist:t.playlist,map:t.isFmp4?t.segment.map:null});this.appendToSourceBuffer_({segmentInfo:t,type:i,initSegment:r,data:n})}},i.loadSegment_=function(t){var e=this;this.state="WAITING",this.pendingSegment_=t,this.trimBackBuffer_(t),"number"===typeof t.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.hasEnoughInfoToLoad_()?this.updateTransmuxerAndRequestSegment_(t):this.loadQueue_.push((function(){var i=u()({},t,{forceTimestampOffset:!0});u()(t,e.generateSegmentInfo_(i)),e.isPendingTimestampOffset_=!1,e.updateTransmuxerAndRequestSegment_(t)}))},i.updateTransmuxerAndRequestSegment_=function(t){var e=this;this.shouldUpdateTransmuxerTimestampOffset_(t.timestampOffset)&&(this.gopBuffer_.length=0,t.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:t.timestampOffset}));var i=this.createSimplifiedSegmentObj_(t),n=this.isEndOfStream_(t.mediaIndex,t.playlist,t.partIndex),r=null!==this.mediaIndex,s=t.timeline!==this.currentTimeline_&&t.timeline>0,a=n||r&&s;this.logger_("Requesting "+sc(t)),i.map&&!i.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),t.abortRequests=bh({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:i,abortFn:this.handleAbort_.bind(this,t),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",t.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",t.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:a,endedTimelineFn:function(){e.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this)})},i.trimBackBuffer_=function(t){var e=rc(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);e>0&&this.remove(0,e)},i.createSimplifiedSegmentObj_=function(t){var e=t.segment,i=t.part,n={resolvedUri:i?i.resolvedUri:e.resolvedUri,byterange:i?i.byterange:e.byterange,requestId:t.requestId,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,part:t.part},r=t.playlist.segments[t.mediaIndex-1];if(r&&r.timeline===e.timeline&&(r.videoTimingInfo?n.baseStartTime=r.videoTimingInfo.transmuxedDecodeEnd:r.audioTimingInfo&&(n.baseStartTime=r.audioTimingInfo.transmuxedDecodeEnd)),e.key){var s=e.key.iv||new Uint32Array([0,0,0,t.mediaIndex+t.playlist.mediaSequence]);n.key=this.segmentKey(e.key),n.key.iv=s}return e.map&&(n.map=this.initSegmentForMap(e.map)),n},i.saveTransferStats_=function(t){this.mediaRequests+=1,t&&(this.mediaBytesTransferred+=t.bytesReceived,this.mediaTransferDuration+=t.roundTripTime)},i.saveBandwidthRelatedStats_=function(t,e){this.pendingSegment_.byteLength=e.bytesReceived,t<ic?this.logger_("Ignoring segment's bandwidth because its duration of "+t+" is less than the min to record "+ic):(this.bandwidth=e.bandwidth,this.roundTrip=e.roundTripTime)},i.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")},i.segmentRequestFinished_=function(t,e,i){if(this.callQueue_.length)this.callQueue_.push(this.segmentRequestFinished_.bind(this,t,e,i));else if(this.saveTransferStats_(e.stats),this.pendingSegment_&&e.requestId===this.pendingSegment_.requestId){if(t){if(this.pendingSegment_=null,this.state="READY",t.code===ah.ABORTED)return;return this.pause(),t.code===ah.TIMEOUT?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(t),void this.trigger("error"))}var n=this.pendingSegment_;this.saveBandwidthRelatedStats_(n.duration,e.stats),n.endOfAllRequests=e.endOfAllRequests,i.gopInfo&&(this.gopBuffer_=Kh(this.gopBuffer_,i.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(n)}},i.setTimeMapping_=function(t){var e=this.syncController_.mappingForTimeline(t);null!==e&&(this.timeMapping_=e)},i.updateMediaSecondsLoaded_=function(t){"number"===typeof t.start&&"number"===typeof t.end?this.mediaSecondsLoaded+=t.end-t.start:this.mediaSecondsLoaded+=t.duration},i.shouldUpdateTransmuxerTimestampOffset_=function(t){return null!==t&&("main"===this.loaderType_&&t!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&t!==this.sourceUpdater_.audioTimestampOffset())},i.trueSegmentStart_=function(t){var e=t.currentStart,i=t.playlist,n=t.mediaIndex,r=t.firstVideoFrameTimeForData,s=t.currentVideoTimestampOffset,a=t.useVideoTimingInfo,o=t.videoTimingInfo,l=t.audioTimingInfo;if("undefined"!==typeof e)return e;if(!a)return l.start;var u=i.segments[n-1];return 0!==n&&u&&"undefined"!==typeof u.start&&u.end===r+s?o.start:r},i.waitForAppendsToComplete_=function(t){if(!this.currentMediaInfo_)return this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),void this.trigger("error");var e=this.currentMediaInfo_,i=e.hasAudio,n=e.hasVideo,r=e.isMuxed,s="main"===this.loaderType_&&n,a=!this.audioDisabled_&&i&&!r;if(t.waitingOnAppends=0,!t.hasAppendedData_)return t.timingInfo||"number"!==typeof t.timestampOffset||(this.isPendingTimestampOffset_=!0),t.timingInfo={start:0},t.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(t),this.processMetadataQueue_()),void this.checkAppendsDone_(t);s&&t.waitingOnAppends++,a&&t.waitingOnAppends++,s&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,t)),a&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,t))},i.checkAppendsDone_=function(t){this.checkForAbort_(t.requestId)||(t.waitingOnAppends--,0===t.waitingOnAppends&&this.handleAppendsDone_())},i.checkForIllegalMediaSwitch=function(t){var e=nc(this.loaderType_,this.currentMediaInfo_,t);return!!e&&(this.error({message:e,blacklistDuration:1/0}),this.trigger("error"),!0)},i.updateSourceBufferTimestampOffset_=function(t){if(null!==t.timestampOffset&&"number"===typeof t.timingInfo.start&&!t.changedTimestampOffset&&"main"===this.loaderType_){var e=!1;t.timestampOffset-=t.timingInfo.start,t.changedTimestampOffset=!0,t.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(t.timestampOffset),e=!0),t.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(t.timestampOffset),e=!0),e&&this.trigger("timestampoffset")}},i.updateTimingInfoEnd_=function(t){t.timingInfo=t.timingInfo||{};var e="main"===this.loaderType_&&this.currentMediaInfo_.hasVideo,i=e&&t.videoTimingInfo?t.videoTimingInfo:t.audioTimingInfo;i&&(t.timingInfo.end="number"===typeof i.end?i.end:i.start+t.duration)},i.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var t=this.pendingSegment_;this.updateTimingInfoEnd_(t),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:t,shouldSaveTimelineMapping:"main"===this.loaderType_}),this.logger_("Appended "+sc(t));var e=cc(t,this.sourceType_);if(e&&("warn"===e.severity?Xo.log.warn(e.message):this.logger_(e.message)),this.recordThroughput_(t),this.pendingSegment_=null,this.state="READY",t.isSyncRequest)this.trigger("syncinfoupdate");else{this.addSegmentMetadataCue_(t),this.fetchAtBuffer_=!0,this.currentTimeline_!==t.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:t.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:t.timeline})),this.currentTimeline_=t.timeline,this.trigger("syncinfoupdate");var i=t.segment;if(i.end&&this.currentTime_()-i.end>3*t.playlist.targetDuration)this.resetEverything();else{var n=null!==this.mediaIndex;n&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=t.mediaIndex,this.partIndex=t.partIndex,this.isEndOfStream_(t.mediaIndex,t.playlist,t.partIndex)&&this.endOfStream(),this.trigger("appended"),this.paused()||this.monitorBuffer_()}}},i.recordThroughput_=function(t){if(t.duration<ic)this.logger_("Ignoring segment's throughput because its duration of "+t.duration+" is less than the min to record "+ic);else{var e=this.throughput.rate,i=Date.now()-t.endOfAllRequests+1,n=Math.floor(t.byteLength/i*8*1e3);this.throughput.rate+=(n-e)/++this.throughput.count}},i.addSegmentMetadataCue_=function(t){if(this.segmentMetadataTrack_){var e=t.segment,i=e.start,n=e.end;if(ec(i)&&ec(n)){Gh(i,n,this.segmentMetadataTrack_);var r=s.a.WebKitDataCue||s.a.VTTCue,a={custom:e.custom,dateTimeObject:e.dateTimeObject,dateTimeString:e.dateTimeString,bandwidth:t.playlist.attributes.BANDWIDTH,resolution:t.playlist.attributes.RESOLUTION,codecs:t.playlist.attributes.CODECS,byteLength:t.byteLength,uri:t.uri,timeline:t.timeline,playlist:t.playlist.id,start:i,end:n},o=JSON.stringify(a),l=new r(i,n,o);l.value=a,this.segmentMetadataTrack_.addCue(l)}}},e}(Xo.EventTarget);function pc(){}var fc,mc=function(t){return"string"!==typeof t?t:t.replace(/./,(function(t){return t.toUpperCase()}))},gc=["video","audio"],_c=function(t,e){var i=e[t+"Buffer"];return i&&i.updating||e.queuePending[t]},vc=function(t,e){for(var i=0;i<e.length;i++){var n=e[i];if("mediaSource"===n.type)return null;if(n.type===t)return i}return null},yc=function t(e,i){if(0!==i.queue.length){var n=0,r=i.queue[n];if("mediaSource"!==r.type){if("mediaSource"!==e&&i.ready()&&"closed"!==i.mediaSource.readyState&&!_c(e,i)){if(r.type!==e){if(n=vc(e,i.queue),null===n)return;r=i.queue[n]}return i.queue.splice(n,1),i.queuePending[e]=r,r.action(e,i),r.doneFn?void 0:(i.queuePending[e]=null,void t(e,i))}}else i.updating()||"closed"===i.mediaSource.readyState||(i.queue.shift(),r.action(i),r.doneFn&&r.doneFn(),t("audio",i),t("video",i))}},bc=function(t,e){var i=e[t+"Buffer"],n=mc(t);i&&(i.removeEventListener("updateend",e["on"+n+"UpdateEnd_"]),i.removeEventListener("error",e["on"+n+"Error_"]),e.codecs[t]=null,e[t+"Buffer"]=null)},Tc=function(t,e){return t&&e&&-1!==Array.prototype.indexOf.call(t.sourceBuffers,e)},wc={appendBuffer:function(t,e,i){return function(n,r){var s=r[n+"Buffer"];if(Tc(r.mediaSource,s)){r.logger_("Appending segment "+e.mediaIndex+"'s "+t.length+" bytes to "+n+"Buffer");try{s.appendBuffer(t)}catch(a){r.logger_("Error with code "+a.code+" "+(a.code===Yh?"(QUOTA_EXCEEDED_ERR) ":"")+"when appending segment "+e.mediaIndex+" to "+n+"Buffer"),r.queuePending[n]=null,i(a)}}}},remove:function(t,e){return function(i,n){var r=n[i+"Buffer"];if(Tc(n.mediaSource,r)){n.logger_("Removing "+t+" to "+e+" from "+i+"Buffer");try{r.remove(t,e)}catch(s){n.logger_("Remove "+t+" to "+e+" from "+i+"Buffer failed")}}}},timestampOffset:function(t){return function(e,i){var n=i[e+"Buffer"];Tc(i.mediaSource,n)&&(i.logger_("Setting "+e+"timestampOffset to "+t),n.timestampOffset=t)}},callback:function(t){return function(e,i){t()}},endOfStream:function(t){return function(e){if("open"===e.mediaSource.readyState){e.logger_("Calling mediaSource endOfStream("+(t||"")+")");try{e.mediaSource.endOfStream(t)}catch(i){Xo.log.warn("Failed to call media source endOfStream",i)}}}},duration:function(t){return function(e){e.logger_("Setting mediaSource duration to "+t);try{e.mediaSource.duration=t}catch(i){Xo.log.warn("Failed to set media source duration",i)}}},abort:function(){return function(t,e){if("open"===e.mediaSource.readyState){var i=e[t+"Buffer"];if(Tc(e.mediaSource,i)){e.logger_("calling abort on "+t+"Buffer");try{i.abort()}catch(n){Xo.log.warn("Failed to abort on "+t+"Buffer",n)}}}}},addSourceBuffer:function(t,e){return function(i){var n=mc(t),r=Y(e);i.logger_("Adding "+t+"Buffer with codec "+e+" to mediaSource");var s=i.mediaSource.addSourceBuffer(r);s.addEventListener("updateend",i["on"+n+"UpdateEnd_"]),s.addEventListener("error",i["on"+n+"Error_"]),i.codecs[t]=e,i[t+"Buffer"]=s}},removeSourceBuffer:function(t){return function(e){var i=e[t+"Buffer"];if(bc(t,e),Tc(e.mediaSource,i)){e.logger_("Removing "+t+"Buffer with codec "+e.codecs[t]+" from mediaSource");try{e.mediaSource.removeSourceBuffer(i)}catch(n){Xo.log.warn("Failed to removeSourceBuffer "+t+"Buffer",n)}}}},changeType:function(t){return function(e,i){var n=i[e+"Buffer"],r=Y(t);Tc(i.mediaSource,n)&&i.codecs[e]!==t&&(i.logger_("changing "+e+"Buffer codec from "+i.codecs[e]+" to "+t),n.changeType(r),i.codecs[e]=t)}}},Sc=function(t){var e=t.type,i=t.sourceUpdater,n=t.action,r=t.doneFn,s=t.name;i.queue.push({type:e,action:n,doneFn:r,name:s}),yc(e,i)},Ec=function(t,e){return function(i){if(e.queuePending[t]){var n=e.queuePending[t].doneFn;e.queuePending[t]=null,n&&n(e[t+"Error_"])}yc(t,e)}},Cc=function(t){function e(e){var i;return i=t.call(this)||this,i.mediaSource=e,i.sourceopenListener_=function(){return yc("mediaSource",c()(i))},i.mediaSource.addEventListener("sourceopen",i.sourceopenListener_),i.logger_=el("SourceUpdater"),i.audioTimestampOffset_=0,i.videoTimestampOffset_=0,i.queue=[],i.queuePending={audio:null,video:null},i.delayedAudioAppendQueue_=[],i.videoAppendQueued_=!1,i.codecs={},i.onVideoUpdateEnd_=Ec("video",c()(i)),i.onAudioUpdateEnd_=Ec("audio",c()(i)),i.onVideoError_=function(t){i.videoError_=t},i.onAudioError_=function(t){i.audioError_=t},i.createdSourceBuffers_=!1,i.initializedEme_=!1,i.triggeredReady_=!1,i}p()(e,t);var i=e.prototype;return i.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},i.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},i.hasInitializedAnyEme=function(){return this.initializedEme_},i.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},i.createSourceBuffers=function(t){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(t),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},i.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},i.addSourceBuffer=function(t,e){Sc({type:"mediaSource",sourceUpdater:this,action:wc.addSourceBuffer(t,e),name:"addSourceBuffer"})},i.abort=function(t){Sc({type:t,sourceUpdater:this,action:wc.abort(t),name:"abort"})},i.removeSourceBuffer=function(t){this.canRemoveSourceBuffer()?Sc({type:"mediaSource",sourceUpdater:this,action:wc.removeSourceBuffer(t),name:"removeSourceBuffer"}):Xo.log.error("removeSourceBuffer is not supported!")},i.canRemoveSourceBuffer=function(){return!Xo.browser.IE_VERSION&&!Xo.browser.IS_FIREFOX&&s.a.MediaSource&&s.a.MediaSource.prototype&&"function"===typeof s.a.MediaSource.prototype.removeSourceBuffer},e.canChangeType=function(){return s.a.SourceBuffer&&s.a.SourceBuffer.prototype&&"function"===typeof s.a.SourceBuffer.prototype.changeType},i.canChangeType=function(){return this.constructor.canChangeType()},i.changeType=function(t,e){this.canChangeType()?Sc({type:t,sourceUpdater:this,action:wc.changeType(e),name:"changeType"}):Xo.log.error("changeType is not supported!")},i.addOrChangeSourceBuffers=function(t){var e=this;if(!t||"object"!==typeof t||0===Object.keys(t).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(t).forEach((function(i){var n=t[i];if(!e.hasCreatedSourceBuffers())return e.addSourceBuffer(i,n);e.canChangeType()&&e.changeType(i,n)}))},i.appendBuffer=function(t,e){var i=this,n=t.segmentInfo,r=t.type,s=t.bytes;if(this.processedAppend_=!0,"audio"===r&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([t,e]),void this.logger_("delayed audio append of "+s.length+" until video append");var a=e;if(Sc({type:r,sourceUpdater:this,action:wc.appendBuffer(s,n||{mediaIndex:-1},a),doneFn:e,name:"appendBuffer"}),"video"===r){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var o=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+o.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,o.forEach((function(t){i.appendBuffer.apply(i,t)}))}},i.audioBuffered=function(){return Tc(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Xo.createTimeRange()},i.videoBuffered=function(){return Tc(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Xo.createTimeRange()},i.buffered=function(){var t=Tc(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,e=Tc(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return e&&!t?this.audioBuffered():t&&!e?this.videoBuffered():xl(this.audioBuffered(),this.videoBuffered())},i.setDuration=function(t,e){void 0===e&&(e=pc),Sc({type:"mediaSource",sourceUpdater:this,action:wc.duration(t),name:"duration",doneFn:e})},i.endOfStream=function(t,e){void 0===t&&(t=null),void 0===e&&(e=pc),"string"!==typeof t&&(t=void 0),Sc({type:"mediaSource",sourceUpdater:this,action:wc.endOfStream(t),name:"endOfStream",doneFn:e})},i.removeAudio=function(t,e,i){void 0===i&&(i=pc),this.audioBuffered().length&&0!==this.audioBuffered().end(0)?Sc({type:"audio",sourceUpdater:this,action:wc.remove(t,e),doneFn:i,name:"remove"}):i()},i.removeVideo=function(t,e,i){void 0===i&&(i=pc),this.videoBuffered().length&&0!==this.videoBuffered().end(0)?Sc({type:"video",sourceUpdater:this,action:wc.remove(t,e),doneFn:i,name:"remove"}):i()},i.updating=function(){return!(!_c("audio",this)&&!_c("video",this))},i.audioTimestampOffset=function(t){return"undefined"!==typeof t&&this.audioBuffer&&this.audioTimestampOffset_!==t&&(Sc({type:"audio",sourceUpdater:this,action:wc.timestampOffset(t),name:"timestampOffset"}),this.audioTimestampOffset_=t),this.audioTimestampOffset_},i.videoTimestampOffset=function(t){return"undefined"!==typeof t&&this.videoBuffer&&this.videoTimestampOffset!==t&&(Sc({type:"video",sourceUpdater:this,action:wc.timestampOffset(t),name:"timestampOffset"}),this.videoTimestampOffset_=t),this.videoTimestampOffset_},i.audioQueueCallback=function(t){this.audioBuffer&&Sc({type:"audio",sourceUpdater:this,action:wc.callback(t),name:"callback"})},i.videoQueueCallback=function(t){this.videoBuffer&&Sc({type:"video",sourceUpdater:this,action:wc.callback(t),name:"callback"})},i.dispose=function(){var t=this;this.trigger("dispose"),gc.forEach((function(e){t.abort(e),t.canRemoveSourceBuffer()?t.removeSourceBuffer(e):t[e+"QueueCallback"]((function(){return bc(e,t)}))})),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},e}(Xo.EventTarget),kc=function(t){return decodeURIComponent(escape(String.fromCharCode.apply(null,t)))},xc=new Uint8Array("\n\n".split("").map((function(t){return t.charCodeAt(0)}))),Mc=function(t){function e(e,i){var n;return void 0===i&&(i={}),n=t.call(this,e,i)||this,n.mediaSource_=null,n.subtitlesTrack_=null,n.loaderType_="subtitle",n.featuresNativeTextTracks_=e.featuresNativeTextTracks,n.shouldSaveSegmentTimingInfo_=!1,n}p()(e,t);var i=e.prototype;return i.createTransmuxer_=function(){return null},i.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Xo.createTimeRanges();var t=this.subtitlesTrack_.cues,e=t[0].startTime,i=t[t.length-1].startTime;return Xo.createTimeRanges([[e,i]])},i.initSegmentForMap=function(t,e){if(void 0===e&&(e=!1),!t)return null;var i=du(t),n=this.initSegments_[i];if(e&&!n&&t.bytes){var r=xc.byteLength+t.bytes.byteLength,s=new Uint8Array(r);s.set(t.bytes),s.set(xc,t.bytes.byteLength),this.initSegments_[i]=n={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:s}}return n||t},i.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},i.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},i.track=function(t){return"undefined"===typeof t||(this.subtitlesTrack_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_},i.remove=function(t,e){Gh(t,e,this.subtitlesTrack_)},i.fillBuffer_=function(){var t=this,e=this.chooseNextRequest_();if(e){if(null===this.syncController_.timestampOffsetForTimeline(e.timeline)){var i=function(){t.state="READY",t.paused()||t.monitorBuffer_()};return this.syncController_.one("timestampoffset",i),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(e)}},i.timestampOffsetForSegment_=function(){return null},i.chooseNextRequest_=function(){return this.skipEmptySegments_(t.prototype.chooseNextRequest_.call(this))},i.skipEmptySegments_=function(t){while(t&&t.segment.empty){if(t.mediaIndex+1>=t.playlist.segments.length){t=null;break}t=this.generateSegmentInfo_({playlist:t.playlist,mediaIndex:t.mediaIndex+1,startOfSegment:t.startOfSegment+t.duration,isSyncRequest:t.isSyncRequest})}return t},i.stopForError=function(t){this.error(t),this.state="READY",this.pause(),this.trigger("error")},i.segmentRequestFinished_=function(t,e,i){var n=this;if(this.subtitlesTrack_){if(this.saveTransferStats_(e.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(t)return t.code===ah.TIMEOUT&&this.handleTimeout_(),t.code===ah.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(t);var r=this.pendingSegment_;this.saveBandwidthRelatedStats_(r.duration,e.stats),this.state="APPENDING",this.trigger("appending");var a=r.segment;if(a.map&&(a.map.bytes=e.map.bytes),r.bytes=e.bytes,"function"!==typeof s.a.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var o,l=function(){n.subtitlesTrack_.tech_.off("vttjsloaded",o),n.stopForError({message:"Error loading vtt.js"})};return o=function(){n.subtitlesTrack_.tech_.off("vttjserror",l),n.segmentRequestFinished_(t,e,i)},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",o),void this.subtitlesTrack_.tech_.one("vttjserror",l)}a.requested=!0;try{this.parseVTTCues_(r)}catch(u){return void this.stopForError({message:u.message})}if(this.updateTimeMapping_(r,this.syncController_.timelines[r.timeline],this.playlist_),r.cues.length?r.timingInfo={start:r.cues[0].startTime,end:r.cues[r.cues.length-1].endTime}:r.timingInfo={start:r.startOfSegment,end:r.startOfSegment+r.duration},r.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");r.byteLength=r.bytes.byteLength,this.mediaSecondsLoaded+=a.duration,r.cues.forEach((function(t){n.subtitlesTrack_.addCue(n.featuresNativeTextTracks_?new s.a.VTTCue(t.startTime,t.endTime,t.text):t)})),Wh(this.subtitlesTrack_),this.handleAppendsDone_()}else this.state="READY"},i.handleData_=function(){},i.updateTimingInfoEnd_=function(){},i.parseVTTCues_=function(t){var e,i=!1;"function"===typeof s.a.TextDecoder?e=new s.a.TextDecoder("utf8"):(e=s.a.WebVTT.StringDecoder(),i=!0);var n=new s.a.WebVTT.Parser(s.a,s.a.vttjs,e);if(t.cues=[],t.timestampmap={MPEGTS:0,LOCAL:0},n.oncue=t.cues.push.bind(t.cues),n.ontimestampmap=function(e){t.timestampmap=e},n.onparsingerror=function(t){Xo.log.warn("Error encountered when parsing cues: "+t.message)},t.segment.map){var r=t.segment.map.bytes;i&&(r=kc(r)),n.parse(r)}var a=t.bytes;i&&(a=kc(a)),n.parse(a),n.flush()},i.updateTimeMapping_=function(t,e,i){var n=t.segment;if(e)if(t.cues.length){var r=t.timestampmap,s=r.MPEGTS/Je["ONE_SECOND_IN_TS"]-r.LOCAL+e.mapping;if(t.cues.forEach((function(t){t.startTime+=s,t.endTime+=s})),!i.syncInfo){var a=t.cues[0].startTime,o=t.cues[t.cues.length-1].startTime;i.syncInfo={mediaSequence:i.mediaSequence+t.mediaIndex,time:Math.min(a,o-n.duration)}}}else n.empty=!0},e}(dc),Ac=function(t,e){for(var i=t.cues,n=0;n<i.length;n++){var r=i[n];if(e>=r.adStartTime&&e<=r.adEndTime)return r}return null},Ic=function(t,e,i){if(void 0===i&&(i=0),t.segments)for(var n,r=i,a=0;a<t.segments.length;a++){var o=t.segments[a];if(n||(n=Ac(e,r+o.duration/2)),n){if("cueIn"in o){n.endTime=r,n.adEndTime=r,r+=o.duration,n=null;continue}if(r<n.endTime){r+=o.duration;continue}n.endTime+=o.duration}else if("cueOut"in o&&(n=new s.a.VTTCue(r,r+o.duration,o.cueOut),n.adStartTime=r,n.adEndTime=r+parseFloat(o.cueOut),e.addCue(n)),"cueOutCont"in o){var l=o.cueOutCont.split("/").map(parseFloat),u=l[0],h=l[1];n=new s.a.VTTCue(r,r+o.duration,""),n.adStartTime=r-u,n.adEndTime=n.adStartTime+h,e.addCue(n)}r+=o.duration}},Oc=function(t,e,i){void 0===i&&(i=0);var n=e.segments;return e.endList||0===i?t:n.length-(t+1)},Pc=[{name:"VOD",run:function(t,e,i,n,r){if(i!==1/0){var s={time:0,segmentIndex:0};return s}return null}},{name:"ProgramDateTime",run:function(t,e,i,n,r){if(!Object.keys(t.timelineToDatetimeMappings).length)return null;var s=e.segments||[],a=null,o=null;r=r||0;for(var l=0;l<s.length;l++){var u=Oc(l,e,r),h=s[u],c=t.timelineToDatetimeMappings[h.timeline];if(c&&h.dateTimeObject){var d=h.dateTimeObject.getTime()/1e3,p=d+c,f=Math.abs(r-p);if(null!==o&&(0===f||o<f))break;o=f,a={time:p,segmentIndex:u}}}return a}},{name:"Segment",run:function(t,e,i,n,r){var s=e.segments||[],a=null,o=null;r=r||0;for(var l=0;l<s.length;l++){var u=Oc(l,e,r),h=s[u];if(h.timeline===n&&"undefined"!==typeof h.start){var c=Math.abs(r-h.start);if(null!==o&&o<c)break;(!a||null===o||o>=c)&&(o=c,a={time:h.start,segmentIndex:u})}}return a}},{name:"Discontinuity",run:function(t,e,i,n,r){var s=null;if(r=r||0,e.discontinuityStarts&&e.discontinuityStarts.length)for(var a=null,o=0;o<e.discontinuityStarts.length;o++){var l=e.discontinuityStarts[o],u=e.discontinuitySequence+o+1,h=t.discontinuities[u];if(h){var c=Math.abs(r-h.time);if(null!==a&&a<c)break;(!s||null===a||a>=c)&&(a=c,s={time:h.time,segmentIndex:l})}}return s}},{name:"Playlist",run:function(t,e,i,n,r){if(e.syncInfo){var s={time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence};return s}return null}}],Lc=function(t){function e(e){var i;return i=t.call(this)||this,i.timelines=[],i.discontinuities=[],i.timelineToDatetimeMappings={},i.logger_=el("SyncController"),i}p()(e,t);var i=e.prototype;return i.getSyncPoint=function(t,e,i,n){var r=this.runStrategies_(t,e,i,n);return r.length?this.selectSyncPoint_(r,{key:"time",value:n}):null},i.getExpiredTime=function(t,e){if(!t||!t.segments)return null;var i=this.runStrategies_(t,e,t.discontinuitySequence,0);if(!i.length)return null;var n=this.selectSyncPoint_(i,{key:"segmentIndex",value:0});return n.segmentIndex>0&&(n.time*=-1),Math.abs(n.time+Fl(t,n.segmentIndex,0))},i.runStrategies_=function(t,e,i,n){for(var r=[],s=0;s<Pc.length;s++){var a=Pc[s],o=a.run(this,t,e,i,n);o&&(o.strategy=a.name,r.push({strategy:a.name,syncPoint:o}))}return r},i.selectSyncPoint_=function(t,e){for(var i=t[0].syncPoint,n=Math.abs(t[0].syncPoint[e.key]-e.value),r=t[0].strategy,s=1;s<t.length;s++){var a=Math.abs(t[s].syncPoint[e.key]-e.value);a<n&&(n=a,i=t[s].syncPoint,r=t[s].strategy)}return this.logger_("syncPoint for ["+e.key+": "+e.value+"] chosen with strategy ["+r+"]: [time:"+i.time+", segmentIndex:"+i.segmentIndex+"]"),i},i.saveExpiredSegmentInfo=function(t,e){for(var i=e.mediaSequence-t.mediaSequence,n=i-1;n>=0;n--){var r=t.segments[n];if(r&&"undefined"!==typeof r.start){e.syncInfo={mediaSequence:t.mediaSequence+n,time:r.start},this.logger_("playlist refresh sync: [time:"+e.syncInfo.time+", mediaSequence: "+e.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}},i.setDateTimeMappingForStart=function(t){if(this.timelineToDatetimeMappings={},t.segments&&t.segments.length&&t.segments[0].dateTimeObject){var e=t.segments[0],i=e.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[e.timeline]=-i}},i.saveSegmentTimingInfo=function(t){var e=t.segmentInfo,i=t.shouldSaveTimelineMapping,n=this.calculateSegmentTimeMapping_(e,e.timingInfo,i),r=e.segment;n&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:r.start}));var s=r.dateTimeObject;r.discontinuity&&i&&s&&(this.timelineToDatetimeMappings[r.timeline]=-s.getTime()/1e3)},i.timestampOffsetForTimeline=function(t){return"undefined"===typeof this.timelines[t]?null:this.timelines[t].time},i.mappingForTimeline=function(t){return"undefined"===typeof this.timelines[t]?null:this.timelines[t].mapping},i.calculateSegmentTimeMapping_=function(t,e,i){var n=t.segment,r=this.timelines[t.timeline];if("number"===typeof t.timestampOffset)r={time:t.startOfSegment,mapping:t.startOfSegment-e.start},i&&(this.timelines[t.timeline]=r,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+t.timeline+": [time: "+r.time+"] [mapping: "+r.mapping+"]")),n.start=t.startOfSegment,n.end=e.end+r.mapping;else{if(!r)return!1;n.start=e.start+r.mapping,n.end=e.end+r.mapping}return!0},i.saveDiscontinuitySyncInfo_=function(t){var e=t.playlist,i=t.segment;if(i.discontinuity)this.discontinuities[i.timeline]={time:i.start,accuracy:0};else if(e.discontinuityStarts&&e.discontinuityStarts.length)for(var n=0;n<e.discontinuityStarts.length;n++){var r=e.discontinuityStarts[n],s=e.discontinuitySequence+n+1,a=r-t.mediaIndex,o=Math.abs(a);if(!this.discontinuities[s]||this.discontinuities[s].accuracy>o){var l=void 0;l=a<0?i.start-Fl(e,t.mediaIndex,r):i.end+Fl(e,t.mediaIndex+1,r),this.discontinuities[s]={time:l,accuracy:o}}}},i.dispose=function(){this.trigger("dispose"),this.off()},e}(Xo.EventTarget),Rc=function(t){function e(){var e;return e=t.call(this)||this,e.pendingTimelineChanges_={},e.lastTimelineChanges_={},e}p()(e,t);var i=e.prototype;return i.clearPendingTimelineChange=function(t){this.pendingTimelineChanges_[t]=null,this.trigger("pendingtimelinechange")},i.pendingTimelineChange=function(t){var e=t.type,i=t.from,n=t.to;return"number"===typeof i&&"number"===typeof n&&(this.pendingTimelineChanges_[e]={type:e,from:i,to:n},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]},i.lastTimelineChange=function(t){var e=t.type,i=t.from,n=t.to;return"number"===typeof i&&"number"===typeof n&&(this.lastTimelineChanges_[e]={type:e,from:i,to:n},delete this.pendingTimelineChanges_[e],this.trigger("timelinechange")),this.lastTimelineChanges_[e]},i.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},e}(Xo.EventTarget),Dc=Hu(qu((function(){function t(t,i,n){return n={path:i,exports:{},require:function(t,i){return e(t,void 0===i||null===i?n.path:i)}},t(n,n.exports),n.exports}function e(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var i=t((function(t){function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}t.exports=i,t.exports["default"]=t.exports,t.exports.__esModule=!0})),n=t((function(t){function e(i,n){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},t.exports["default"]=t.exports,t.exports.__esModule=!0,e(i,n)}t.exports=e,t.exports["default"]=t.exports,t.exports.__esModule=!0})),r=t((function(t){function e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,n(t,e)}t.exports=e,t.exports["default"]=t.exports,t.exports.__esModule=!0})),s=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},e.off=function(t,e){if(!this.listeners[t])return!1;var i=this.listeners[t].indexOf(e);return this.listeners[t]=this.listeners[t].slice(0),this.listeners[t].splice(i,1),i>-1},e.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var i=e.length,n=0;n<i;++n)e[n].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),s=e.length,a=0;a<s;++a)e[a].apply(this,r)},e.dispose=function(){this.listeners={}},e.pipe=function(t){this.on("data",(function(e){t.push(e)}))},t}();
/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */
function a(t){return t.subarray(0,t.byteLength-t[t.byteLength-1])}
/*! @name aes-decrypter @version 3.1.2 @license Apache-2.0 */var o=function(){var t,e,i,n,r,s,a,o,l,u=[[[],[],[],[],[]],[[],[],[],[],[]]],h=u[0],c=u[1],d=h[4],p=c[4],f=[],m=[];for(t=0;t<256;t++)m[(f[t]=t<<1^283*(t>>7))^t]=t;for(e=i=0;!d[e];e^=n||1,i=m[i]||1)for(a=i^i<<1^i<<2^i<<3^i<<4,a=a>>8^255&a^99,d[e]=a,p[a]=e,s=f[r=f[n=f[e]]],l=16843009*s^65537*r^257*n^16843008*e,o=257*f[a]^16843008*a,t=0;t<4;t++)h[t][e]=o=o<<24^o>>>8,c[t][a]=l=l<<24^l>>>8;for(t=0;t<5;t++)h[t]=h[t].slice(0),c[t]=c[t].slice(0);return u},l=null,u=function(){function t(t){var e,i,n;l||(l=o()),this._tables=[[l[0][0].slice(),l[0][1].slice(),l[0][2].slice(),l[0][3].slice(),l[0][4].slice()],[l[1][0].slice(),l[1][1].slice(),l[1][2].slice(),l[1][3].slice(),l[1][4].slice()]];var r=this._tables[0][4],s=this._tables[1],a=t.length,u=1;if(4!==a&&6!==a&&8!==a)throw new Error("Invalid aes key size");var h=t.slice(0),c=[];for(this._key=[h,c],e=a;e<4*a+28;e++)n=h[e-1],(e%a===0||8===a&&e%a===4)&&(n=r[n>>>24]<<24^r[n>>16&255]<<16^r[n>>8&255]<<8^r[255&n],e%a===0&&(n=n<<8^n>>>24^u<<24,u=u<<1^283*(u>>7))),h[e]=h[e-a]^n;for(i=0;e;i++,e--)n=h[3&i?e:e-4],c[i]=e<=4||i<4?n:s[0][r[n>>>24]]^s[1][r[n>>16&255]]^s[2][r[n>>8&255]]^s[3][r[255&n]]}var e=t.prototype;return e.decrypt=function(t,e,i,n,r,s){var a,o,l,u,h=this._key[1],c=t^h[0],d=n^h[1],p=i^h[2],f=e^h[3],m=h.length/4-2,g=4,_=this._tables[1],v=_[0],y=_[1],b=_[2],T=_[3],w=_[4];for(u=0;u<m;u++)a=v[c>>>24]^y[d>>16&255]^b[p>>8&255]^T[255&f]^h[g],o=v[d>>>24]^y[p>>16&255]^b[f>>8&255]^T[255&c]^h[g+1],l=v[p>>>24]^y[f>>16&255]^b[c>>8&255]^T[255&d]^h[g+2],f=v[f>>>24]^y[c>>16&255]^b[d>>8&255]^T[255&p]^h[g+3],g+=4,c=a,d=o,p=l;for(u=0;u<4;u++)r[(3&-u)+s]=w[c>>>24]<<24^w[d>>16&255]<<16^w[p>>8&255]<<8^w[255&f]^h[g++],a=c,c=d,d=p,p=f,f=a},t}(),h=function(t){function e(){var e;return e=t.call(this,s)||this,e.jobs=[],e.delay=1,e.timeout_=null,e}r(e,t);var i=e.prototype;return i.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},i.push=function(t){this.jobs.push(t),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},e}(s),c=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},d=function(t,e,i){var n,r,s,a,o,l,h,d,p,f=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2),m=new u(Array.prototype.slice.call(e)),g=new Uint8Array(t.byteLength),_=new Int32Array(g.buffer);for(n=i[0],r=i[1],s=i[2],a=i[3],p=0;p<f.length;p+=4)o=c(f[p]),l=c(f[p+1]),h=c(f[p+2]),d=c(f[p+3]),m.decrypt(o,l,h,d,_,p),_[p]=c(_[p]^n),_[p+1]=c(_[p+1]^r),_[p+2]=c(_[p+2]^s),_[p+3]=c(_[p+3]^a),n=o,r=l,s=h,a=d;return g},p=function(){function t(e,i,n,r){var s=t.STEP,o=new Int32Array(e.buffer),l=new Uint8Array(e.byteLength),u=0;for(this.asyncStream_=new h,this.asyncStream_.push(this.decryptChunk_(o.subarray(u,u+s),i,n,l)),u=s;u<o.length;u+=s)n=new Uint32Array([c(o[u-4]),c(o[u-3]),c(o[u-2]),c(o[u-1])]),this.asyncStream_.push(this.decryptChunk_(o.subarray(u,u+s),i,n,l));this.asyncStream_.push((function(){r(null,a(l))}))}var e=t.prototype;return e.decryptChunk_=function(t,e,i,n){return function(){var r=d(t,e,i);n.set(r,t.byteOffset)}},i(t,null,[{key:"STEP",get:function(){return 32e3}}]),t}(),f=function(t){var e={};return Object.keys(t).forEach((function(i){var n=t[i];ArrayBuffer.isView(n)?e[i]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:e[i]=n})),e};self.onmessage=function(t){var e=t.data,i=new Uint8Array(e.encrypted.bytes,e.encrypted.byteOffset,e.encrypted.byteLength),n=new Uint32Array(e.key.bytes,e.key.byteOffset,e.key.byteLength/4),r=new Uint32Array(e.iv.bytes,e.iv.byteOffset,e.iv.byteLength/4);new p(i,n,r,(function(t,i){self.postMessage(f({source:e.source,decrypted:i}),[i.buffer])}))}}))),Nc=Vu(Dc),Bc=function(t){var e=t["default"]?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},jc=function(t,e){t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},Uc=function(t,e){e.activePlaylistLoader=t,t.load()},Fc=function(t,e){return function(){var i=e.segmentLoaders,n=i[t],r=i.main,s=e.mediaTypes[t],a=s.activeTrack(),o=s.getActiveGroup(),l=s.activePlaylistLoader,u=s.lastGroup_;o&&u&&o.id===u.id||(s.lastGroup_=o,s.lastTrack_=a,jc(n,s),o&&!o.isMasterPlaylist&&(o.playlistLoader?(n.resyncLoader(),Uc(o.playlistLoader,s)):l&&r.resetEverything()))}},zc=function(t,e){return function(){var i=e.segmentLoaders[t],n=e.mediaTypes[t];n.lastGroup_=null,i.abort(),i.pause()}},Vc=function(t,e){return function(){var i=e.masterPlaylistLoader,n=e.segmentLoaders,r=n[t],s=n.main,a=e.mediaTypes[t],o=a.activeTrack(),l=a.getActiveGroup(),u=a.activePlaylistLoader,h=a.lastTrack_;if((!h||!o||h.id!==o.id)&&(a.lastGroup_=l,a.lastTrack_=o,jc(r,a),l)){if(l.isMasterPlaylist){if(!o||!h||o.id===h.id)return;var c=e.vhs.masterPlaylistController_,d=c.selectPlaylist();if(c.media()===d)return;return a.logger_("track change. Switching master audio from "+h.id+" to "+o.id),i.pause(),s.resetEverything(),void c.fastQualityChange_(d)}if("AUDIO"===t){if(!l.playlistLoader)return s.setAudio(!0),void s.resetEverything();r.setAudio(!0),s.setAudio(!1)}u!==l.playlistLoader?(r.track&&r.track(o),r.resetEverything(),Uc(l.playlistLoader,a)):Uc(l.playlistLoader,a)}}},Hc={AUDIO:function(t,e){return function(){var i=e.segmentLoaders[t],n=e.mediaTypes[t],r=e.blacklistCurrentPlaylist;jc(i,n);var s=n.activeTrack(),a=n.activeGroup(),o=(a.filter((function(t){return t["default"]}))[0]||a[0]).id,l=n.tracks[o];if(s!==l){for(var u in Xo.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),n.tracks)n.tracks[u].enabled=n.tracks[u]===l;n.onTrackChanged()}else r({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(t,e){return function(){var i=e.segmentLoaders[t],n=e.mediaTypes[t];Xo.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),jc(i,n);var r=n.activeTrack();r&&(r.mode="disabled"),n.onTrackChanged()}}},qc={AUDIO:function(t,e,i){if(e){var n=i.tech,r=i.requestOptions,s=i.segmentLoaders[t];e.on("loadedmetadata",(function(){var t=e.media();s.playlist(t,r),(!n.paused()||t.endList&&"none"!==n.preload())&&s.load()})),e.on("loadedplaylist",(function(){s.playlist(e.media(),r),n.paused()||s.load()})),e.on("error",Hc[t](t,i))}},SUBTITLES:function(t,e,i){var n=i.tech,r=i.requestOptions,s=i.segmentLoaders[t],a=i.mediaTypes[t];e.on("loadedmetadata",(function(){var t=e.media();s.playlist(t,r),s.track(a.activeTrack()),(!n.paused()||t.endList&&"none"!==n.preload())&&s.load()})),e.on("loadedplaylist",(function(){s.playlist(e.media(),r),n.paused()||s.load()})),e.on("error",Hc[t](t,i))}},Gc={AUDIO:function(t,e){var i=e.vhs,n=e.sourceType,r=e.segmentLoaders[t],s=e.requestOptions,a=e.master.mediaGroups,o=e.mediaTypes[t],l=o.groups,u=o.tracks,h=o.logger_,c=e.masterPlaylistLoader,d=tu(c.master);for(var p in a[t]&&0!==Object.keys(a[t]).length||(a[t]={main:{default:{default:!0}}}),a[t])for(var f in l[p]||(l[p]=[]),a[t][p]){var m=a[t][p][f],g=void 0;if(d?(h("AUDIO group '"+p+"' label '"+f+"' is a master playlist"),m.isMasterPlaylist=!0,g=null):g="vhs-json"===n&&m.playlists?new bl(m.playlists[0],i,s):m.resolvedUri?new bl(m.resolvedUri,i,s):m.playlists&&"dash"===n?new Bu(m.playlists[0],i,s,c):null,m=Xo.mergeOptions({id:f,playlistLoader:g},m),qc[t](t,m.playlistLoader,e),l[p].push(m),"undefined"===typeof u[f]){var _=new Xo.AudioTrack({id:f,kind:Bc(m),enabled:!1,language:m.language,default:m["default"],label:f});u[f]=_}}r.on("error",Hc[t](t,e))},SUBTITLES:function(t,e){var i=e.tech,n=e.vhs,r=e.sourceType,s=e.segmentLoaders[t],a=e.requestOptions,o=e.master.mediaGroups,l=e.mediaTypes[t],u=l.groups,h=l.tracks,c=e.masterPlaylistLoader;for(var d in o[t])for(var p in u[d]||(u[d]=[]),o[t][d])if(!o[t][d][p].forced){var f=o[t][d][p],m=void 0;if("hls"===r)m=new bl(f.resolvedUri,n,a);else if("dash"===r){var g=f.playlists.filter((function(t){return t.excludeUntil!==1/0}));if(!g.length)return;m=new Bu(f.playlists[0],n,a,c)}else"vhs-json"===r&&(m=new bl(f.playlists?f.playlists[0]:f.resolvedUri,n,a));if(f=Xo.mergeOptions({id:p,playlistLoader:m},f),qc[t](t,f.playlistLoader,e),u[d].push(f),"undefined"===typeof h[p]){var _=i.addRemoteTextTrack({id:p,kind:"subtitles",default:f["default"]&&f.autoselect,language:f.language,label:p},!1).track;h[p]=_}}s.on("error",Hc[t](t,e))},"CLOSED-CAPTIONS":function(t,e){var i=e.tech,n=e.master.mediaGroups,r=e.mediaTypes[t],s=r.groups,a=r.tracks;for(var o in n[t])for(var l in s[o]||(s[o]=[]),n[t][o]){var u=n[t][o][l];if(u.instreamId.match(/CC\d/)&&(s[o].push(Xo.mergeOptions({id:l},u)),"undefined"===typeof a[l])){var h=i.addRemoteTextTrack({id:u.instreamId,kind:"captions",default:u["default"]&&u.autoselect,language:u.language,label:l},!1).track;a[l]=h}}}},Wc=function t(e,i){for(var n=0;n<e.length;n++){if(Ql(i,e[n]))return!0;if(e[n].playlists&&t(e[n].playlists,i))return!0}return!1},$c=function(t,e){return function(i){var n=e.masterPlaylistLoader,r=e.mediaTypes[t].groups,s=n.media();if(!s)return null;var a=null;s.attributes[t]&&(a=r[s.attributes[t]]);var o=Object.keys(r);if(!a)if("AUDIO"===t&&o.length>1&&tu(e.master))for(var l=0;l<o.length;l++){var u=r[o[l]];if(Wc(u,s)){a=u;break}}else r.main?a=r.main:1===o.length&&(a=r[o[0]]);return"undefined"===typeof i?a:null!==i&&a&&a.filter((function(t){return t.id===i.id}))[0]||null}},Kc={AUDIO:function(t,e){return function(){var i=e.mediaTypes[t].tracks;for(var n in i)if(i[n].enabled)return i[n];return null}},SUBTITLES:function(t,e){return function(){var i=e.mediaTypes[t].tracks;for(var n in i)if("showing"===i[n].mode||"hidden"===i[n].mode)return i[n];return null}}},Zc=function(t,e){var i=e.mediaTypes;return function(){var e=i[t].activeTrack();return e?i[t].activeGroup(e):null}},Xc=function(t){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(e){Gc[e](e,t)}));var e=t.mediaTypes,i=t.masterPlaylistLoader,n=t.tech,r=t.vhs,s=t.segmentLoaders,a=s["AUDIO"],o=s.main;["AUDIO","SUBTITLES"].forEach((function(i){e[i].activeGroup=$c(i,t),e[i].activeTrack=Kc[i](i,t),e[i].onGroupChanged=Fc(i,t),e[i].onGroupChanging=zc(i,t),e[i].onTrackChanged=Vc(i,t),e[i].getActiveGroup=Zc(i,t)}));var l=e.AUDIO.activeGroup();if(l){var u=(l.filter((function(t){return t["default"]}))[0]||l[0]).id;e.AUDIO.tracks[u].enabled=!0,e.AUDIO.onGroupChanged(),e.AUDIO.onTrackChanged();var h=e.AUDIO.getActiveGroup();h.playlistLoader?(o.setAudio(!1),a.setAudio(!0)):o.setAudio(!0)}i.on("mediachange",(function(){["AUDIO","SUBTITLES"].forEach((function(t){return e[t].onGroupChanged()}))})),i.on("mediachanging",(function(){["AUDIO","SUBTITLES"].forEach((function(t){return e[t].onGroupChanging()}))}));var c=function(){e.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"vhs-audio-change"}),n.trigger({type:"usage",name:"hls-audio-change"})};for(var d in n.audioTracks().addEventListener("change",c),n.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),r.on("dispose",(function(){n.audioTracks().removeEventListener("change",c),n.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)})),n.clearTracks("audio"),e.AUDIO.tracks)n.audioTracks().addTrack(e.AUDIO.tracks[d])},Yc=function(){var t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(e){t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:pc,activeTrack:pc,getActiveGroup:pc,onGroupChanged:pc,onTrackChanged:pc,lastTrack_:null,logger_:el("MediaGroups["+e+"]")}})),t},Qc=120,Jc=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],td=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},ed=function(t){var e=t.currentPlaylist,i=t.nextPlaylist,n=t.forwardBuffer,r=t.bufferLowWaterLine,s=t.bufferHighWaterLine,a=t.duration,o=t.experimentalBufferBasedABR,l=t.log;if(!i)return Xo.log.warn("We received no playlist to switch to. Please check your stream."),!1;var u="allowing switch "+(e&&e.id||"null")+" -> "+i.id;if(!e||!e.endList)return l(u+" as current playlist "+(e?"is live":"is not set")),!0;if(i.id===e.id)return!1;var h=o?ju.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:ju.MAX_BUFFER_LOW_WATER_LINE;if(a<h)return l(u+" as duration < max low water line ("+a+" < "+h+")"),!0;var c=i.attributes.BANDWIDTH,d=e.attributes.BANDWIDTH;if(c<d&&(!o||n<s)){var p=u+" as next bandwidth < current bandwidth ("+c+" < "+d+")";return o&&(p+=" and forwardBuffer < bufferHighWaterLine ("+n+" < "+s+")"),l(p),!0}if((!o||c>d)&&n>=r){var f=u+" as forwardBuffer >= bufferLowWaterLine ("+n+" >= "+r+")";return o&&(f+=" and next bandwidth > current bandwidth ("+c+" > "+d+")"),l(f),!0}return l("not "+u+" as no switching criteria met"),!1},id=function(t){function e(e){var i;i=t.call(this)||this;var n=e.src,r=e.handleManifestRedirects,a=e.withCredentials,o=e.tech,l=e.bandwidth,u=e.externVhs,h=e.useCueTags,d=e.blacklistDuration,p=e.enableLowInitialPlaylist,f=e.sourceType,m=e.cacheEncryptionKeys,g=e.experimentalBufferBasedABR;if(!n)throw new Error("A non-empty playlist URL or JSON manifest string is required");fc=u,i.experimentalBufferBasedABR=Boolean(g),i.withCredentials=a,i.tech_=o,i.vhs_=o.vhs,i.sourceType_=f,i.useCueTags_=h,i.blacklistDuration=d,i.enableLowInitialPlaylist=p,i.useCueTags_&&(i.cueTagsTrack_=i.tech_.addTextTrack("metadata","ad-cues"),i.cueTagsTrack_.inBandMetadataTrackDispatchType=""),i.requestOptions_={withCredentials:a,handleManifestRedirects:r,timeout:null},i.on("error",i.pauseLoading),i.mediaTypes_=Yc(),i.mediaSource=new s.a.MediaSource,i.handleDurationChange_=i.handleDurationChange_.bind(c()(i)),i.handleSourceOpen_=i.handleSourceOpen_.bind(c()(i)),i.handleSourceEnded_=i.handleSourceEnded_.bind(c()(i)),i.mediaSource.addEventListener("durationchange",i.handleDurationChange_),i.mediaSource.addEventListener("sourceopen",i.handleSourceOpen_),i.mediaSource.addEventListener("sourceended",i.handleSourceEnded_),i.seekable_=Xo.createTimeRanges(),i.hasPlayed_=!1,i.syncController_=new Lc(e),i.segmentMetadataTrack_=o.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,i.decrypter_=new Nc,i.sourceUpdater_=new Cc(i.mediaSource),i.inbandTextTracks_={},i.timelineChangeController_=new Rc;var _={vhs:i.vhs_,parse708captions:e.parse708captions,mediaSource:i.mediaSource,currentTime:i.tech_.currentTime.bind(i.tech_),seekable:function(){return i.seekable()},seeking:function(){return i.tech_.seeking()},duration:function(){return i.duration()},hasPlayed:function(){return i.hasPlayed_},goalBufferLength:function(){return i.goalBufferLength()},bandwidth:l,syncController:i.syncController_,decrypter:i.decrypter_,sourceType:i.sourceType_,inbandTextTracks:i.inbandTextTracks_,cacheEncryptionKeys:m,sourceUpdater:i.sourceUpdater_,timelineChangeController:i.timelineChangeController_};return i.masterPlaylistLoader_="dash"===i.sourceType_?new Bu(n,i.vhs_,i.requestOptions_):new bl(n,i.vhs_,i.requestOptions_),i.setupMasterPlaylistLoaderListeners_(),i.mainSegmentLoader_=new dc(Xo.mergeOptions(_,{segmentMetadataTrack:i.segmentMetadataTrack_,loaderType:"main"}),e),i.audioSegmentLoader_=new dc(Xo.mergeOptions(_,{loaderType:"audio"}),e),i.subtitleSegmentLoader_=new Mc(Xo.mergeOptions(_,{loaderType:"vtt",featuresNativeTextTracks:i.tech_.featuresNativeTextTracks}),e),i.setupSegmentLoaderListeners_(),i.experimentalBufferBasedABR&&(i.masterPlaylistLoader_.one("loadedplaylist",(function(){return i.startABRTimer_()})),i.tech_.on("pause",(function(){return i.stopABRTimer_()})),i.tech_.on("play",(function(){return i.startABRTimer_()}))),Jc.forEach((function(t){i[t+"_"]=td.bind(c()(i),t)})),i.logger_=el("MPC"),i.triggeredFmp4Usage=!1,"none"===i.tech_.preload()?(i.loadOnPlay_=function(){i.loadOnPlay_=null,i.masterPlaylistLoader_.load()},i.tech_.one("play",i.loadOnPlay_)):i.masterPlaylistLoader_.load(),i}p()(e,t);var i=e.prototype;return i.checkABR_=function(){var t=this.selectPlaylist();this.shouldSwitchToMedia_(t)&&this.switchMedia_(t,"abr")},i.switchMedia_=function(t,e,i){var n=this.media(),r=n&&(n.id||n.uri),s=t.id||t.uri;r&&r!==s&&(this.logger_("switch media "+r+" -> "+s+" from "+e),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+e})),this.masterPlaylistLoader_.media(t,i)},i.startABRTimer_=function(){var t=this;this.stopABRTimer_(),this.abrTimer_=s.a.setInterval((function(){return t.checkABR_()}),250)},i.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(s.a.clearInterval(this.abrTimer_),this.abrTimer_=null)},i.getAudioTrackPlaylists_=function(){var t=this.master();if(!t||!t.mediaGroups||!t.mediaGroups.AUDIO)return t&&t.playlists||[];var e,i=t.mediaGroups.AUDIO,n=Object.keys(i);if(Object.keys(this.mediaTypes_.AUDIO.groups).length)e=this.mediaTypes_.AUDIO.activeTrack();else{var r=i.main||n.length&&i[n[0]];for(var s in r)if(r[s]["default"]){e={label:s};break}}if(!e)return[];var a=[];for(var o in i)if(i[o][e.label]){var l=i[o][e.label];l.playlists?a.push.apply(a,l.playlists):a.push(l)}return a},i.setupMasterPlaylistLoaderListeners_=function(){var t=this;this.masterPlaylistLoader_.on("loadedmetadata",(function(){var e=t.masterPlaylistLoader_.media(),i=1.5*e.targetDuration*1e3;Yl(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=i,e.endList&&"none"!==t.tech_.preload()&&(t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.load()),Xc({sourceType:t.sourceType_,segmentLoaders:{AUDIO:t.audioSegmentLoader_,SUBTITLES:t.subtitleSegmentLoader_,main:t.mainSegmentLoader_},tech:t.tech_,requestOptions:t.requestOptions_,masterPlaylistLoader:t.masterPlaylistLoader_,vhs:t.vhs_,master:t.master(),mediaTypes:t.mediaTypes_,blacklistCurrentPlaylist:t.blacklistCurrentPlaylist.bind(t)}),t.triggerPresenceUsage_(t.master(),e),t.setupFirstPlay(),!t.mediaTypes_.AUDIO.activePlaylistLoader||t.mediaTypes_.AUDIO.activePlaylistLoader.media()?t.trigger("selectedinitialmedia"):t.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",(function(){t.trigger("selectedinitialmedia")}))})),this.masterPlaylistLoader_.on("loadedplaylist",(function(){t.loadOnPlay_&&t.tech_.off("play",t.loadOnPlay_);var e=t.masterPlaylistLoader_.media();if(!e){var i;if(t.excludeUnsupportedVariants_(),t.enableLowInitialPlaylist&&(i=t.selectInitialPlaylist()),i||(i=t.selectPlaylist()),!i||!t.shouldSwitchToMedia_(i))return;t.initialMedia_=i,t.switchMedia_(t.initialMedia_,"initial");var n="vhs-json"===t.sourceType_&&t.initialMedia_.segments;if(!n)return;e=t.initialMedia_}t.handleUpdatedMediaPlaylist(e)})),this.masterPlaylistLoader_.on("error",(function(){t.blacklistCurrentPlaylist(t.masterPlaylistLoader_.error)})),this.masterPlaylistLoader_.on("mediachanging",(function(){t.mainSegmentLoader_.abort(),t.mainSegmentLoader_.pause()})),this.masterPlaylistLoader_.on("mediachange",(function(){var e=t.masterPlaylistLoader_.media(),i=1.5*e.targetDuration*1e3;Yl(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=i,t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.load(),t.tech_.trigger({type:"mediachange",bubbles:!0})})),this.masterPlaylistLoader_.on("playlistunchanged",(function(){var e=t.masterPlaylistLoader_.media();if("playlist-unchanged"!==e.lastExcludeReason_){var i=t.stuckAtPlaylistEnd_(e);i&&(t.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),t.tech_.trigger("playliststuck"))}})),this.masterPlaylistLoader_.on("renditiondisabled",(function(){t.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),t.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})})),this.masterPlaylistLoader_.on("renditionenabled",(function(){t.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),t.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})}))},i.handleUpdatedMediaPlaylist=function(t){this.useCueTags_&&this.updateAdCues_(t),this.mainSegmentLoader_.playlist(t,this.requestOptions_),this.updateDuration(!t.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},i.triggerPresenceUsage_=function(t,e){var i=t.mediaGroups||{},n=!0,r=Object.keys(i.AUDIO);for(var s in i.AUDIO)for(var a in i.AUDIO[s]){var o=i.AUDIO[s][a];o.uri||(n=!1)}n&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(i.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),fc.Playlist.isAes(e)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),r.length&&Object.keys(i.AUDIO[r[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},i.shouldSwitchToMedia_=function(t){var e=this.masterPlaylistLoader_.media(),i=this.tech_.buffered(),n=i.length?i.end(i.length-1)-this.tech_.currentTime():0,r=this.bufferLowWaterLine(),s=this.bufferHighWaterLine();return ed({currentPlaylist:e,nextPlaylist:t,forwardBuffer:n,bufferLowWaterLine:r,bufferHighWaterLine:s,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},i.setupSegmentLoaderListeners_=function(){var t=this;this.experimentalBufferBasedABR||(this.mainSegmentLoader_.on("bandwidthupdate",(function(){var e=t.selectPlaylist();t.shouldSwitchToMedia_(e)&&t.switchMedia_(e,"bandwidthupdate"),t.tech_.trigger("bandwidthupdate")})),this.mainSegmentLoader_.on("progress",(function(){t.trigger("progress")}))),this.mainSegmentLoader_.on("error",(function(){t.blacklistCurrentPlaylist(t.mainSegmentLoader_.error())})),this.mainSegmentLoader_.on("appenderror",(function(){t.error=t.mainSegmentLoader_.error_,t.trigger("error")})),this.mainSegmentLoader_.on("syncinfoupdate",(function(){t.onSyncInfoUpdate_()})),this.mainSegmentLoader_.on("timestampoffset",(function(){t.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),t.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})})),this.audioSegmentLoader_.on("syncinfoupdate",(function(){t.onSyncInfoUpdate_()})),this.audioSegmentLoader_.on("appenderror",(function(){t.error=t.audioSegmentLoader_.error_,t.trigger("error")})),this.mainSegmentLoader_.on("ended",(function(){t.logger_("main segment loader ended"),t.onEndOfStream()})),this.mainSegmentLoader_.on("earlyabort",(function(e){t.experimentalBufferBasedABR||(t.delegateLoaders_("all",["abort"]),t.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},Qc))}));var e=function(){if(!t.sourceUpdater_.hasCreatedSourceBuffers())return t.tryToCreateSourceBuffers_();var e=t.getCodecsOrExclude_();e&&t.sourceUpdater_.addOrChangeSourceBuffers(e)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",(function(){t.triggeredFmp4Usage||(t.tech_.trigger({type:"usage",name:"vhs-fmp4"}),t.tech_.trigger({type:"usage",name:"hls-fmp4"}),t.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("fmp4",(function(){t.triggeredFmp4Usage||(t.tech_.trigger({type:"usage",name:"vhs-fmp4"}),t.tech_.trigger({type:"usage",name:"hls-fmp4"}),t.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("ended",(function(){t.logger_("audioSegmentLoader ended"),t.onEndOfStream()}))},i.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},i.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},i.smoothQualityChange_=function(t){void 0===t&&(t=this.selectPlaylist()),t!==this.masterPlaylistLoader_.media()&&(this.switchMedia_(t,"smooth-quality"),this.mainSegmentLoader_.resetLoader())},i.fastQualityChange_=function(t){var e=this;void 0===t&&(t=this.selectPlaylist()),t!==this.masterPlaylistLoader_.media()?(this.switchMedia_(t,"fast-quality"),this.mainSegmentLoader_.resetEverything((function(){Xo.browser.IE_VERSION||Xo.browser.IS_EDGE?e.tech_.setCurrentTime(e.tech_.currentTime()+.04):e.tech_.setCurrentTime(e.tech_.currentTime())}))):this.logger_("skipping fastQualityChange because new media is same as old")},i.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var t=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<t.start(0)?this.tech_.setCurrentTime(t.end(t.length-1)):void 0}},i.setupFirstPlay=function(){var t=this,e=this.masterPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList){var i=this.seekable();if(!i.length)return!1;if(Xo.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",(function(){t.trigger("firstplay"),t.tech_.setCurrentTime(i.end(0)),t.hasPlayed_=!0})),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(i.end(0))}return this.hasPlayed_=!0,this.load(),!0},i.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var t=this.tech_.play();"undefined"!==typeof t&&"function"===typeof t.then&&t.then(null,(function(t){}))}this.trigger("sourceopen")},i.handleSourceEnded_=function(){if(this.inbandTextTracks_.metadataTrack_){var t=this.inbandTextTracks_.metadataTrack_.cues;if(t&&t.length){var e=this.duration();t[t.length-1].endTime=isNaN(e)||Math.abs(e)===1/0?Number.MAX_VALUE:e}}},i.handleDurationChange_=function(){this.tech_.trigger("durationchange")},i.onEndOfStream=function(){var t=this.mainSegmentLoader_.ended_;this.mediaTypes_.AUDIO.activePlaylistLoader&&(t=!this.mainSegmentLoader_.currentMediaInfo_||this.mainSegmentLoader_.currentMediaInfo_.hasVideo?t&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_),t&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},i.stuckAtPlaylistEnd_=function(t){var e=this.seekable();if(!e.length)return!1;var i=this.syncController_.getExpiredTime(t,this.duration());if(null===i)return!1;var n=fc.Playlist.playlistEnd(t,i),r=this.tech_.currentTime(),s=this.tech_.buffered();if(!s.length)return n-r<=wl;var a=s.end(s.length-1);return a-r<=wl&&n-a<=wl},i.blacklistCurrentPlaylist=function(t,e){void 0===t&&(t={});var i=t.playlist||this.masterPlaylistLoader_.media();if(e=e||t.blacklistDuration||this.blacklistDuration,!i)return this.error=t,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));var n=this.masterPlaylistLoader_.master.playlists,r=n.filter(Wl),s=1===r.length&&r[0]===i;if(1===n.length&&e!==1/0)return Xo.log.warn("Problem encountered with playlist "+i.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(s);if(s){var a=!1;n.forEach((function(t){if(t!==i){var e=t.excludeUntil;"undefined"!==typeof e&&e!==1/0&&(a=!0,delete t.excludeUntil)}})),a&&(Xo.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}i.excludeUntil=Date.now()+1e3*e,t.reason&&(i.lastExcludeReason_=t.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var o=this.selectPlaylist();if(!o)return this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error");var l=t.internal?this.logger_:Xo.log.warn,u=t.message?" "+t.message:"";l((t.internal?"Internal problem":"Problem")+" encountered with playlist "+i.id+"."+u+" Switching to playlist "+o.id+"."),o.attributes.AUDIO!==i.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),o.attributes.SUBTITLES!==i.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var h=o.targetDuration/2*1e3||5e3,c="number"===typeof o.lastRequest&&Date.now()-o.lastRequest<=h;return this.switchMedia_(o,"exclude",s||c)},i.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},i.delegateLoaders_=function(t,e){var i=this,n=[],r="all"===t;(r||"main"===t)&&n.push(this.masterPlaylistLoader_);var s=[];(r||"audio"===t)&&s.push("AUDIO"),(r||"subtitle"===t)&&(s.push("CLOSED-CAPTIONS"),s.push("SUBTITLES")),s.forEach((function(t){var e=i.mediaTypes_[t]&&i.mediaTypes_[t].activePlaylistLoader;e&&n.push(e)})),["main","audio","subtitle"].forEach((function(e){var r=i[e+"SegmentLoader_"];!r||t!==e&&"all"!==t||n.push(r)})),n.forEach((function(t){return e.forEach((function(e){"function"===typeof t[e]&&t[e]()}))}))},i.setCurrentTime=function(t){var e=El(this.tech_.buffered(),t);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?e&&e.length?t:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0},i.duration=function(){if(!this.masterPlaylistLoader_)return 0;var t=this.masterPlaylistLoader_.media();return t?t.endList?this.mediaSource?this.mediaSource.duration:fc.Playlist.duration(t):1/0:0},i.seekable=function(){return this.seekable_},i.onSyncInfoUpdate_=function(){var t;if(this.masterPlaylistLoader_){var e=this.masterPlaylistLoader_.media();if(e){var i=this.syncController_.getExpiredTime(e,this.duration());if(null!==i){var n=this.masterPlaylistLoader_.master,r=fc.Playlist.seekable(e,i,fc.Playlist.liveEdgeDelay(n,e));if(0!==r.length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(e=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),i=this.syncController_.getExpiredTime(e,this.duration()),null===i)return;if(t=fc.Playlist.seekable(e,i,fc.Playlist.liveEdgeDelay(n,e)),0===t.length)return}var s,a;this.seekable_&&this.seekable_.length&&(s=this.seekable_.end(0),a=this.seekable_.start(0)),t?t.start(0)>r.end(0)||r.start(0)>t.end(0)?this.seekable_=r:this.seekable_=Xo.createTimeRanges([[t.start(0)>r.start(0)?t.start(0):r.start(0),t.end(0)<r.end(0)?t.end(0):r.end(0)]]):this.seekable_=r,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===s&&this.seekable_.start(0)===a||(this.logger_("seekable updated ["+Ml(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},i.updateDuration=function(t){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,t),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(t){var e=this.seekable();if(!e.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<e.end(e.length-1))&&this.sourceUpdater_.setDuration(e.end(e.length-1))}else{var i=this.tech_.buffered(),n=fc.Playlist.duration(this.masterPlaylistLoader_.media());i.length>0&&(n=Math.max(n,i.end(i.length-1))),this.mediaSource.duration!==n&&this.sourceUpdater_.setDuration(n)}},i.dispose=function(){var t=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach((function(e){var i=t.mediaTypes_[e].groups;for(var n in i)i[n].forEach((function(t){t.playlistLoader&&t.playlistLoader.dispose()}))})),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},i.master=function(){return this.masterPlaylistLoader_.master},i.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},i.areMediaTypesKnown_=function(){var t=!!this.mediaTypes_.AUDIO.activePlaylistLoader;return!(!this.mainSegmentLoader_.currentMediaInfo_||t&&!this.audioSegmentLoader_.currentMediaInfo_)},i.getCodecsOrExclude_=function(){var t=this,e={main:this.mainSegmentLoader_.currentMediaInfo_||{},audio:this.audioSegmentLoader_.currentMediaInfo_||{}};e.video=e.main;var i=xh(this.master(),this.media()),n={},r=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(n.video=i.video||e.main.videoCodec||et),e.main.isMuxed&&(n.video+=","+(i.audio||e.main.audioCodec||tt)),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||r)&&(n.audio=i.audio||e.main.audioCodec||e.audio.audioCodec||tt,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),n.audio||n.video){var s,a=function(t,e){return t?Q(e):J(e)},o={};if(["video","audio"].forEach((function(t){if(n.hasOwnProperty(t)&&!a(e[t].isFmp4,n[t])){var i=e[t].isFmp4?"browser":"muxer";o[i]=o[i]||[],o[i].push(n[t]),"audio"===t&&(s=i)}})),r&&s&&this.media().attributes.AUDIO){var l=this.media().attributes.AUDIO;this.master().playlists.forEach((function(e){var i=e.attributes&&e.attributes.AUDIO;i===l&&e!==t.media()&&(e.excludeUntil=1/0)})),this.logger_("excluding audio group "+l+" as "+s+' does not support codec(s): "'+n.audio+'"')}if(!Object.keys(o).length){if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var u=[];if(["video","audio"].forEach((function(e){var i=($(t.sourceUpdater_.codecs[e]||"")[0]||{}).type,r=($(n[e]||"")[0]||{}).type;i&&r&&i.toLowerCase()!==r.toLowerCase()&&u.push('"'+t.sourceUpdater_.codecs[e]+'" -> "'+n[e]+'"')})),u.length)return void this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+u.join(", ")+".",blacklistDuration:1/0,internal:!0})}return n}var h=Object.keys(o).reduce((function(t,e){return t&&(t+=", "),t+=e+' does not support codec(s): "'+o[e].join(",")+'"',t}),"")+".";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:h,blacklistDuration:1/0})}else this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0})},i.tryToCreateSourceBuffers_=function(){if("open"===this.mediaSource.readyState&&!this.sourceUpdater_.hasCreatedSourceBuffers()&&this.areMediaTypesKnown_()){var t=this.getCodecsOrExclude_();if(t){this.sourceUpdater_.createSourceBuffers(t);var e=[t.video,t.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(e)}}},i.excludeUnsupportedVariants_=function(){var t=this,e=this.master().playlists,i=[];Object.keys(e).forEach((function(n){var r=e[n];if(-1===i.indexOf(r.id)){i.push(r.id);var s=xh(t.master,r),a=[];!s.audio||J(s.audio)||Q(s.audio)||a.push("audio codec "+s.audio),!s.video||J(s.video)||Q(s.video)||a.push("video codec "+s.video),s.text&&"stpp.ttml.im1t"===s.text&&a.push("text codec "+s.text),a.length&&(r.excludeUntil=1/0,t.logger_("excluding "+r.id+" for unsupported: "+a.join(", ")))}}))},i.excludeIncompatibleVariants_=function(t){var e=this,i=[],n=this.master().playlists,r=Ch($(t)),s=kh(r),a=r.video&&$(r.video)[0]||null,o=r.audio&&$(r.audio)[0]||null;Object.keys(n).forEach((function(t){var r=n[t];if(-1===i.indexOf(r.id)&&r.excludeUntil!==1/0){i.push(r.id);var l=[],u=xh(e.masterPlaylistLoader_.master,r),h=kh(u);if(u.audio||u.video){if(h!==s&&l.push('codec count "'+h+'" !== "'+s+'"'),!e.sourceUpdater_.canChangeType()){var c=u.video&&$(u.video)[0]||null,d=u.audio&&$(u.audio)[0]||null;c&&a&&c.type.toLowerCase()!==a.type.toLowerCase()&&l.push('video codec "'+c.type+'" !== "'+a.type+'"'),d&&o&&d.type.toLowerCase()!==o.type.toLowerCase()&&l.push('audio codec "'+d.type+'" !== "'+o.type+'"')}l.length&&(r.excludeUntil=1/0,e.logger_("blacklisting "+r.id+": "+l.join(" && ")))}}}))},i.updateAdCues_=function(t){var e=0,i=this.seekable();i.length&&(e=i.start(0)),Ic(t,this.cueTagsTrack_,e)},i.goalBufferLength=function(){var t=this.tech_.currentTime(),e=ju.GOAL_BUFFER_LENGTH,i=ju.GOAL_BUFFER_LENGTH_RATE,n=Math.max(e,ju.MAX_GOAL_BUFFER_LENGTH);return Math.min(e+t*i,n)},i.bufferLowWaterLine=function(){var t=this.tech_.currentTime(),e=ju.BUFFER_LOW_WATER_LINE,i=ju.BUFFER_LOW_WATER_LINE_RATE,n=Math.max(e,ju.MAX_BUFFER_LOW_WATER_LINE),r=Math.max(e,ju.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(e+t*i,this.experimentalBufferBasedABR?r:n)},i.bufferHighWaterLine=function(){return ju.BUFFER_HIGH_WATER_LINE},e}(Xo.EventTarget),nd=function(t,e,i){return function(n){var r=t.master.playlists[e],s=Gl(r),a=Wl(r);return"undefined"===typeof n?a:(n?delete r.disabled:r.disabled=!0,n===a||s||(i(),n?t.trigger("renditionenabled"):t.trigger("renditiondisabled")),n)}},rd=function(t,e,i){var n=t.masterPlaylistController_,r=t.options_.smoothQualityChange,s=r?"smooth":"fast",a=n[s+"QualityChange_"].bind(n);if(e.attributes){var o=e.attributes.RESOLUTION;this.width=o&&o.width,this.height=o&&o.height,this.bandwidth=e.attributes.BANDWIDTH}this.codecs=xh(n.master(),e),this.playlist=e,this.id=i,this.enabled=nd(t.playlists,e.id,a)},sd=function(t){t.representations=function(){var e=t.masterPlaylistController_.master(),i=tu(e)?t.masterPlaylistController_.getAudioTrackPlaylists_():e.playlists;return i?i.filter((function(t){return!Gl(t)})).map((function(e,i){return new rd(t,e,e.id)})):[]}},ad=["seeking","seeked","pause","playing","error"],od=function(t){var e=t.buffered,i=t.targetDuration,n=t.currentTime;return!!e.length&&(!(e.end(0)-e.start(0)<2*i)&&(!(n>e.start(0))&&e.start(0)-n<i))},ld=function(){function t(t){var e=this;this.masterPlaylistController_=t.masterPlaylistController,this.tech_=t.tech,this.seekable=t.seekable,this.allowSeeksWithinUnsafeLiveWindow=t.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=t.liveRangeSafeTimeDelta,this.media=t.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=el("PlaybackWatcher"),this.logger_("initialize");var i=function(){return e.monitorCurrentTime_()},n=function(){return e.monitorCurrentTime_()},r=function(){return e.techWaiting_()},a=function(){return e.cancelTimer_()},o=function(){return e.fixesBadSeeks_()},l=this.masterPlaylistController_,u=["main","subtitle","audio"],h={};u.forEach((function(t){h[t]={reset:function(){return e.resetSegmentDownloads_(t)},updateend:function(){return e.checkSegmentDownloads_(t)}},l[t+"SegmentLoader_"].on("appendsdone",h[t].updateend),l[t+"SegmentLoader_"].on("playlistupdate",h[t].reset),e.tech_.on(["seeked","seeking"],h[t].reset)})),this.tech_.on("seekablechanged",o),this.tech_.on("waiting",r),this.tech_.on(ad,a),this.tech_.on("canplay",n),this.tech_.one("play",i),this.dispose=function(){e.logger_("dispose"),e.tech_.off("seekablechanged",o),e.tech_.off("waiting",r),e.tech_.off(ad,a),e.tech_.off("canplay",n),e.tech_.off("play",i),u.forEach((function(t){l[t+"SegmentLoader_"].off("appendsdone",h[t].updateend),l[t+"SegmentLoader_"].off("playlistupdate",h[t].reset),e.tech_.off(["seeked","seeking"],h[t].reset)})),e.checkCurrentTimeTimeout_&&s.a.clearTimeout(e.checkCurrentTimeTimeout_),e.cancelTimer_()}}var e=t.prototype;return e.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&s.a.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=s.a.setTimeout(this.monitorCurrentTime_.bind(this),250)},e.resetSegmentDownloads_=function(t){var e=this.masterPlaylistController_[t+"SegmentLoader_"];this[t+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+t+" loader"),this[t+"StalledDownloads_"]=0,this[t+"Buffered_"]=e.buffered_()},e.checkSegmentDownloads_=function(t){var e=this.masterPlaylistController_,i=e[t+"SegmentLoader_"],n=i.buffered_(),r=Ol(this[t+"Buffered_"],n);this[t+"Buffered_"]=n,r?this.resetSegmentDownloads_(t):(this[t+"StalledDownloads_"]++,this.logger_("found #"+this[t+"StalledDownloads_"]+" "+t+" appends that did not increase buffer (possible stalled download)",{playlistId:i.playlist_&&i.playlist_.id,buffered:Il(n)}),this[t+"StalledDownloads_"]<10||(this.logger_(t+" loader stalled download exclusion"),this.resetSegmentDownloads_(t),this.tech_.trigger({type:"usage",name:"vhs-"+t+"-download-exclusion"}),"subtitle"!==t&&e.blacklistCurrentPlaylist({message:"Excessive "+t+" segment downloading detected."},1/0)))},e.checkCurrentTime_=function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var t=this.tech_.currentTime(),e=this.tech_.buffered();if(this.lastRecordedTime===t&&(!e.length||t+wl>=e.end(e.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&t===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):t===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=t)}},e.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},e.fixesBadSeeks_=function(){var t=this.tech_.seeking();if(!t)return!1;var e,i=this.seekable(),n=this.tech_.currentTime(),r=this.afterSeekableWindow_(i,n,this.media(),this.allowSeeksWithinUnsafeLiveWindow);if(r){var s=i.end(i.length-1);e=s}if(this.beforeSeekableWindow_(i,n)){var a=i.start(0);e=a+(a===i.end(0)?0:wl)}if("undefined"!==typeof e)return this.logger_("Trying to seek outside of seekable at time "+n+" with seekable range "+Ml(i)+". Seeking to "+e+"."),this.tech_.setCurrentTime(e),!0;var o=this.tech_.buffered();return!!od({buffered:o,targetDuration:this.media().targetDuration,currentTime:n})&&(e=o.start(0)+wl,this.logger_("Buffered region starts ("+o.start(0)+")  just beyond seek point ("+n+"). Seeking to "+e+"."),this.tech_.setCurrentTime(e),!0)},e.waiting_=function(){if(!this.techWaiting_()){var t=this.tech_.currentTime(),e=this.tech_.buffered(),i=El(e,t);return i.length&&t+3<=i.end(0)?(this.cancelTimer_(),this.tech_.setCurrentTime(t),this.logger_("Stopped at "+t+" while inside a buffered region ["+i.start(0)+" -> "+i.end(0)+"]. Attempting to resume playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}},e.techWaiting_=function(){var t=this.seekable(),e=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(t,e)){var i=t.end(t.length-1);return this.logger_("Fell out of live window at time "+e+". Seeking to live point (seekable end) "+i),this.cancelTimer_(),this.tech_.setCurrentTime(i),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var n=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,r=this.tech_.buffered(),s=this.videoUnderflow_({audioBuffered:n.audioBuffered(),videoBuffered:n.videoBuffered(),currentTime:e});if(s)return this.cancelTimer_(),this.tech_.setCurrentTime(e),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var a=Cl(r,e);if(a.length>0){var o=a.start(0)-e;return this.logger_("Stopped at "+e+", setting timer for "+o+", seeking to "+a.start(0)),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*o,e),!0}return!1},e.afterSeekableWindow_=function(t,e,i,n){if(void 0===n&&(n=!1),!t.length)return!1;var r=t.end(t.length-1)+wl,s=!i.endList;return s&&n&&(r=t.end(t.length-1)+3*i.targetDuration),e>r},e.beforeSeekableWindow_=function(t,e){return!!(t.length&&t.start(0)>0&&e<t.start(0)-this.liveRangeSafeTimeDelta)},e.videoUnderflow_=function(t){var e=t.videoBuffered,i=t.audioBuffered,n=t.currentTime;if(e){var r;if(e.length&&i.length){var s=El(e,n-3),a=El(e,n),o=El(i,n);o.length&&!a.length&&s.length&&(r={start:s.end(0),end:o.end(0)})}else{var l=Cl(e,n);l.length||(r=this.gapFromVideoUnderflow_(e,n))}return!!r&&(this.logger_("Encountered a gap in video from "+r.start+" to "+r.end+". Seeking to current time "+n),!0)}},e.skipTheGap_=function(t){var e=this.tech_.buffered(),i=this.tech_.currentTime(),n=Cl(e,i);this.cancelTimer_(),0!==n.length&&i===t&&(this.logger_("skipTheGap_:","currentTime:",i,"scheduled currentTime:",t,"nextRange start:",n.start(0)),this.tech_.setCurrentTime(n.start(0)+Tl),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},e.gapFromVideoUnderflow_=function(t,e){for(var i=kl(t),n=0;n<i.length;n++){var r=i.start(n),s=i.end(n);if(e-r<4&&e-r>2)return{start:r,end:s}}return null},t}(),ud={errorInterval:30,getSource:function(t){var e=this.tech({IWillNotUseThisInPlugins:!0}),i=e.currentSource_||this.currentSource();return t(i)}},hd=function t(e,i){var n=0,r=0,s=Xo.mergeOptions(ud,i);e.ready((function(){e.trigger({type:"usage",name:"vhs-error-reload-initialized"}),e.trigger({type:"usage",name:"hls-error-reload-initialized"})}));var a=function(){r&&e.currentTime(r)},o=function(t){null!==t&&void 0!==t&&(r=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",a),e.src(t),e.trigger({type:"usage",name:"vhs-error-reload"}),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},l=function(){return Date.now()-n<1e3*s.errorInterval?(e.trigger({type:"usage",name:"vhs-error-reload-canceled"}),void e.trigger({type:"usage",name:"hls-error-reload-canceled"})):s.getSource&&"function"===typeof s.getSource?(n=Date.now(),s.getSource.call(e,o)):void Xo.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},u=function t(){e.off("loadedmetadata",a),e.off("error",l),e.off("dispose",t)},h=function(i){u(),t(e,i)};e.on("error",l),e.on("dispose",u),e.reloadSourceOnError=h},cd=function(t){hd(this,t)},dd="2.8.2",pd="5.11.0",fd="0.16.0",md="4.7.0",gd="3.1.2",_d={PlaylistLoader:bl,Playlist:eu,utils:_u,STANDARD_PLAYLIST_SELECTOR:Dh,INITIAL_PLAYLIST_SELECTOR:jh,lastBandwidthSelector:Dh,movingAverageBandwidthSelector:Nh,comparePlaylistBandwidth:Ph,comparePlaylistResolution:Lh,xhr:su()};Object.keys(ju).forEach((function(t){Object.defineProperty(_d,t,{get:function(){return Xo.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),ju[t]},set:function(e){Xo.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),"number"!==typeof e||e<0?Xo.log.warn("value of Vhs."+t+" must be greater than or equal to 0"):ju[t]=e}})}));var vd="videojs-vhs",yd=function(t,e){for(var i=e.media(),n=-1,r=0;r<t.length;r++)if(t[r].id===i.id){n=r;break}t.selectedIndex_=n,t.trigger({selectedIndex:n,type:"change"})},bd=function(t,e){e.representations().forEach((function(e){t.addQualityLevel(e)})),yd(t,e.playlists)};_d.canPlaySource=function(){return Xo.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Td=function(t,e,i){if(!t)return t;var n={};e&&e.attributes&&e.attributes.CODECS&&(n=Ch($(e.attributes.CODECS))),i&&i.attributes&&i.attributes.CODECS&&(n.audio=i.attributes.CODECS);var r=Y(n.video),s=Y(n.audio),a={};for(var o in t)a[o]={},s&&(a[o].audioContentType=s),r&&(a[o].videoContentType=r),e.contentProtection&&e.contentProtection[o]&&e.contentProtection[o].pssh&&(a[o].pssh=e.contentProtection[o].pssh),"string"===typeof t[o]&&(a[o].url=t[o]);return Xo.mergeOptions(t,a)},wd=function(t,e){return t.reduce((function(t,i){if(!i.contentProtection)return t;var n=e.reduce((function(t,e){var n=i.contentProtection[e];return n&&n.pssh&&(t[e]={pssh:n.pssh}),t}),{});return Object.keys(n).length&&t.push(n),t}),[])},Sd=function(t){var e=t.player,i=t.sourceKeySystems,n=t.audioMedia,r=t.mainPlaylists;if(!e.eme.initializeMediaKeys)return Promise.resolve();var s=n?r.concat([n]):r,a=wd(s,Object.keys(i)),o=[],l=[];return a.forEach((function(t){l.push(new Promise((function(t,i){e.tech_.one("keysessioncreated",t)}))),o.push(new Promise((function(i,n){e.eme.initializeMediaKeys({keySystems:t},(function(t){t?n(t):i()}))})))})),Promise.race([Promise.all(o),Promise.race(l)])},Ed=function(t){var e=t.player,i=t.sourceKeySystems,n=t.media,r=t.audioMedia,s=Td(i,n,r);return!!s&&(e.currentSource().keySystems=s,!(s&&!e.eme)||(Xo.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1))},Cd=function(){if(!s.a.localStorage)return null;var t=s.a.localStorage.getItem(vd);if(!t)return null;try{return JSON.parse(t)}catch(e){return null}},kd=function(t){if(!s.a.localStorage)return!1;var e=Cd();e=e?Xo.mergeOptions(e,t):t;try{s.a.localStorage.setItem(vd,JSON.stringify(e))}catch(i){return!1}return e},xd=function(t){return 0===t.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(t.substring(t.indexOf(",")+1)):t};_d.supportsNativeHls=function(){if(!o.a||!o.a.createElement)return!1;var t=o.a.createElement("video");if(!Xo.getTech("Html5").isSupported())return!1;var e=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return e.some((function(e){return/maybe|probably/i.test(t.canPlayType(e))}))}(),_d.supportsNativeDash=function(){return!!(o.a&&o.a.createElement&&Xo.getTech("Html5").isSupported())&&/maybe|probably/i.test(o.a.createElement("video").canPlayType("application/dash+xml"))}(),_d.supportsTypeNatively=function(t){return"hls"===t?_d.supportsNativeHls:"dash"===t&&_d.supportsNativeDash},_d.isSupported=function(){return Xo.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Md=Xo.getComponent("Component"),Ad=function(t){function e(e,i,n){var r;if(r=t.call(this,i,Xo.mergeOptions(n.hls,n.vhs))||this,n.hls&&Object.keys(n.hls).length&&Xo.log.warn("Using hls options is deprecated. Use vhs instead."),"number"===typeof n.initialBandwidth&&(r.options_.bandwidth=n.initialBandwidth),r.logger_=el("VhsHandler"),i.options_&&i.options_.playerId){var s=Xo(i.options_.playerId);s.hasOwnProperty("hls")||Object.defineProperty(s,"hls",{get:function(){return Xo.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),i.trigger({type:"usage",name:"hls-player-access"}),c()(r)},configurable:!0}),s.hasOwnProperty("vhs")||Object.defineProperty(s,"vhs",{get:function(){return Xo.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),i.trigger({type:"usage",name:"vhs-player-access"}),c()(r)},configurable:!0}),s.hasOwnProperty("dash")||Object.defineProperty(s,"dash",{get:function(){return Xo.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),c()(r)},configurable:!0}),r.player_=s}if(r.tech_=i,r.source_=e,r.stats={},r.ignoreNextSeekingEvent_=!1,r.setOptions_(),r.options_.overrideNative&&i.overrideNativeAudioTracks&&i.overrideNativeVideoTracks)i.overrideNativeAudioTracks(!0),i.overrideNativeVideoTracks(!0);else if(r.options_.overrideNative&&(i.featuresNativeVideoTracks||i.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return r.on(o.a,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],(function(t){var e=o.a.fullscreenElement||o.a.webkitFullscreenElement||o.a.mozFullScreenElement||o.a.msFullscreenElement;e&&e.contains(r.tech_.el())&&r.masterPlaylistController_.smoothQualityChange_()})),r.on(r.tech_,"seeking",(function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())})),r.on(r.tech_,"error",(function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()})),r.on(r.tech_,"play",r.play),r}p()(e,t);var i=e.prototype;return i.setOptions_=function(){var t=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=!1!==this.options_.handleManifestRedirects,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage="undefined"!==typeof this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,"number"!==typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!==typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var e=Cd();e&&e.bandwidth&&(this.options_.bandwidth=e.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),e&&e.throughput&&(this.options_.throughput=e.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!==typeof this.options_.bandwidth&&(this.options_.bandwidth=ju.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===ju.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS"].forEach((function(e){"undefined"!==typeof t.source_[e]&&(t.options_[e]=t.source_[e])})),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},i.src=function(t,e){var i=this;if(t){this.setOptions_(),this.options_.src=xd(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=_d,this.options_.sourceType=rt(e),this.options_.seekTo=function(t){i.tech_.setCurrentTime(t)},this.masterPlaylistController_=new id(this.options_);var n=Xo.mergeOptions({liveRangeSafeTimeDelta:wl},this.options_,{seekable:function(){return i.seekable()},media:function(){return i.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new ld(n),this.masterPlaylistController_.on("error",(function(){var t=Xo.players[i.tech_.options_.playerId],e=i.masterPlaylistController_.error;"object"!==typeof e||e.code?"string"===typeof e&&(e={message:e,code:3}):e.code=3,t.error(e)}));var r=this.options_.experimentalBufferBasedABR?_d.movingAverageBandwidthSelector(.55):_d.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):r.bind(this),this.masterPlaylistController_.selectInitialPlaylist=_d.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(t){this.masterPlaylistController_.selectPlaylist=t.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=t,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=t,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var t,e=1/(this.bandwidth||1);t=this.throughput>0?1/this.throughput:0;var i=Math.floor(1/(e+t));return i},set:function(){Xo.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return i.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return i.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return i.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return i.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return i.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return i.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return i.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return i.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return Il(i.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return i.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return i.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return i.tech_.name_},enumerable:!0},duration:{get:function(){return i.tech_.duration()},enumerable:!0},master:{get:function(){return i.playlists.master},enumerable:!0},playerDimensions:{get:function(){return i.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Il(i.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return i.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",(function(){i.options_.useBandwidthFromLocalStorage&&kd({bandwidth:i.bandwidth,throughput:Math.round(i.throughput)})})),this.masterPlaylistController_.on("selectedinitialmedia",(function(){sd(i)})),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",(function(){i.setupEme_()})),this.on(this.masterPlaylistController_,"progress",(function(){this.tech_.trigger("progress")})),this.on(this.masterPlaylistController_,"firstplay",(function(){this.ignoreNextSeekingEvent_=!0})),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=s.a.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},i.setupEme_=function(){var t=this,e=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,i=Ed({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});11!==Xo.browser.IE_VERSION&&i?(this.logger_("waiting for EME key session creation"),Sd({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.master.playlists}).then((function(){t.logger_("created EME key session"),t.masterPlaylistController_.sourceUpdater_.initializedEme()}))["catch"]((function(e){t.logger_("error while creating EME key session",e),t.player_.error({message:"Failed to initialize media keys for EME",code:3})}))):this.masterPlaylistController_.sourceUpdater_.initializedEme()},i.setupQualityLevels_=function(){var t=this,e=Xo.players[this.tech_.options_.playerId];e&&e.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=e.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",(function(){bd(t.qualityLevels_,t)})),this.playlists.on("mediachange",(function(){yd(t.qualityLevels_,t.playlists)})))},e.version=function(){return{"@videojs/http-streaming":dd,"mux.js":pd,"mpd-parser":fd,"m3u8-parser":md,"aes-decrypter":gd}},i.version=function(){return this.constructor.version()},i.canChangeType=function(){return Cc.canChangeType()},i.play=function(){this.masterPlaylistController_.play()},i.setCurrentTime=function(t){this.masterPlaylistController_.setCurrentTime(t)},i.duration=function(){return this.masterPlaylistController_.duration()},i.seekable=function(){return this.masterPlaylistController_.seekable()},i.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&s.a.URL.revokeObjectURL&&(s.a.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),t.prototype.dispose.call(this)},i.convertToProgramTime=function(t,e){return Cu({playlist:this.masterPlaylistController_.media(),time:t,callback:e})},i.seekToProgramTime=function(t,e,i,n){return void 0===i&&(i=!0),void 0===n&&(n=2),ku({programTime:t,playlist:this.masterPlaylistController_.media(),retryCount:n,pauseAfterSeek:i,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:e})},e}(Md),Id={name:"videojs-http-streaming",VERSION:dd,canHandleSource:function(t,e){void 0===e&&(e={});var i=Xo.mergeOptions(Xo.options,e);return Id.canPlayType(t.type,i)},handleSource:function(t,e,i){void 0===i&&(i={});var n=Xo.mergeOptions(Xo.options,i);return e.vhs=new Ad(t,e,n),Xo.hasOwnProperty("hls")||Object.defineProperty(e,"hls",{get:function(){return Xo.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),e.vhs},configurable:!0}),e.vhs.xhr=su(),e.vhs.src(t.src,t.type),e.vhs},canPlayType:function(t,e){void 0===e&&(e={});var i=Xo.mergeOptions(Xo.options,e),n=i.vhs.overrideNative,r=void 0===n?!Xo.browser.IS_ANY_SAFARI:n,s=rt(t),a=s&&(!_d.supportsTypeNatively(s)||r);return a?"maybe":""}},Od=function(){return Q("avc1.4d400d,mp4a.40.2")};Od()&&Xo.getTech("Html5").registerSourceHandler(Id,0),Xo.VhsHandler=Ad,Object.defineProperty(Xo,"HlsHandler",{get:function(){return Xo.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),Ad},configurable:!0}),Xo.VhsSourceHandler=Id,Object.defineProperty(Xo,"HlsSourceHandler",{get:function(){return Xo.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),Id},configurable:!0}),Xo.Vhs=_d,Object.defineProperty(Xo,"Hls",{get:function(){return Xo.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),_d},configurable:!0}),Xo.use||(Xo.registerComponent("Hls",_d),Xo.registerComponent("Vhs",_d)),Xo.options.vhs=Xo.options.vhs||{},Xo.options.hls=Xo.options.hls||{},Xo.registerPlugin?Xo.registerPlugin("reloadSourceOnError",cd):Xo.plugin("reloadSourceOnError",cd);e["a"]=Xo},f181:function(t,e,i){"use strict";e.__esModule=!0;var n=i("61b0"),r=u(n),s=i("52b4"),a=u(s),o=i("3afa"),l=u(o);function u(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function d(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p=function(t){function e(i,n){h(this,e);var r=c(this,t.call(this,i,n));return r.on(i,"error",r.open),r}return d(e,t),e.prototype.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},e.prototype.content=function(){var t=this.player().error();return t?this.localize(t.message):""},e}(a["default"]);p.prototype.options_=(0,l["default"])(a["default"].prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),r["default"].registerComponent("ErrorDisplay",p),e["default"]=p},f545:function(t,e,i){"use strict";e.__esModule=!0,e.throttle=e.bind=void 0;var n=i("d8e3");e.bind=function(t,e,i){e.guid||(e.guid=(0,n.newGUID)());var r=function(){return e.apply(t,arguments)};return r.guid=i?i+"_"+e.guid:e.guid,r},e.throttle=function(t,e){var i=Date.now(),n=function(){var n=Date.now();n-i>=e&&(t.apply(void 0,arguments),i=n)};return n}},f7fe:function(t,e,i){"use strict";e.__esModule=!0;var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=i("320e"),s=o(r),a=i("cff3");function o(t){return t&&t.__esModule?t:{default:t}}var l=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof e?"undefined":n(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.super_=e)},u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=function(){t.apply(this,arguments)},n={};for(var r in(0,a.isObject)(e)?("function"===typeof e.init&&(s["default"].warn("Constructor logic via init() is deprecated; please use constructor() instead."),e.constructor=e.init),e.constructor!==Object.prototype.constructor&&(i=e.constructor),n=e):"function"===typeof e&&(i=e),l(i,t),n)n.hasOwnProperty(r)&&(i.prototype[r]=n[r]);return i};e["default"]=u},f97d:function(t,e){var i={"":!0,up:!0};function n(t){if("string"!==typeof t)return!1;var e=i[t.toLowerCase()];return!!e&&t.toLowerCase()}function r(t){return"number"===typeof t&&t>=0&&t<=100}function s(){var t=100,e=3,i=0,s=100,a=0,o=100,l="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!r(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return e},set:function(t){if("number"!==typeof t)throw new TypeError("Lines must be set to a number.");e=t}},regionAnchorY:{enumerable:!0,get:function(){return s},set:function(t){if(!r(t))throw new Error("RegionAnchorX must be between 0 and 100.");s=t}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(t){if(!r(t))throw new Error("RegionAnchorY must be between 0 and 100.");i=t}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(t){if(!r(t))throw new Error("ViewportAnchorY must be between 0 and 100.");o=t}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(t){if(!r(t))throw new Error("ViewportAnchorX must be between 0 and 100.");a=t}},scroll:{enumerable:!0,get:function(){return l},set:function(t){var e=n(t);!1===e?console.warn("Scroll: an invalid or illegal string was specified."):l=e}}})}t.exports=s},faa1:function(t,e,i){"use strict";var n,r="object"===typeof Reflect?Reflect:null,s=r&&"function"===typeof r.apply?r.apply:function(t,e,i){return Function.prototype.apply.call(t,e,i)};function a(t){console&&console.warn&&console.warn(t)}n=r&&"function"===typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var o=Number.isNaN||function(t){return t!==t};function l(){l.init.call(this)}t.exports=l,t.exports.once=b,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var u=10;function h(t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?l.defaultMaxListeners:t._maxListeners}function d(t,e,i,n){var r,s,o;if(h(i),s=t._events,void 0===s?(s=t._events=Object.create(null),t._eventsCount=0):(void 0!==s.newListener&&(t.emit("newListener",e,i.listener?i.listener:i),s=t._events),o=s[e]),void 0===o)o=s[e]=i,++t._eventsCount;else if("function"===typeof o?o=s[e]=n?[i,o]:[o,i]:n?o.unshift(i):o.push(i),r=c(t),r>0&&o.length>r&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=o.length,a(l)}return t}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(t,e,i){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:i},r=p.bind(n);return r.listener=i,n.wrapFn=r,r}function m(t,e,i){var n=t._events;if(void 0===n)return[];var r=n[e];return void 0===r?[]:"function"===typeof r?i?[r.listener||r]:[r]:i?y(r):_(r,r.length)}function g(t){var e=this._events;if(void 0!==e){var i=e[t];if("function"===typeof i)return 1;if(void 0!==i)return i.length}return 0}function _(t,e){for(var i=new Array(e),n=0;n<e;++n)i[n]=t[n];return i}function v(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function y(t){for(var e=new Array(t.length),i=0;i<e.length;++i)e[i]=t[i].listener||t[i];return e}function b(t,e){return new Promise((function(i,n){function r(i){t.removeListener(e,s),n(i)}function s(){"function"===typeof t.removeListener&&t.removeListener("error",r),i([].slice.call(arguments))}w(t,e,s,{once:!0}),"error"!==e&&T(t,r,{once:!0})}))}function T(t,e,i){"function"===typeof t.on&&w(t,"error",e,i)}function w(t,e,i,n){if("function"===typeof t.on)n.once?t.once(e,i):t.on(e,i);else{if("function"!==typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function r(s){n.once&&t.removeEventListener(e,r),i(s)}))}}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!==typeof t||t<0||o(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),l.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(t){if("number"!==typeof t||t<0||o(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},l.prototype.getMaxListeners=function(){return c(this)},l.prototype.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e.push(arguments[i]);var n="error"===t,r=this._events;if(void 0!==r)n=n&&void 0===r.error;else if(!n)return!1;if(n){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var l=r[t];if(void 0===l)return!1;if("function"===typeof l)s(l,this,e);else{var u=l.length,h=_(l,u);for(i=0;i<u;++i)s(h[i],this,e)}return!0},l.prototype.addListener=function(t,e){return d(this,t,e,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(t,e){return d(this,t,e,!0)},l.prototype.once=function(t,e){return h(e),this.on(t,f(this,t,e)),this},l.prototype.prependOnceListener=function(t,e){return h(e),this.prependListener(t,f(this,t,e)),this},l.prototype.removeListener=function(t,e){var i,n,r,s,a;if(h(e),n=this._events,void 0===n)return this;if(i=n[t],void 0===i)return this;if(i===e||i.listener===e)0===--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,i.listener||e));else if("function"!==typeof i){for(r=-1,s=i.length-1;s>=0;s--)if(i[s]===e||i[s].listener===e){a=i[s].listener,r=s;break}if(r<0)return this;0===r?i.shift():v(i,r),1===i.length&&(n[t]=i[0]),void 0!==n.removeListener&&this.emit("removeListener",t,a||e)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(t){var e,i,n;if(i=this._events,void 0===i)return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[t]&&(0===--this._eventsCount?this._events=Object.create(null):delete i[t]),this;if(0===arguments.length){var r,s=Object.keys(i);for(n=0;n<s.length;++n)r=s[n],"removeListener"!==r&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=i[t],"function"===typeof e)this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},l.prototype.listeners=function(t){return m(this,t,!0)},l.prototype.rawListeners=function(t){return m(this,t,!1)},l.listenerCount=function(t,e){return"function"===typeof t.listenerCount?t.listenerCount(e):g.call(t,e)},l.prototype.listenerCount=g,l.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},fc20:function(t,e,i){"use strict";e.__esModule=!0;var n=i("e229"),r=h(n),s=i("4e2d"),a=u(s),o=i("9869"),l=h(o);function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function h(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function p(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t,e){for(var i=0;i<t.length;i++)e.id!==t[i].id&&(t[i].enabled=!1)},m=function(t){function e(){var i,n,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];c(this,e);for(var o=void 0,u=s.length-1;u>=0;u--)if(s[u].enabled){f(s,s[u]);break}if(a.IS_IE8){for(var h in o=l["default"].createElement("custom"),r["default"].prototype)"constructor"!==h&&(o[h]=r["default"].prototype[h]);for(var p in e.prototype)"constructor"!==p&&(o[p]=e.prototype[p])}return i=d(this,t.call(this,s,o)),o=i,o.changing_=!1,n=o,d(i,n)}return p(e,t),e.prototype.addTrack_=function(e){var i=this;e.enabled&&f(this,e),t.prototype.addTrack_.call(this,e),e.addEventListener&&e.addEventListener("enabledchange",(function(){i.changing_||(i.changing_=!0,f(i,e),i.changing_=!1,i.trigger("change"))}))},e.prototype.addTrack=function(t){this.addTrack_(t)},e.prototype.removeTrack=function(e){t.prototype.removeTrack_.call(this,e)},e}(r["default"]);e["default"]=m},fda2:function(t,e,i){},ff09:function(t,e,i){"use strict";e.__esModule=!0;var n=i("9869"),r=s(n);function s(t){return t&&t.__esModule?t:{default:t}}for(var a={},o=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],l=o[0],u=void 0,h=0;h<o.length;h++)if(o[h][1]in r["default"]){u=o[h];break}if(u)for(var c=0;c<u.length;c++)a[l[c]]=u[c];e["default"]=a},ff42:function(t,e,i){"use strict";e.__esModule=!0;var n=i("61b0"),r=s(n);function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(t){function e(){return a(this,e),o(this,t.apply(this,arguments))}return l(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},e}(r["default"]);r["default"].registerComponent("VolumeLevel",u),e["default"]=u},ffdf:function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return a}));var n=i("be09"),r=i.n(n),s=function(e){return r.a.atob?r.a.atob(e):t.from(e,"base64").toString("binary")};function a(t){for(var e=s(t),i=new Uint8Array(e.length),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i}}).call(this,i("b639").Buffer)}}]);
//# sourceMappingURL=chunk-69e6188c.cc6f8b96.js.map